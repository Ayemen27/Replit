;!function(){try { var e="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof global?global:"undefined"!=typeof window?window:"undefined"!=typeof self?self:{},n=(new e.Error).stack;n&&((e._debugIds|| (e._debugIds={}))[n]="7602e2a3-b96d-b00e-a4a5-4f121d5f396f")}catch(e){}}();
(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,394212,297631,50452,257865,e=>{"use strict";function t(e){var t,r,i,a=2;for("undefined"!=typeof Symbol&&(r=Symbol.asyncIterator,i=Symbol.iterator);a--;){if(r&&null!=(t=e[r]))return t.call(e);if(i&&null!=(t=e[i]))return new n(t.call(e));r="@@asyncIterator",i="@@iterator"}throw TypeError("Object is not async iterable")}function n(e){function t(e){if(Object(e)!==e)return Promise.reject(TypeError(e+" is not an object."));var t=e.done;return Promise.resolve(e.value).then(function(e){return{value:e,done:t}})}return(n=function(e){this.s=e,this.n=e.next}).prototype={s:null,n:null,next:function(){return t(this.n.apply(this.s,arguments))},return:function(e){var n=this.s.return;return void 0===n?Promise.resolve({value:e,done:!0}):t(n.apply(this.s,arguments))},throw:function(e){var n=this.s.return;return void 0===n?Promise.reject(e):t(n.apply(this.s,arguments))}},new n(e)}function r(e,t){for(var n in t){var r=t[n];r.configurable=r.enumerable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,n,r)}if(Object.getOwnPropertySymbols)for(var i=Object.getOwnPropertySymbols(t),a=0;a<i.length;a++){var p=i[a],r=t[p];r.configurable=r.enumerable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,p,r)}return e}e.s(["_",()=>t],394212),e.s(["_",()=>r],297631);var i,a,p=function(e){return crypto.getRandomValues(new Uint8Array(e))},o=function(e,t,n){var r=(2<<Math.log2(e.length-1))-1,i=-~(1.6*r*t/e.length);return function(){for(var a=arguments.length>0&&void 0!==arguments[0]?arguments[0]:t,p="";;)for(var o=n(i),T=0|i;T--;)if((p+=e[o[T]&r]||"").length>=a)return p}},T=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:21;return o(e,0|t,p)};e.s(["customAlphabet",()=>T],50452),(i=a||(a={}))[i.INTERNAL=0]="INTERNAL",i[i.SERVER=1]="SERVER",i[i.CLIENT=2]="CLIENT",i[i.PRODUCER=3]="PRODUCER",i[i.CONSUMER=4]="CONSUMER",e.s(["SpanKind",()=>a],257865)},208814,450128,297490,715359,539571,e=>{"use strict";function t(e){return Symbol.for(e)}var n,r,i=new function e(t){var n=this;n._currentContext=t?new Map(t):new Map,n.getValue=function(e){return n._currentContext.get(e)},n.setValue=function(t,r){var i=new e(n._currentContext);return i._currentContext.set(t,r),i},n.deleteValue=function(t){var r=new e(n._currentContext);return r._currentContext.delete(t),r}};e.s(["ROOT_CONTEXT",()=>i,"createContextKey",()=>t],450128);var a=function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,i,a=n.call(e),p=[];try{for(;(void 0===t||t-- >0)&&!(r=a.next()).done;)p.push(r.value)}catch(e){i={error:e}}finally{try{r&&!r.done&&(n=a.return)&&n.call(a)}finally{if(i)throw i.error}}return p},p=function(e,t,n){if(n||2==arguments.length)for(var r,i=0,a=t.length;i<a;i++)!r&&i in t||(r||(r=Array.prototype.slice.call(t,0,i)),r[i]=t[i]);return e.concat(r||Array.prototype.slice.call(t))},o=function(){function e(){}return e.prototype.active=function(){return i},e.prototype.with=function(e,t,n){for(var r=[],i=3;i<arguments.length;i++)r[i-3]=arguments[i];return t.call.apply(t,p([n],a(r),!1))},e.prototype.bind=function(e,t){return t},e.prototype.enable=function(){return this},e.prototype.disable=function(){return this},e}(),T=e.i(119468),s=("undefined"==typeof globalThis?"undefined":(0,T._)(globalThis))==="object"?globalThis:("undefined"==typeof self?"undefined":(0,T._)(self))==="object"?self:("undefined"==typeof window?"undefined":(0,T._)(window))==="object"?window:"object"===(0,T._)(e.g)?e.g:{},y="1.7.0",c=/^(\d+)\.(\d+)\.(\d+)(-(.+))?$/,l=function(e){var t=new Set([e]),n=new Set,r=e.match(c);if(!r)return function(){return!1};var i={major:+r[1],minor:+r[2],patch:+r[3],prerelease:r[4]};if(null!=i.prerelease)return function(t){return t===e};function a(e){return n.add(e),!1}return function(e){if(t.has(e))return!0;if(n.has(e))return!1;var r=e.match(c);if(!r)return a(e);var p={major:+r[1],minor:+r[2],patch:+r[3],prerelease:r[4]};if(null!=p.prerelease||i.major!==p.major)return a(e);if(0===i.major)return i.minor===p.minor&&i.patch<=p.patch?(t.add(e),!0):a(e);return i.minor<=p.minor?(t.add(e),!0):a(e)}}(y),u=Symbol.for("opentelemetry.js.api."+y.split(".")[0]);function E(e,t,n,r){void 0===r&&(r=!1);var i,a=s[u]=null!=(i=s[u])?i:{version:y};if(!r&&a[e]){var p=Error("@opentelemetry/api: Attempted duplicate registration of API: "+e);return n.error(p.stack||p.message),!1}if(a.version!==y){var p=Error("@opentelemetry/api: Registration of version v"+a.version+" for "+e+" does not match previously registered API v"+y);return n.error(p.stack||p.message),!1}return a[e]=t,n.debug("@opentelemetry/api: Registered a global for "+e+" v"+y+"."),!0}function d(e){var t,n,r=null==(t=s[u])?void 0:t.version;if(r&&l(r))return null==(n=s[u])?void 0:n[e]}function S(e,t){t.debug("@opentelemetry/api: Unregistering a global for "+e+" v"+y+".");var n=s[u];n&&delete n[e]}e.s(["getGlobal",()=>d,"registerGlobal",()=>E,"unregisterGlobal",()=>S],297490);var g=function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,i,a=n.call(e),p=[];try{for(;(void 0===t||t-- >0)&&!(r=a.next()).done;)p.push(r.value)}catch(e){i={error:e}}finally{try{r&&!r.done&&(n=a.return)&&n.call(a)}finally{if(i)throw i.error}}return p},O=function(e,t,n){if(n||2==arguments.length)for(var r,i=0,a=t.length;i<a;i++)!r&&i in t||(r||(r=Array.prototype.slice.call(t,0,i)),r[i]=t[i]);return e.concat(r||Array.prototype.slice.call(t))},_=function(){function e(e){this._namespace=e.namespace||"DiagComponentLogger"}return e.prototype.debug=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return I("debug",this._namespace,e)},e.prototype.error=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return I("error",this._namespace,e)},e.prototype.info=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return I("info",this._namespace,e)},e.prototype.warn=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return I("warn",this._namespace,e)},e.prototype.verbose=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return I("verbose",this._namespace,e)},e}();function I(e,t,n){var r=d("diag");if(r)return n.unshift(t),r[e].apply(r,O([],g(n),!1))}(r=n||(n={}))[r.NONE=0]="NONE",r[r.ERROR=30]="ERROR",r[r.WARN=50]="WARN",r[r.INFO=60]="INFO",r[r.DEBUG=70]="DEBUG",r[r.VERBOSE=80]="VERBOSE",r[r.ALL=9999]="ALL";var N=function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,i,a=n.call(e),p=[];try{for(;(void 0===t||t-- >0)&&!(r=a.next()).done;)p.push(r.value)}catch(e){i={error:e}}finally{try{r&&!r.done&&(n=a.return)&&n.call(a)}finally{if(i)throw i.error}}return p},b=function(e,t,n){if(n||2==arguments.length)for(var r,i=0,a=t.length;i<a;i++)!r&&i in t||(r||(r=Array.prototype.slice.call(t,0,i)),r[i]=t[i]);return e.concat(r||Array.prototype.slice.call(t))},A=function(){function e(){function e(e){return function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];var r=d("diag");if(r)return r[e].apply(r,b([],N(t),!1))}}var t=this;t.setLogger=function(e,r){if(void 0===r&&(r={logLevel:n.INFO}),e===t){var i,a,p,o=Error("Cannot use diag as the logger for itself. Please use a DiagLogger implementation like ConsoleDiagLogger or a custom implementation");return t.error(null!=(i=o.stack)?i:o.message),!1}"number"==typeof r&&(r={logLevel:r});var T=d("diag"),s=function(e,t){function r(n,r){var i=t[n];return"function"==typeof i&&e>=r?i.bind(t):function(){}}return e<n.NONE?e=n.NONE:e>n.ALL&&(e=n.ALL),t=t||{},{error:r("error",n.ERROR),warn:r("warn",n.WARN),info:r("info",n.INFO),debug:r("debug",n.DEBUG),verbose:r("verbose",n.VERBOSE)}}(null!=(a=r.logLevel)?a:n.INFO,e);if(T&&!r.suppressOverrideMessage){var y=null!=(p=Error().stack)?p:"<failed to generate stacktrace>";T.warn("Current logger will be overwritten from "+y),s.warn("Current logger will overwrite one already registered from "+y)}return E("diag",s,t,!0)},t.disable=function(){S("diag",t)},t.createComponentLogger=function(e){return new _(e)},t.verbose=e("verbose"),t.debug=e("debug"),t.info=e("info"),t.warn=e("warn"),t.error=e("error")}return e.instance=function(){return this._instance||(this._instance=new e),this._instance},e}();e.s(["DiagAPI",()=>A],715359);var m=function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,i,a=n.call(e),p=[];try{for(;(void 0===t||t-- >0)&&!(r=a.next()).done;)p.push(r.value)}catch(e){i={error:e}}finally{try{r&&!r.done&&(n=a.return)&&n.call(a)}finally{if(i)throw i.error}}return p},R=function(e,t,n){if(n||2==arguments.length)for(var r,i=0,a=t.length;i<a;i++)!r&&i in t||(r||(r=Array.prototype.slice.call(t,0,i)),r[i]=t[i]);return e.concat(r||Array.prototype.slice.call(t))},C="context",v=new o,h=function(){function e(){}return e.getInstance=function(){return this._instance||(this._instance=new e),this._instance},e.prototype.setGlobalContextManager=function(e){return E(C,e,A.instance())},e.prototype.active=function(){return this._getContextManager().active()},e.prototype.with=function(e,t,n){for(var r,i=[],a=3;a<arguments.length;a++)i[a-3]=arguments[a];return(r=this._getContextManager()).with.apply(r,R([e,t,n],m(i),!1))},e.prototype.bind=function(e,t){return this._getContextManager().bind(e,t)},e.prototype._getContextManager=function(){return d(C)||v},e.prototype.disable=function(){this._getContextManager().disable(),S(C,A.instance())},e}();e.s(["ContextAPI",()=>h],539571);var f=h.getInstance();e.s(["context",()=>f],208814)},792248,e=>{"use strict";var t=e.i(297490),n=function(){function e(){}return e.prototype.inject=function(e,t){},e.prototype.extract=function(e,t){return e},e.prototype.fields=function(){return[]},e}(),r={get:function(e,t){if(null!=e)return e[t]},keys:function(e){return null==e?[]:Object.keys(e)}},i={set:function(e,t,n){null!=e&&(e[t]=n)}},a=e.i(539571),p=(0,e.i(450128).createContextKey)("OpenTelemetry Baggage Key");function o(e){return e.getValue(p)||void 0}function T(){return o(a.ContextAPI.getInstance().active())}function s(e,t){return e.setValue(p,t)}function y(e){return e.deleteValue(p)}e.i(119468);var c=e.i(715359),l=function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,i,a=n.call(e),p=[];try{for(;(void 0===t||t-- >0)&&!(r=a.next()).done;)p.push(r.value)}catch(e){i={error:e}}finally{try{r&&!r.done&&(n=a.return)&&n.call(a)}finally{if(i)throw i.error}}return p},u=function(e){var t="function"==typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},E=function(){function e(e){this._entries=e?new Map(e):new Map}return e.prototype.getEntry=function(e){var t=this._entries.get(e);if(t)return Object.assign({},t)},e.prototype.getAllEntries=function(){return Array.from(this._entries.entries()).map(function(e){var t=l(e,2);return[t[0],t[1]]})},e.prototype.setEntry=function(t,n){var r=new e(this._entries);return r._entries.set(t,n),r},e.prototype.removeEntry=function(t){var n=new e(this._entries);return n._entries.delete(t),n},e.prototype.removeEntries=function(){for(var t,n,r=[],i=0;i<arguments.length;i++)r[i]=arguments[i];var a=new e(this._entries);try{for(var p=u(r),o=p.next();!o.done;o=p.next()){var T=o.value;a._entries.delete(T)}}catch(e){t={error:e}}finally{try{o&&!o.done&&(n=p.return)&&n.call(p)}finally{if(t)throw t.error}}return a},e.prototype.clear=function(){return new e},e}();function d(e){return void 0===e&&(e={}),new E(new Map(Object.entries(e)))}Symbol("BaggageEntryMetadata"),c.DiagAPI.instance();var S="propagation",g=new n,O=(function(){function e(){this.createBaggage=d,this.getBaggage=o,this.getActiveBaggage=T,this.setBaggage=s,this.deleteBaggage=y}return e.getInstance=function(){return this._instance||(this._instance=new e),this._instance},e.prototype.setGlobalPropagator=function(e){return(0,t.registerGlobal)(S,e,c.DiagAPI.instance())},e.prototype.inject=function(e,t,n){return void 0===n&&(n=i),this._getGlobalPropagator().inject(e,t,n)},e.prototype.extract=function(e,t,n){return void 0===n&&(n=r),this._getGlobalPropagator().extract(e,t,n)},e.prototype.fields=function(){return this._getGlobalPropagator().fields()},e.prototype.disable=function(){(0,t.unregisterGlobal)(S,c.DiagAPI.instance())},e.prototype._getGlobalPropagator=function(){return(0,t.getGlobal)(S)||g},e})().getInstance();e.s(["propagation",()=>O],792248)},663457,e=>{"use strict";var t,n,r=e.i(297490),i=e.i(119468),a=e.i(539571),p=e.i(450128);(t=n||(n={}))[t.NONE=0]="NONE",t[t.SAMPLED=1]="SAMPLED";var o="0000000000000000",T="00000000000000000000000000000000",s={traceId:T,spanId:o,traceFlags:n.NONE},y=function(){function e(e){void 0===e&&(e=s),this._spanContext=e}return e.prototype.spanContext=function(){return this._spanContext},e.prototype.setAttribute=function(e,t){return this},e.prototype.setAttributes=function(e){return this},e.prototype.addEvent=function(e,t){return this},e.prototype.setStatus=function(e){return this},e.prototype.updateName=function(e){return this},e.prototype.end=function(e){},e.prototype.isRecording=function(){return!1},e.prototype.recordException=function(e,t){},e}(),c=(0,p.createContextKey)("OpenTelemetry Context Key SPAN");function l(e){return e.getValue(c)||void 0}function u(){return l(a.ContextAPI.getInstance().active())}function E(e,t){return e.setValue(c,t)}function d(e){return e.deleteValue(c)}function S(e,t){return E(e,new y(t))}function g(e){var t;return null==(t=l(e))?void 0:t.spanContext()}var O=/^([0-9a-f]{32})$/i,_=/^[0-9a-f]{16}$/i;function I(e){var t,n;return t=e.traceId,O.test(t)&&t!==T&&(n=e.spanId,_.test(n)&&n!==o)}function N(e){return new y(e)}var b=a.ContextAPI.getInstance(),A=function(){function e(){}return e.prototype.startSpan=function(e,t,n){if(void 0===n&&(n=b.active()),null==t?void 0:t.root)return new y;var r,a=n&&g(n);return(void 0===(r=a)?"undefined":(0,i._)(r))==="object"&&"string"==typeof r.spanId&&"string"==typeof r.traceId&&"number"==typeof r.traceFlags&&I(a)?new y(a):new y},e.prototype.startActiveSpan=function(e,t,n,r){if(!(arguments.length<2)){2==arguments.length?p=t:3==arguments.length?(i=t,p=n):(i=t,a=n,p=r);var i,a,p,o=null!=a?a:b.active(),T=this.startSpan(e,i,o),s=E(o,T);return b.with(s,p,void 0,T)}},e}(),m=new A,R=function(){function e(e,t,n,r){this._provider=e,this.name=t,this.version=n,this.options=r}return e.prototype.startSpan=function(e,t,n){return this._getTracer().startSpan(e,t,n)},e.prototype.startActiveSpan=function(e,t,n,r){var i=this._getTracer();return Reflect.apply(i.startActiveSpan,i,arguments)},e.prototype._getTracer=function(){if(this._delegate)return this._delegate;var e=this._provider.getDelegateTracer(this.name,this.version,this.options);return e?(this._delegate=e,this._delegate):m},e}(),C=new(function(){function e(){}return e.prototype.getTracer=function(e,t,n){return new A},e}()),v=function(){function e(){}return e.prototype.getTracer=function(e,t,n){var r;return null!=(r=this.getDelegateTracer(e,t,n))?r:new R(this,e,t,n)},e.prototype.getDelegate=function(){var e;return null!=(e=this._delegate)?e:C},e.prototype.setDelegate=function(e){this._delegate=e},e.prototype.getDelegateTracer=function(e,t,n){var r;return null==(r=this._delegate)?void 0:r.getTracer(e,t,n)},e}(),h=e.i(715359),f="trace",L=(function(){function e(){this._proxyTracerProvider=new v,this.wrapSpanContext=N,this.isSpanContextValid=I,this.deleteSpan=d,this.getSpan=l,this.getActiveSpan=u,this.getSpanContext=g,this.setSpan=E,this.setSpanContext=S}return e.getInstance=function(){return this._instance||(this._instance=new e),this._instance},e.prototype.setGlobalTracerProvider=function(e){var t=(0,r.registerGlobal)(f,this._proxyTracerProvider,h.DiagAPI.instance());return t&&this._proxyTracerProvider.setDelegate(e),t},e.prototype.getTracerProvider=function(){return(0,r.getGlobal)(f)||this._proxyTracerProvider},e.prototype.getTracer=function(e,t){return this.getTracerProvider().getTracer(e,t)},e.prototype.disable=function(){(0,r.unregisterGlobal)(f,h.DiagAPI.instance()),this._proxyTracerProvider=new v},e})().getInstance();e.s(["trace",()=>L],663457)},188507,131038,884348,828042,e=>{"use strict";var t,n,r,i,a,p,o,T,s,y,c,l,u,E,d,S,g,O,_,I,N,b,A,m,R,C,v,h,f,L,j,P,U,k,D,G,M,B,$,w,x,F,V,K,H,W,Y,q,Q,J,z,X,Z,ee=e.i(297083),et=e.i(817556),en=e.i(960933),er=e.i(394212),ei=e.i(399119),ea=e.i(904851),ep=e.i(90659),eo=e.i(297631),eT=e.i(721281),es=e.i(445789),ey=e.i(167626),ec=e.i(878420),el=e.i(64386),eu=e.i(530658),eE=e.i(346715),ed=e.i(463348),eS=e.i(50452),eg=e.i(257865),eO=e.i(208814),e_=e.i(792248),eI=e.i(663457),eN=(0,eS.customAlphabet)("1234567890abcdefghijklmnopqrstuvxyzABCDEFGHIJKLMNOPQRSTUVXYZ"),eb=function(){return eN(12)},eA=en.Type.Object({type:en.Type.Literal("ACK")}),em=en.Type.Object({type:en.Type.Literal("CLOSE")}),eR=en.Type.Object({type:en.Type.Literal("HANDSHAKE_REQ"),protocolVersion:en.Type.String(),sessionId:en.Type.String(),expectedSessionState:en.Type.Object({nextExpectedSeq:en.Type.Integer(),nextSentSeq:en.Type.Integer()}),metadata:en.Type.Optional(en.Type.Unknown())}),eC=en.Type.Union([en.Type.Literal("SESSION_STATE_MISMATCH")]),ev=en.Type.Union([en.Type.Literal("REJECTED_UNSUPPORTED_CLIENT"),en.Type.Literal("REJECTED_BY_CUSTOM_HANDLER")]),eh=en.Type.Union([ev,en.Type.Literal("MALFORMED_HANDSHAKE_META"),en.Type.Literal("MALFORMED_HANDSHAKE"),en.Type.Literal("PROTOCOL_VERSION_MISMATCH")]),ef=en.Type.Union([eC,eh]),eL=en.Type.Object({type:en.Type.Literal("HANDSHAKE_RESP"),status:en.Type.Union([en.Type.Object({ok:en.Type.Literal(!0),sessionId:en.Type.String()}),en.Type.Object({ok:en.Type.Literal(!1),reason:en.Type.String(),code:ef})])}),ej=en.Type.Union([em,eA,eR,eL]),eP=(t=en.Type.Unknown(),en.Type.Object({id:en.Type.String(),from:en.Type.String(),to:en.Type.String(),seq:en.Type.Integer(),ack:en.Type.Integer(),serviceName:en.Type.Optional(en.Type.String()),procedureName:en.Type.Optional(en.Type.String()),streamId:en.Type.String(),controlFlags:en.Type.Integer(),tracing:en.Type.Optional(en.Type.Object({traceparent:en.Type.String(),tracestate:en.Type.String()})),payload:t}));function eU(e){var t=e.from,n=e.to,r=e.sessionId,i=e.expectedSessionState,a=e.metadata,p=e.tracing;return{id:eb(),from:t,to:n,seq:0,ack:0,streamId:eb(),controlFlags:0,tracing:p,payload:{type:"HANDSHAKE_REQ",protocolVersion:"v1.1",sessionId:r,expectedSessionState:i,metadata:a}}}function ek(e){return{streamId:e,controlFlags:4,payload:{type:"CLOSE"}}}function eD(e){return(1&e)==1}function eG(e){return(2&e)==2}function eM(e){return(4&e)==4}var eB="0.26.11";function e$(e){return(0,ey._)(e,Error)?e.message||"unknown reason":"[coerced to error] ".concat(String(e))}function ew(e){var t={traceparent:"",tracestate:""};return e_.propagation.inject(e,t),t}function ex(e,t,n,r){var i=r?e_.propagation.extract(eO.context.active(),r):eO.context.active(),a=eK.startSpan("session ".concat(e),{attributes:{component:"river","river.session.id":e,"river.session.to":t,"river.session.from":n}},i),p=eI.trace.setSpan(i,a);return{span:a,ctx:p}}function eF(e,t,n,r,i){var a,p=eO.context.active(),o=eK.startSpan("procedure call ".concat(n,".").concat(r),{attributes:{component:"river","river.method.kind":t,"river.method.service":n,"river.method.name":r,"river.streamId":i,"span.kind":"client"},kind:eg.SpanKind.CLIENT},p),T=eI.trace.setSpan(p,o);return null==(a=e.log)||a.info("invoked ".concat(n,".").concat(r),{clientId:e.clientId,transportMessage:{procedureName:r,serviceName:n},telemetry:{traceId:o.spanContext().traceId,spanId:o.spanContext().spanId}}),{span:o,ctx:T}}function eV(e,t,n){var r=t.tracing?e_.propagation.extract(eO.context.active(),t.tracing):eO.context.active();return eK.startActiveSpan("procedure handler ".concat(t.serviceName,".").concat(t.procedureName),{attributes:{component:"river","river.method.kind":e,"river.method.service":t.serviceName,"river.method.name":t.procedureName,"river.streamId":t.streamId,"span.kind":"server"},kind:eg.SpanKind.SERVER},r,n)}var eK=eI.trace.getTracer("river",eB);e.s(["ControlMessageHandshakeResponseSchema",()=>eL,"ControlMessagePayloadSchema",()=>ej,"HandshakeErrorRetriableResponseCodes",()=>eC,"OpaqueTransportMessageSchema",()=>eP,"closeStreamMessage",()=>ek,"coerceErrorString",()=>e$,"createHandlerSpan",()=>eV,"createProcTelemetryInfo",()=>eF,"createSessionTelemetryInfo",()=>ex,"generateId",()=>eb,"getPropagationContext",()=>ew,"handshakeRequestMessage",()=>eU,"isAck",()=>eD,"isStreamClose",()=>eM,"isStreamOpen",()=>eG,"tracing_default",()=>eK,"version",()=>eB],131038);var eH=e.i(862927);function eW(e){return JSON.parse(JSON.stringify(e))}(n=Z||(Z={}))[n.UNSET=0]="UNSET",n[n.OK=1]="OK",n[n.ERROR=2]="ERROR",e.s(["SpanStatusCode",()=>Z],884348);var eY=function(){function e(t,n){(0,ea._)(this,e),(0,eT._)(this,"initializeState",void 0),(0,eT._)(this,"procedures",void 0),this.initializeState=t.initializeState,this.procedures=n}return(0,ep._)(e,[{key:"serialize",value:function(){return{procedures:Object.fromEntries(Object.entries(this.procedures).map(function(e){var t=(0,eu._)(e,2),n=t[0],r=t[1];return[n,(0,ec._)((0,el._)((0,ec._)({input:eW(r.input),output:eW(r.output)},"description"in r?{description:r.description}:{},"errors"in r?{errors:eW(r.errors)}:{}),{type:r.type}),"init"in r?{init:eW(r.init)}:{})]}))}}},{key:"instantiate",value:function(e){return Object.freeze({state:this.initializeState(e),procedures:this.procedures})}}],[{key:"scaffold",value:function(e){return new eq(e)}},{key:"define",value:function(t,n){var r,i;if("initializeState"in t&&"function"==typeof t.initializeState){if(!n)throw Error("Expected procedures to be defined");r=t,i=n}else r={initializeState:function(){return{}}},i=t;return new e(r,i)}}]),e}(),eq=function(){function e(t){(0,ea._)(this,e),(0,eT._)(this,"config",void 0),this.config=t}return(0,ep._)(e,[{key:"procedures",value:function(e){return e}},{key:"finalize",value:function(e){return eY.define(this.config,e)}}]),e}(),eQ={rpc:function(e){var t=e.input,n=e.output,r=e.errors,i=void 0===r?en.Type.Never():r,a=e.description,p=e.handler;return(0,el._)((0,ec._)({},a?{description:a}:{}),{type:"rpc",input:t,output:n,errors:i,handler:p})},upload:function(e){var t=e.init,n=e.input,r=e.output,i=e.errors,a=void 0===i?en.Type.Never():i,p=e.description,o=e.handler;return null!=t?(0,el._)((0,ec._)({type:"upload"},p?{description:p}:{}),{init:t,input:n,output:r,errors:a,handler:o}):(0,el._)((0,ec._)({type:"upload"},p?{description:p}:{}),{input:n,output:r,errors:a,handler:o})},subscription:function(e){var t=e.input,n=e.output,r=e.errors,i=void 0===r?en.Type.Never():r,a=e.description,p=e.handler;return(0,el._)((0,ec._)({type:"subscription"},a?{description:a}:{}),{input:t,output:n,errors:i,handler:p})},stream:function(e){var t=e.init,n=e.input,r=e.output,i=e.errors,a=void 0===i?en.Type.Never():i,p=e.description,o=e.handler;return null!=t?(0,el._)((0,ec._)({type:"stream"},p?{description:p}:{}),{init:t,input:n,output:r,errors:a,handler:o}):(0,el._)((0,ec._)({type:"stream"},p?{description:p}:{}),{input:n,output:r,errors:a,handler:o})}};function eJ(){var e={};return e.promise=new Promise(function(t,n){e.resolve=t,e.reject=n}),e}var ez=function(){function e(t){if((0,ea._)(this,e),(0,eT._)(this,"buffer",void 0),(0,eT._)(this,"mask",void 0),(0,eT._)(this,"top",void 0),(0,eT._)(this,"btm",void 0),(0,eT._)(this,"next",void 0),!(t>0)||(t-1&t)!=0)throw Error("Max size for a FixedFIFO should be a power of two");this.buffer=Array(t),this.mask=t-1,this.top=0,this.btm=0,this.next=null}return(0,ep._)(e,[{key:"push",value:function(e){return void 0===this.buffer[this.top]&&(this.buffer[this.top]=e,this.top=this.top+1&this.mask,!0)}},{key:"shift",value:function(){var e=this.buffer[this.btm];if(void 0!==e)return this.buffer[this.btm]=void 0,this.btm=this.btm+1&this.mask,e}},{key:"isEmpty",value:function(){return void 0===this.buffer[this.btm]}}]),e}(),eX=function(){function e(){var t,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};(0,ea._)(this,e),(0,eT._)(this,"size",void 0),(0,eT._)(this,"hwm",void 0),(0,eT._)(this,"head",void 0),(0,eT._)(this,"tail",void 0),this.hwm=null!=(t=n.splitLimit)?t:16,this.head=new ez(this.hwm),this.tail=this.head,this.size=0}return(0,ep._)(e,[{key:"calculateSize",value:function(e){return(null==e?void 0:e.byteLength)!=null?e.byteLength:1}},{key:"push",value:function(e){if((null==e?void 0:e.value)!=null&&(this.size+=this.calculateSize(e.value)),!this.head.push(e)){var t=this.head;this.head=t.next=new ez(2*this.head.buffer.length),this.head.push(e)}}},{key:"shift",value:function(){var e=this.tail.shift();if(void 0===e&&null!=this.tail.next){var t=this.tail.next;this.tail.next=null,this.tail=t,e=this.tail.shift()}return(null==e?void 0:e.value)!=null&&(this.size-=this.calculateSize(e.value)),e}},{key:"isEmpty",value:function(){return this.head.isEmpty()}}]),e}(),eZ=function(e){function t(e,n){var r;return(0,ea._)(this,t),r=(0,ei._)(this,t,[null!=e?e:"The operation was aborted"]),(0,eT._)(r,"type",void 0),(0,eT._)(r,"code",void 0),r.type="aborted",r.code=null!=n?n:"ABORT_ERR",r}return(0,es._)(t,e),t}((0,ed._)(Error));function e0(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return function(e,t){var n,r,i,a,p=(t=null!=t?t:{}).onEnd,o=new eX,T=eJ(),s=function(e){return null!=r?r(e):(o.push(e),n)},y=function(e){if(i)return n;if((null==t?void 0:t.objectMode)!==!0&&(null==e?void 0:e.byteLength)==null)throw Error("objectMode was not true but tried to push non-Uint8Array value");return s({done:!1,value:e})},c=function(e){return i?n:(i=!0,null!=e?(o=new eX,null!=r)?r({error:e}):(o.push({error:e}),n):s({done:!0}))},l={};if(a={},(0,eT._)(a,Symbol.asyncIterator,function(){return this}),(0,eT._)(a,"next",function(){return(0,ee._)(function(){return(0,et._)(this,function(t){switch(t.label){case 0:if(t.trys.push([0,,2,3]),!o.isEmpty())return[2,e(o)];if(i)return[2,{done:!0}];return[4,new Promise(function(t,i){r=function(a){r=null,o.push(a);try{t(e(o))}catch(e){i(e)}return n}})];case 1:return[2,t.sent()];case 2:return o.isEmpty()&&queueMicrotask(function(){T.resolve(),T=eJ()}),[7];case 3:return[2]}})})()}),(0,eT._)(a,"return",function(){return o=new eX,c(),{done:!0}}),(0,eT._)(a,"throw",function(e){return c(e),{done:!0}}),(0,eT._)(a,"push",y),(0,eT._)(a,"end",c),l.readableLength=l.readableLength||{},l.readableLength.get=function(){return o.size},(0,eT._)(a,"onEmpty",function(e){return(0,ee._)(function(){var t,n,r;return(0,et._)(this,function(i){switch(i.label){case 0:if(null==(t=null==e?void 0:e.signal)||t.throwIfAborted(),o.isEmpty())return[2];null!=t&&(n=new Promise(function(e,n){r=function(){n(new eZ)},t.addEventListener("abort",r)})),i.label=1;case 1:return i.trys.push([1,,3,4]),[4,Promise.race([T.promise,n])];case 2:return i.sent(),[3,4];case 3:return null!=r&&null!=t&&(null==t||t.removeEventListener("abort",r)),[7];case 4:return[2]}})})()}),(0,eo._)(a,l),n=a,null==p)return n;var u,E=n,d={};return u={},(0,eT._)(u,Symbol.asyncIterator,function(){return this}),(0,eT._)(u,"next",function(){return E.next()}),(0,eT._)(u,"throw",function(e){return E.throw(e),null!=p&&(p(e),p=void 0),{done:!0}}),(0,eT._)(u,"return",function(){return E.return(),null!=p&&(p(),p=void 0),{done:!0}}),(0,eT._)(u,"push",y),(0,eT._)(u,"end",function(e){return E.end(e),null!=p&&(p(e),p=void 0),n}),d.readableLength=d.readableLength||{},d.readableLength.get=function(){return E.readableLength},(0,eT._)(u,"onEmpty",function(e){return E.onEmpty(e)}),(0,eo._)(u,d),n=u}(function(e){var t=e.shift();if(null==t)return{done:!0};if(null!=t.error)throw t.error;return{done:!0===t.done,value:t.value}},e)}var e1="UNCAUGHT_ERROR",e2="UNEXPECTED_DISCONNECT";function e3(e){return{ok:!1,payload:e}}en.Type.Object({code:en.Type.Union([en.Type.Literal(e1),en.Type.Literal(e2)]),message:en.Type.String()});var e4=function(){},e5={connectOnInvoke:!0,eagerlyConnect:!0};function e7(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};n.handshakeOptions&&e.extendHandshake(n.handshakeOptions);var r=(0,ec._)({},e5,n);return r.eagerlyConnect&&e.connect(t),function e(t,n){return new Proxy(e4,{get:function(r,i){if("string"==typeof i)return e(t,(0,eE._)(n).concat([i]))},apply:function(e,r,i){return t({path:n,args:i})}})}(function(n){return(0,ee._)(function(){var i,a,p,o,T;return(0,et._)(this,function(s){var y,c,l,u,E,d,S,g,O,_,I,N,b,A,m,R,C,v,h,f,L,j,P,U;if(a=(i=(0,eu._)((0,eE._)(n.path),3))[0],p=i[1],o=i[2],!(a&&p&&o))throw Error("invalid river call, ensure the service and procedure you are calling exists");if(T=(0,eu._)(n.args,1)[0],r.connectOnInvoke&&!e.sessions.has(t)&&e.connect(t),"rpc"===o){return[2,(y=e,c=t,l=T,g=(S=eF(y,"rpc",u=a,E=p,d=eb())).span,O=S.ctx,y.send(c,{streamId:d,serviceName:u,procedureName:E,payload:l,tracing:ew(O),controlFlags:6}),_=!1,new Promise(function(e){var t=function(){_||(_=!0,y.removeEventListener("message",n),y.removeEventListener("sessionStatus",r),g.end())},n=function(n){n.streamId!==d||n.to===y.clientId&&(t(),e(n.payload))},r=e6(c,function(){t(),e(e3({code:e2,message:"".concat(c," unexpectedly disconnected")}))});y.addEventListener("message",n),y.addEventListener("sessionStatus",r)}))]}if("stream"===o)return[2,function(e,t,n,r,i){var a=eb(),p=eF(e,"stream",r,i,a),o=p.span,T=p.ctx,s=e0({objectMode:!0}),y=e0({objectMode:!0}),c=!0,l=!1,u=!1;function E(t){t.streamId!==a||t.to===e.clientId&&(eM(t.controlFlags)?d():y.push(t.payload))}function d(){u||(u=!0,s.end(),y.end(),e.removeEventListener("message",E),e.removeEventListener("sessionStatus",S),o.end())}n&&(e.send(t,{streamId:a,serviceName:r,procedureName:i,payload:n,tracing:ew(T),controlFlags:2}),c=!1),(0,ee._)(function(){var n,p,o,y,u,E,d,S;return(0,et._)(this,function(g){switch(g.label){case 0:n=!1,p=!1,g.label=1;case 1:g.trys.push([1,6,7,12]),y=(0,er._)(s),g.label=2;case 2:return[4,y.next()];case 3:if(!(n=!(u=g.sent()).done))return[3,5];E={streamId:a,payload:u.value,controlFlags:0},c&&(E.serviceName=r,E.procedureName=i,E.tracing=ew(T),E.controlFlags|=2,c=!1),e.send(t,E),g.label=4;case 4:return n=!1,[3,2];case 5:return[3,12];case 6:return d=g.sent(),p=!0,o=d,[3,12];case 7:if(g.trys.push([7,,10,11]),!(n&&null!=y.return))return[3,9];return[4,y.return()];case 8:g.sent(),g.label=9;case 9:return[3,11];case 10:if(p)throw o;return[7];case 11:return[7];case 12:if(l)return[2];return l=!0,(S=ek(a)).serviceName=r,S.procedureName=i,S.tracing=ew(T),c&&(S.controlFlags|=2,c=!1),e.send(t,S),[2]}})})();var S=e6(t,function(){y.push(e3({code:e2,message:"".concat(t," unexpectedly disconnected")})),l=!0,d()});return e.addEventListener("message",E),e.addEventListener("sessionStatus",S),[s,y,d]}(e,t,T,a,p)];if("subscribe"===o)return[2,function(e,t,n,r,i){var a=eb(),p=eF(e,"subscription",r,i,a),o=p.span,T=p.ctx;e.send(t,{streamId:a,serviceName:r,procedureName:i,payload:n,tracing:ew(T),controlFlags:2});var s=!1,y=!1,c=e0({objectMode:!0});function l(t){t.streamId!==a||t.to===e.clientId&&(eM(t.controlFlags)?u():c.push(t.payload))}function u(){y||(y=!0,c.end(),e.removeEventListener("message",l),e.removeEventListener("sessionStatus",E),o.end())}var E=e6(t,function(){c.push(e3({code:e2,message:"".concat(t," unexpectedly disconnected")})),s=!0,u()});return e.addEventListener("message",l),e.addEventListener("sessionStatus",E),[c,function(){if(u(),!s){s=!0;var n=ek(a);n.serviceName=r,n.procedureName=i,n.tracing=ew(T),e.send(t,n)}}]}(e,t,T,a,p)];if("upload"===o){return[2,(I=e,N=t,b=T,v=(C=eF(I,"upload",A=a,m=p,R=eb())).span,h=C.ctx,f=e0({objectMode:!0}),L=!0,j=!1,P=!1,b&&(I.send(N,{streamId:R,serviceName:A,procedureName:m,payload:b,tracing:ew(h),controlFlags:2}),L=!1),(0,ee._)(function(){var e,t,n,r,i,a,p,o;return(0,et._)(this,function(T){switch(T.label){case 0:e=!1,t=!1,T.label=1;case 1:T.trys.push([1,6,7,12]),r=(0,er._)(f),T.label=2;case 2:return[4,r.next()];case 3:if(!(e=!(i=T.sent()).done))return[3,5];a={streamId:R,payload:i.value,controlFlags:0},L&&(a.serviceName=A,a.procedureName=m,a.tracing=ew(h),a.controlFlags|=2,L=!1),I.send(N,a),T.label=4;case 4:return e=!1,[3,2];case 5:return[3,12];case 6:return p=T.sent(),t=!0,n=p,[3,12];case 7:if(T.trys.push([7,,10,11]),!(e&&null!=r.return))return[3,9];return[4,r.return()];case 8:T.sent(),T.label=9;case 9:return[3,11];case 10:if(t)throw n;return[7];case 11:return[7];case 12:if(j)return[2];return j=!0,(o=ek(R)).serviceName=A,o.procedureName=m,o.tracing=ew(h),L&&(o.controlFlags|=2,L=!1),I.send(N,o),[2]}})})(),U=new Promise(function(e){var t=function(){P||(P=!0,f.end(),I.removeEventListener("message",n),I.removeEventListener("sessionStatus",r),v.end())},n=function(n){n.streamId!==R||n.to===I.clientId&&(t(),e(n.payload))},r=e6(N,function(){j=!0,t(),e(e3({code:e2,message:"".concat(N," unexpectedly disconnected")}))});I.addEventListener("message",n),I.addEventListener("sessionStatus",r)}),[f,U])]}throw Error("invalid river call, unknown procedure type ".concat(o))})})()},[])}function e6(e,t){return function(n){"disconnect"===n.status&&n.session.to===e&&t()}}(0,ep._)(function e(t,n,r,i){var a=this;(0,ea._)(this,e),(0,eT._)(this,"transport",void 0),(0,eT._)(this,"services",void 0),(0,eT._)(this,"contextMap",void 0),(0,eT._)(this,"streamMap",void 0),(0,eT._)(this,"sessionToStreamId",void 0),(0,eT._)(this,"sessionsBeingCleanedUp",new Set),(0,eT._)(this,"log",void 0),(0,eT._)(this,"onMessage",function(e){return(0,ee._)(function(){var t,n,r;return(0,et._)(this,function(i){switch(i.label){case 0:if(e.to!==this.transport.clientId)return null==(t=this.log)||t.info("got msg with destination that isn't this server, ignoring",{clientId:this.transport.clientId,transportMessage:e}),[2];if(r=!(n=this.streamMap.get(e.streamId)),n||(n=this.createNewProcStream(e)),!n)return[2];return[4,this.pushToStream(n,e,r)];case 1:return i.sent(),[2]}})}).call(a)}),(0,eT._)(this,"onSessionStatus",function(e){return(0,ee._)(function(){var t,n,r,i,a;return(0,et._)(this,function(p){switch(p.label){case 0:if(t=this,r=this.sessionToStreamId.get(e.session.id),i=function(n){return(0,ee._)(function(){return(0,et._)(this,function(t){switch(t.label){case 0:return this.sessionsBeingCleanedUp.add(e.session.id),[4,Promise.all(Array.from(n).map(this.cleanupStream))];case 1:return t.sent(),this.sessionToStreamId.delete(e.session.id),this.sessionsBeingCleanedUp.delete(e.session.id),[2]}})}).call(t)},"connect"!==e.status)return[3,3];if(!r)return[3,2];return null==(a=this.log)||a.error("got session connect from ".concat(e.session.to," but there are still streams open from this session"),{clientId:this.transport.clientId,tags:["invariant-violation"]}),[4,i(r)];case 1:p.sent(),p.label=2;case 2:return this.sessionToStreamId.set(e.session.id,new Set),[2];case 3:if(null==(n=this.log)||n.info("got session disconnect from ".concat(e.session.to,", cleaning up streams for session"),e.session.loggingMetadata),!r)return[2];return[4,i(r)];case 4:return p.sent(),[2]}})}).call(a)}),(0,eT._)(this,"cleanupStream",function(e){return(0,ee._)(function(){var t;return(0,et._)(this,function(n){switch(n.label){case 0:if(!(t=this.streamMap.get(e)))return[2];return t.incoming.end(),[4,t.promises.inputHandler];case 1:return n.sent(),t.outgoing.end(),[4,t.promises.outputHandler];case 2:return n.sent(),this.streamMap.delete(e),[2]}})}).call(a)});var p={};this.services=p,this.contextMap=new Map;var o=!0,T=!1,s=void 0;try{for(var y,c=Object.entries(n)[Symbol.iterator]();!(o=(y=c.next()).done);o=!0){var l=(0,eu._)(y.value,2),u=l[0],E=l[1].instantiate(null!=i?i:{});p[u]=E,this.contextMap.set(E,(0,el._)((0,ec._)({},i),{state:E.state}))}}catch(e){T=!0,s=e}finally{try{o||null==c.return||c.return()}finally{if(T)throw s}}r&&t.extendHandshake(r),this.transport=t,this.streamMap=new Map,this.sessionToStreamId=new Map,this.transport.addEventListener("message",this.onMessage),this.transport.addEventListener("sessionStatus",this.onSessionStatus),this.log=t.log,this.transport.addEventListener("transportStatus",function(e){var t=e.status;return(0,ee._)(function(){return(0,et._)(this,function(e){switch(e.label){case 0:if("closed"!==t)return[2];return this.transport.removeEventListener("message",this.onMessage),this.transport.removeEventListener("sessionStatus",this.onSessionStatus),[4,Promise.all((0,eE._)(this.streamMap.keys()).map(this.cleanupStream))];case 1:return e.sent(),[2]}})}).call(a)})},[{key:"streams",get:function(){return this.streamMap}},{key:"createNewProcStream",value:function(e){var t,n,r,i,a,p,o,T,s,y=this;if(!eG(e.controlFlags)){null==(t=this.log)||t.error("can't create a new procedure stream from a message that doesn't have the stream open bit set",{clientId:this.transport.clientId,transportMessage:e,tags:["invariant-violation"]});return}if(!e.procedureName||!e.serviceName){null==(n=this.log)||n.warn("missing procedure or service name in stream open message",{clientId:this.transport.clientId,transportMessage:e});return}if(!(e.serviceName in this.services)){null==(r=this.log)||r.warn("couldn't find service ".concat(e.serviceName),{clientId:this.transport.clientId,transportMessage:e});return}var c=this.services[e.serviceName],l=this.getContext(c,e.serviceName);if(!(e.procedureName in c.procedures)){null==(i=this.log)||i.warn("couldn't find a matching procedure for ".concat(e.serviceName,".").concat(e.procedureName),{clientId:this.transport.clientId,transportMessage:e});return}var u=this.transport.sessions.get(e.from);if(!u){null==(a=this.log)||a.warn("couldn't find session for ".concat(e.from),{clientId:this.transport.clientId,transportMessage:e});return}var E=u.to,d=u.id,S=u.loggingMetadata,g=c.procedures[e.procedureName],O=e0({objectMode:!0}),_=e0({objectMode:!0}),I="subscription"===g.type||"stream"===g.type,N=[],b=function(e){y.sessionsBeingCleanedUp.has(d)||y.transport.send(E,e)},A=I?(0,ee._)(function(){var t,n,r,i,a,p,o;return(0,et._)(this,function(T){switch(T.label){case 0:t=!1,n=!1,T.label=1;case 1:T.trys.push([1,6,7,12]),i=(0,er._)(_),T.label=2;case 2:return[4,i.next()];case 3:if(!(t=!(a=T.sent()).done))return[3,5];p=a.value,b({streamId:e.streamId,controlFlags:0,payload:p}),T.label=4;case 4:return t=!1,[3,2];case 5:return[3,12];case 6:return o=T.sent(),n=!0,r=o,[3,12];case 7:if(T.trys.push([7,,10,11]),!(t&&null!=i.return))return[3,9];return[4,i.return()];case 8:T.sent(),T.label=9;case 9:return[3,11];case 10:if(n)throw r;return[7];case 11:return[7];case 12:return b(ek(e.streamId)),N.forEach(function(e){return e()}),[2]}})})():(0,ee._)(function(){var t;return(0,et._)(this,function(n){switch(n.label){case 0:return[4,_.next().then(function(e){return e.value})];case 1:return(t=n.sent())&&(b({streamId:e.streamId,controlFlags:4,payload:t}),N.forEach(function(e){return e()})),[2]}})})(),m=function(t,n){var r,i=e$(t);null==(r=y.log)||r.error("procedure ".concat(e.serviceName,".").concat(e.procedureName," threw an uncaught error: ").concat(i),S),n.recordException((0,ey._)(t,Error)?t:Error(i)),n.setStatus({code:Z.ERROR}),_.push(e3({code:e1,message:i}))},R=this.transport.sessionHandshakeMetadata.get(E);if(!R){null==(p=this.log)||p.error("session doesn't have handshake metadata",(0,el._)((0,ec._)({},S),{tags:["invariant-violation"]}));return}var C="init"in g,v=(0,el._)((0,ec._)({},l),{sessionId:d,to:e.to,from:e.from,streamId:e.streamId,metadata:R});switch(g.type){case"rpc":o=eV(g.type,e,function(e){return(0,ee._)(function(){var t,n;return(0,et._)(this,function(r){switch(r.label){case 0:return[4,O.next()];case 1:if((t=r.sent()).done)return[2];r.label=2;case 2:return r.trys.push([2,4,5,6]),[4,g.handler(v,t.value)];case 3:return n=r.sent(),_.push(n),[3,6];case 4:return m(r.sent(),e),[3,6];case 5:return e.end(),[7];case 6:return[2]}})})()});break;case"stream":o=C?eV(g.type,e,function(e){return(0,ee._)(function(){var t,n;return(0,et._)(this,function(r){switch(r.label){case 0:return[4,O.next()];case 1:if((t=r.sent()).done)return[2];r.label=2;case 2:return r.trys.push([2,4,5,6]),[4,g.handler(v,t.value,O,_)];case 3:return(n=r.sent())&&N.push(n),[3,6];case 4:return m(r.sent(),e),[3,6];case 5:return e.end(),[7];case 6:return[2]}})})()}):eV(g.type,e,function(e){return(0,ee._)(function(){var t;return(0,et._)(this,function(n){switch(n.label){case 0:return n.trys.push([0,2,3,4]),[4,g.handler(v,O,_)];case 1:return(t=n.sent())&&N.push(t),[3,4];case 2:return m(n.sent(),e),[3,4];case 3:return e.end(),[7];case 4:return[2]}})})()});break;case"subscription":o=eV(g.type,e,function(e){return(0,ee._)(function(){var t,n;return(0,et._)(this,function(r){switch(r.label){case 0:return[4,O.next()];case 1:if((t=r.sent()).done)return[2];r.label=2;case 2:return r.trys.push([2,4,5,6]),[4,g.handler(v,t.value,_)];case 3:return(n=r.sent())&&N.push(n),[3,6];case 4:return m(r.sent(),e),[3,6];case 5:return e.end(),[7];case 6:return[2]}})})()});break;case"upload":o=C?eV(g.type,e,function(e){return(0,ee._)(function(){var t,n;return(0,et._)(this,function(r){switch(r.label){case 0:return[4,O.next()];case 1:if((t=r.sent()).done)return[2];r.label=2;case 2:return r.trys.push([2,4,5,6]),[4,g.handler(v,t.value,O)];case 3:return n=r.sent(),_.push(n),[3,6];case 4:return m(r.sent(),e),[3,6];case 5:return e.end(),[7];case 6:return[2]}})})()}):eV(g.type,e,function(e){return(0,ee._)(function(){var t;return(0,et._)(this,function(n){switch(n.label){case 0:return n.trys.push([0,2,3,4]),[4,g.handler(v,O)];case 1:return t=n.sent(),_.push(t),[3,4];case 2:return m(n.sent(),e),[3,4];case 3:return e.end(),[7];case 4:return[2]}})})()});break;default:null==(T=this.log)||T.warn("got request for invalid procedure type ".concat(g.type," at ").concat(e.serviceName,".").concat(e.procedureName),(0,el._)((0,ec._)({},S),{transportMessage:e}));return}var h={id:e.streamId,incoming:O,outgoing:_,serviceName:e.serviceName,procedureName:e.procedureName,promises:{inputHandler:o,outputHandler:A}};this.streamMap.set(e.streamId,h);var f=null!=(s=this.sessionToStreamId.get(d))?s:new Set;return f.add(e.streamId),this.sessionToStreamId.set(d,f),h}},{key:"pushToStream",value:function(e,t,n){return(0,ee._)(function(){var r,i,a,p,o,T,s;return(0,et._)(this,function(y){switch(y.label){case 0:if(r=e.serviceName,i=e.procedureName,p="init"in(a=this.services[r].procedures[i]),n&&p?eH.Value.Check(a.init,t.payload)?e.incoming.push(t.payload):null==(o=this.log)||o.error("procedure ".concat(r,".").concat(i," received invalid init payload"),{clientId:this.transport.clientId,transportMessage:t,validationErrors:(0,eE._)(eH.Value.Errors(a.init,t.payload))}):eH.Value.Check(a.input,t.payload)?e.incoming.push(t.payload):eH.Value.Check(ej,t.payload)||null==(T=this.log)||T.error("procedure ".concat(r,".").concat(i," received invalid payload"),{clientId:this.transport.clientId,transportMessage:t,validationErrors:(0,eE._)(eH.Value.Errors(a.input,t.payload))}),!eM(t.controlFlags))return[3,2];return[4,this.cleanupStream(t.streamId)];case 1:y.sent(),(s=this.sessionToStreamId.get(t.from))&&(s.delete(t.streamId),0===s.size&&this.sessionToStreamId.delete(t.from)),y.label=2;case 2:return[2]}})}).call(this)}},{key:"getContext",value:function(e,t){var n=this.contextMap.get(e);if(!n){var r,i="no context found for ".concat(t);throw null==(r=this.log)||r.error(i,{clientId:this.transport.clientId,tags:["invariant-violation"]}),Error(i)}return n}}]),e.s(["Procedure",()=>eQ,"ServiceSchema",()=>eY,"createClient",()=>e7],828042);var e8=((r={})[r.AGENT_STATE_UNKNOWN=0]="AGENT_STATE_UNKNOWN",r[r.AGENT_STATE_RUNNING=1]="AGENT_STATE_RUNNING",r[r.AGENT_STATE_PAUSING=2]="AGENT_STATE_PAUSING",r[r.AGENT_STATE_PAUSED=3]="AGENT_STATE_PAUSED",r[r.AGENT_STATE_NOT_STARTED=4]="AGENT_STATE_NOT_STARTED",r),e9=en.Type.Enum(e8),te=((i={})[i.AGENT_FEEDBACK_UNKNOWN=0]="AGENT_FEEDBACK_UNKNOWN",i[i.AGENT_FEEDBACK_THUMB_UP=1]="AGENT_FEEDBACK_THUMB_UP",i[i.AGENT_FEEDBACK_THUMB_DOWN=2]="AGENT_FEEDBACK_THUMB_DOWN",i),tt=en.Type.Enum(te),tn=((a={})[a.SECRET_UNKNOWN=0]="SECRET_UNKNOWN",a[a.SECRET_COMPLETED=1]="SECRET_COMPLETED",a[a.SECRET_IGNORED=2]="SECRET_IGNORED",a),tr=en.Type.Enum(tn),ti=((p={})[p.PROJECT_IMPORT_SOURCE_UNKNOWN=0]="PROJECT_IMPORT_SOURCE_UNKNOWN",p[p.PROJECT_IMPORT_SOURCE_LOVABLE=1]="PROJECT_IMPORT_SOURCE_LOVABLE",p[p.PROJECT_IMPORT_SOURCE_BOLT=2]="PROJECT_IMPORT_SOURCE_BOLT",p[p.PROJECT_IMPORT_SOURCE_REPLIT=3]="PROJECT_IMPORT_SOURCE_REPLIT",p[p.PROJECT_IMPORT_SOURCE_OTHER_GITHUB=4]="PROJECT_IMPORT_SOURCE_OTHER_GITHUB",p[p.PROJECT_IMPORT_SOURCE_FIGMA=5]="PROJECT_IMPORT_SOURCE_FIGMA",p[p.PROJECT_IMPORT_SOURCE_VERCEL=6]="PROJECT_IMPORT_SOURCE_VERCEL",p),ta=en.Type.Enum(ti),tp=((o={})[o.TASK_STATUS_UNSPECIFIED=0]="TASK_STATUS_UNSPECIFIED",o[o.TASK_STATUS_PENDING=1]="TASK_STATUS_PENDING",o[o.TASK_STATUS_IN_PROGRESS=2]="TASK_STATUS_IN_PROGRESS",o[o.TASK_STATUS_COMPLETED=3]="TASK_STATUS_COMPLETED",o[o.TASK_STATUS_COMPLETED_PENDING_REVIEW=4]="TASK_STATUS_COMPLETED_PENDING_REVIEW",o),to=en.Type.Enum(tp),tT=((T={})[T.STEP_UNKNOWN=0]="STEP_UNKNOWN",T[T.STEP_NOT_STARTED=1]="STEP_NOT_STARTED",T[T.STEP_IN_PROGRESS=2]="STEP_IN_PROGRESS",T[T.STEP_COMPLETE=3]="STEP_COMPLETE",T[T.STEP_FAILED=4]="STEP_FAILED",T[T.STEP_ABORTED=5]="STEP_ABORTED",T),ts=en.Type.Enum(tT),ty=((s={})[s.REQUEST_FEATURE_ADD_TYPE_UNKNOWN=0]="REQUEST_FEATURE_ADD_TYPE_UNKNOWN",s[s.REQUEST_FEATURE_ADD_TYPE_NEON_DATABASE=1]="REQUEST_FEATURE_ADD_TYPE_NEON_DATABASE",s),tc=en.Type.Enum(ty),tl=((y={})[y.STACK_BLUEPRINT_NONE=0]="STACK_BLUEPRINT_NONE",y[y.STACK_BLUEPRINT_FLASK_VANILLA_JS=1]="STACK_BLUEPRINT_FLASK_VANILLA_JS",y[y.STACK_BLUEPRINT_PYTHON_API=2]="STACK_BLUEPRINT_PYTHON_API",y[y.STACK_BLUEPRINT_STREAMLIT=3]="STACK_BLUEPRINT_STREAMLIT",y[y.STACK_BLUEPRINT_FULLSTACK_JS=4]="STACK_BLUEPRINT_FULLSTACK_JS",y[y.STACK_BLUEPRINT_GAMESTACK_JS=5]="STACK_BLUEPRINT_GAMESTACK_JS",y[y.STACK_BLUEPRINT_CUSTOM=6]="STACK_BLUEPRINT_CUSTOM",y[y.STACK_BLUEPRINT_EXPO=7]="STACK_BLUEPRINT_EXPO",y[y.STACK_BLUEPRINT_AGENT=8]="STACK_BLUEPRINT_AGENT",y),tu=en.Type.Enum(tl),tE=((c={})[c.UNKNOWN_TRIGGER_TYPE=0]="UNKNOWN_TRIGGER_TYPE",c[c.SLACK_MESSAGE=1]="SLACK_MESSAGE",c[c.TELEGRAM_MESSAGE=2]="TELEGRAM_MESSAGE",c[c.TIME_BASED=3]="TIME_BASED",c[c.CONNECTOR_TRIGGER=4]="CONNECTOR_TRIGGER",c),td=en.Type.Enum(tE),tS=((l={})[l.BLUEPRINT_CATEGORY_UNSPECIFIED=0]="BLUEPRINT_CATEGORY_UNSPECIFIED",l[l.FEATURE=1]="FEATURE",l[l.STACK=2]="STACK",l[l.STYLING=3]="STYLING",l),tg=en.Type.Enum(tS),tO=((u={})[u.WEB_SEARCH_TYPE_UNSPECIFIED=0]="WEB_SEARCH_TYPE_UNSPECIFIED",u[u.WEB_SEARCH_TYPE_GENERAL=1]="WEB_SEARCH_TYPE_GENERAL",u[u.WEB_SEARCH_TYPE_REPLIT_DOCUMENTATION=2]="WEB_SEARCH_TYPE_REPLIT_DOCUMENTATION",u),t_=en.Type.Enum(tO),tI=((E={})[E.BENCHMARK_CONCLUSION_REASON_UNKNOWN=0]="BENCHMARK_CONCLUSION_REASON_UNKNOWN",E[E.SUCCESSFUL=1]="SUCCESSFUL",E[E.RECURSION_LIMIT_REACHED=2]="RECURSION_LIMIT_REACHED",E[E.EXCEPTION=3]="EXCEPTION",E),tN=en.Type.Enum(tI),tb=((d={})[d.ATTACHED_FORM_TYPE_UNKNOWN=0]="ATTACHED_FORM_TYPE_UNKNOWN",d[d.ATTACHED_FORM_TYPE_REPL_CREATION_V1=1]="ATTACHED_FORM_TYPE_REPL_CREATION_V1",d),tA=en.Type.Enum(tb),tm=((S={})[S.URL_INTENT_UNSPECIFIED=0]="URL_INTENT_UNSPECIFIED",S[S.URL_SCREENSHOT=1]="URL_SCREENSHOT",S[S.URL_CRAWL_CONTENT=2]="URL_CRAWL_CONTENT",S[S.URL_AS_PROMPT=3]="URL_AS_PROMPT",S[S.URL_CRAWL_HTML=4]="URL_CRAWL_HTML",S),tR=en.Type.Enum(tm),tC=((g={})[g.GENERATION_STATE_UNKNOWN=0]="GENERATION_STATE_UNKNOWN",g[g.GENERATION_IN_PROGRESS=1]="GENERATION_IN_PROGRESS",g[g.GENERATION_REGENERATING=2]="GENERATION_REGENERATING",g[g.GENERATION_COMPLETE=3]="GENERATION_COMPLETE",g[g.GENERATION_ERROR=4]="GENERATION_ERROR",g),tv=en.Type.Enum(tC),th=((O={})[O.UNKNOWN=0]="UNKNOWN",O[O.ENGLISH=1]="ENGLISH",O[O.CRON=2]="CRON",O),tf=en.Type.Enum(th),tL=((_={})[_.MODEL_TYPE_UNKNOWN=0]="MODEL_TYPE_UNKNOWN",_[_.BASIC=1]="BASIC",_[_.ADVANCED=2]="ADVANCED",_[_.OVERRIDE=3]="OVERRIDE",_),tj=en.Type.Enum(tL),tP=((I={})[I.CODE_REFERENCE_TYPE_UNKNOWN=0]="CODE_REFERENCE_TYPE_UNKNOWN",I[I.FILE=1]="FILE",I[I.INLINE=2]="INLINE",I),tU=en.Type.Enum(tP),tk=((N={})[N.DEBUG_ERROR_SOURCE_UNKNOWN=0]="DEBUG_ERROR_SOURCE_UNKNOWN",N[N.CONSOLE=1]="CONSOLE",N[N.LSP=2]="LSP",N),tD=en.Type.Enum(tk),tG=((b={})[b.EVENT_STATE_UNKNOWN=0]="EVENT_STATE_UNKNOWN",b[b.IN_PROGRESS=1]="IN_PROGRESS",b[b.COMPLETE=2]="COMPLETE",b),tM=en.Type.Enum(tG),tB=((A={})[A.INLINE_MESSAGE_TYPE_UNKNOWN=0]="INLINE_MESSAGE_TYPE_UNKNOWN",A[A.EXPLAIN_CODE=1]="EXPLAIN_CODE",A[A.DEBUGGER=2]="DEBUGGER",A[A.GENERATE_CODE=3]="GENERATE_CODE",A[A.TRANSFORM_CODE=4]="TRANSFORM_CODE",A),t$=en.Type.Enum(tB),tw=((m={})[m.USER_TYPE_UNKNOWN=0]="USER_TYPE_UNKNOWN",m[m.USER=1]="USER",m[m.AI=2]="AI",m[m.SERVICE=3]="SERVICE",m),tx=en.Type.Enum(tw),tF=((R={})[R.SESSION_TYPE_UNKNOWN=0]="SESSION_TYPE_UNKNOWN",R[R.CHAT=1]="CHAT",R[R.INLINE_CHAT=2]="INLINE_CHAT",R[R.SINGLE_USE_SESSION=3]="SINGLE_USE_SESSION",R[R.REPL_CREATION=4]="REPL_CREATION",R[R.AGENT_SESSION=5]="AGENT_SESSION",R[R.HOSTING_DEBUG_SUMMARY=6]="HOSTING_DEBUG_SUMMARY",R[R.REPL_CREATION_V2=7]="REPL_CREATION_V2",R[R.REPL_CREATION_V3=8]="REPL_CREATION_V3",R[R.AGENT_REPLAY_SESSION=9]="AGENT_REPLAY_SESSION",R[R.SAMPLING_SESSION=10]="SAMPLING_SESSION",R[R.SUB_AGENT=11]="SUB_AGENT",R),tV=en.Type.Enum(tF),tK=((C={})[C.MESSAGE_STOP_REASON_UNKNOWN=0]="MESSAGE_STOP_REASON_UNKNOWN",C[C.MAX_TOKENS=1]="MAX_TOKENS",C[C.STOP_TOKEN=2]="STOP_TOKEN",C[C.SAFETY=3]="SAFETY",C[C.RECITATION=4]="RECITATION",C[C.TOOL_CALLS=5]="TOOL_CALLS",C[C.CONTENT_FILTER=6]="CONTENT_FILTER",C),tH=en.Type.Enum(tK),tW=((v={})[v.MESSAGE_ACTION_UNKNOWN=0]="MESSAGE_ACTION_UNKNOWN",v[v.NONE=1]="NONE",v[v.REPLIT_DOCS=2]="REPLIT_DOCS",v[v.GENERATE=3]="GENERATE",v[v.EXPLAIN=4]="EXPLAIN",v[v.TRANSFORM=5]="TRANSFORM",v[v.DEBUG=6]="DEBUG",v[v.FIND_INTENT=7]="FIND_INTENT",v[v.AGENT=8]="AGENT",v[v.ITERATIVE_AGENT=9]="ITERATIVE_AGENT",v),tY=en.Type.Enum(tW),tq=((h={})[h.MEMBERSHIP_TYPE_UNKNOWN=0]="MEMBERSHIP_TYPE_UNKNOWN",h[h.FREE=1]="FREE",h[h.CORE=2]="CORE",h[h.TEAMS=3]="TEAMS",h),tQ=en.Type.Enum(tq),tJ=((f={})[f.EVENT_ERROR_TYPE_UNKNOWN=0]="EVENT_ERROR_TYPE_UNKNOWN",f[f.MANUALLY_ABORTED=1]="MANUALLY_ABORTED",f[f.INCOMPLETE_UPDATE=2]="INCOMPLETE_UPDATE",f[f.INTERNAL_SERVER_ERROR=3]="INTERNAL_SERVER_ERROR",f[f.USAGE_LIMIT=4]="USAGE_LIMIT",f[f.TEST_ERROR=5]="TEST_ERROR",f[f.INVALID_INPUT=6]="INVALID_INPUT",f[f.UNAUTHORIZED=7]="UNAUTHORIZED",f[f.AGENT_EXECUTION_ERROR=8]="AGENT_EXECUTION_ERROR",f[f.AI_QUOTA_ERROR_UNKNOWN=9]="AI_QUOTA_ERROR_UNKNOWN",f[f.AI_QUOTA_INSUFFICIENT_BUDGET=10]="AI_QUOTA_INSUFFICIENT_BUDGET",f[f.AI_QUOTA_REQUIRES_PAYMENT_METHOD=11]="AI_QUOTA_REQUIRES_PAYMENT_METHOD",f[f.AI_QUOTA_REQUIRES_ACTIVE_SUBSCRIPTION=12]="AI_QUOTA_REQUIRES_ACTIVE_SUBSCRIPTION",f),tz=en.Type.Enum(tJ),tX=((L={})[L.AGENT_MODE_UNSPECIFIED=0]="AGENT_MODE_UNSPECIFIED",L[L.AGENT_MODE_GENERAL=1]="AGENT_MODE_GENERAL",L[L.AGENT_MODE_DISCUSSION=2]="AGENT_MODE_DISCUSSION",L[L.AGENT_MODE_INITIAL_PLANNING=3]="AGENT_MODE_INITIAL_PLANNING",L[L.AGENT_MODE_QUICK_EDIT=4]="AGENT_MODE_QUICK_EDIT",L),tZ=en.Type.Enum(tX),t0=((j={})[j.AGENT_INITIAL_BUILD_MODE_UNSPECIFIED=0]="AGENT_INITIAL_BUILD_MODE_UNSPECIFIED",j[j.AGENT_INITIAL_BUILD_MODE_SYNC=1]="AGENT_INITIAL_BUILD_MODE_SYNC",j[j.AGENT_INITIAL_BUILD_MODE_ASYNC=2]="AGENT_INITIAL_BUILD_MODE_ASYNC",j[j.AGENT_INITIAL_BUILD_MODE_DESIGN=3]="AGENT_INITIAL_BUILD_MODE_DESIGN",j[j.AGENT_INITIAL_BUILD_MODE_BUILD=4]="AGENT_INITIAL_BUILD_MODE_BUILD",j),t1=en.Type.Enum(t0),t2=((P={})[P.AUTONOMY_LEVEL_UNSPECIFIED=0]="AUTONOMY_LEVEL_UNSPECIFIED",P[P.AUTONOMY_LEVEL_LOW=1]="AUTONOMY_LEVEL_LOW",P[P.AUTONOMY_LEVEL_MEDIUM=2]="AUTONOMY_LEVEL_MEDIUM",P[P.AUTONOMY_LEVEL_HIGH=3]="AUTONOMY_LEVEL_HIGH",P[P.AUTONOMY_LEVEL_MAX=4]="AUTONOMY_LEVEL_MAX",P),t3=en.Type.Enum(t2),t4=((U={})[U.MODEL_PROFILE_UNSPECIFIED=0]="MODEL_PROFILE_UNSPECIFIED",U[U.MODEL_PROFILE_STANDARD=1]="MODEL_PROFILE_STANDARD",U[U.MODEL_PROFILE_ADVANCED=2]="MODEL_PROFILE_ADVANCED",U),t5=en.Type.Enum(t4),t7=((k={})[k.SET=0]="SET",k[k.ADD=1]="ADD",k[k.CLEAR=2]="CLEAR",k[k.APPEND=3]="APPEND",k),t6=en.Type.Enum(t7),t8=((D={})[D.AGENT_AUTHORIZATION_FAILED_CODE_UNSPECIFIED=0]="AGENT_AUTHORIZATION_FAILED_CODE_UNSPECIFIED",D[D.INSUFFICIENT_BUDGET=1]="INSUFFICIENT_BUDGET",D[D.REQUIRES_PAYMENT_METHOD=2]="REQUIRES_PAYMENT_METHOD",D[D.REQUIRES_ACTIVE_SUBSCRIPTION=3]="REQUIRES_ACTIVE_SUBSCRIPTION",D[D.AGENT_UNKNOWN_AUTHORIZATION_ERROR=4]="AGENT_UNKNOWN_AUTHORIZATION_ERROR",D[D.INSUFFICIENT_PERMISSIONS=5]="INSUFFICIENT_PERMISSIONS",D[D.INSUFFICIENT_QUOTA=6]="INSUFFICIENT_QUOTA",D[D.PAYMENT_DELINQUENT=7]="PAYMENT_DELINQUENT",D),t9=en.Type.Enum(t8),ne=((G={})[G.NULL_VALUE=0]="NULL_VALUE",G),nt=en.Type.Enum(ne),nn=((M={})[M.STRING=0]="STRING",M[M.INTEGER=1]="INTEGER",M),nr=en.Type.Enum(nn),ni=((B={})[B.COMMIT_AUTHOR_AGENT=0]="COMMIT_AUTHOR_AGENT",B[B.COMMIT_AUTHOR_USER=1]="COMMIT_AUTHOR_USER",B[B.COMMIT_AUTHOR_DEPLOYMENT=2]="COMMIT_AUTHOR_DEPLOYMENT",B),na=en.Type.Enum(ni),np=(($={})[$.COMMIT_BILLING_RATE_UNSPECIFIED=0]="COMMIT_BILLING_RATE_UNSPECIFIED",$[$.ZERO_RATED=1]="ZERO_RATED",$[$.NORMAL=2]="NORMAL",$),no=en.Type.Enum(np),nT=((w={})[w.CHECKPOINT_TRIGGER_REASON_UNSPECIFIED=0]="CHECKPOINT_TRIGGER_REASON_UNSPECIFIED",w[w.CHECKPOINT_TRIGGER_REASON_RAPID_BUILD_FEEDBACK=1]="CHECKPOINT_TRIGGER_REASON_RAPID_BUILD_FEEDBACK",w[w.CHECKPOINT_TRIGGER_REASON_FEEDBACK_REQUESTED=2]="CHECKPOINT_TRIGGER_REASON_FEEDBACK_REQUESTED",w[w.CHECKPOINT_TRIGGER_REASON_AGENT_USAGE_MAX_THRESHOLD=3]="CHECKPOINT_TRIGGER_REASON_AGENT_USAGE_MAX_THRESHOLD",w[w.CHECKPOINT_TRIGGER_REASON_AGENT_USAGE_LIMIT_THRESHOLD=4]="CHECKPOINT_TRIGGER_REASON_AGENT_USAGE_LIMIT_THRESHOLD",w[w.CHECKPOINT_TRIGGER_REASON_USER_RESPONSE=5]="CHECKPOINT_TRIGGER_REASON_USER_RESPONSE",w[w.CHECKPOINT_TRIGGER_REASON_PROPOSE_PLAN_TOOL=6]="CHECKPOINT_TRIGGER_REASON_PROPOSE_PLAN_TOOL",w[w.CHECKPOINT_TRIGGER_REASON_LAST_MESSAGE=7]="CHECKPOINT_TRIGGER_REASON_LAST_MESSAGE",w[w.CHECKPOINT_TRIGGER_REASON_SESSION_START=8]="CHECKPOINT_TRIGGER_REASON_SESSION_START",w[w.CHECKPOINT_TRIGGER_REASON_NEON_DATABASE_EVENT=9]="CHECKPOINT_TRIGGER_REASON_NEON_DATABASE_EVENT",w[w.CHECKPOINT_TRIGGER_REASON_GENERATE_3D_MODEL=10]="CHECKPOINT_TRIGGER_REASON_GENERATE_3D_MODEL",w[w.CHECKPOINT_TRIGGER_REASON_CONTINUE_WITH_PLAN=11]="CHECKPOINT_TRIGGER_REASON_CONTINUE_WITH_PLAN",w[w.CHECKPOINT_TRIGGER_REASON_WORKSPACE_TRIGGERED_AGENT=12]="CHECKPOINT_TRIGGER_REASON_WORKSPACE_TRIGGERED_AGENT",w[w.CHECKPOINT_TRIGGER_REASON_WORKSPACE_TRIGGERED_USER=13]="CHECKPOINT_TRIGGER_REASON_WORKSPACE_TRIGGERED_USER",w[w.CHECKPOINT_TRIGGER_REASON_WORKSPACE_TRIGGERED_DEPLOYMENT=14]="CHECKPOINT_TRIGGER_REASON_WORKSPACE_TRIGGERED_DEPLOYMENT",w[w.CHECKPOINT_TRIGGER_REASON_PROPOSE_MVP_PLAN=15]="CHECKPOINT_TRIGGER_REASON_PROPOSE_MVP_PLAN",w[w.CHECKPOINT_TRIGGER_REASON_INTERMEDIATE_CHECKPOINT=16]="CHECKPOINT_TRIGGER_REASON_INTERMEDIATE_CHECKPOINT",w[w.CHECKPOINT_TRIGGER_REASON_PREREVERT=17]="CHECKPOINT_TRIGGER_REASON_PREREVERT",w[w.CHECKPOINT_TRIGGER_REASON_REVERT=18]="CHECKPOINT_TRIGGER_REASON_REVERT",w[w.CHECKPOINT_TRIGGER_REASON_TEST=19]="CHECKPOINT_TRIGGER_REASON_TEST",w[w.CHECKPOINT_TRIGGER_REASON_PLAN_APPROVED=20]="CHECKPOINT_TRIGGER_REASON_PLAN_APPROVED",w[w.CHECKPOINT_TRIGGER_REASON_REACT_LOOP_CAP_HIT=21]="CHECKPOINT_TRIGGER_REASON_REACT_LOOP_CAP_HIT",w[w.CHECKPOINT_TRIGGER_REASON_SUCCESS_TOOL=22]="CHECKPOINT_TRIGGER_REASON_SUCCESS_TOOL",w[w.CHECKPOINT_TRIGGER_REASON_LOOP_END=23]="CHECKPOINT_TRIGGER_REASON_LOOP_END",w[w.CHECKPOINT_TRIGGER_REASON_AGENT_PAUSE=24]="CHECKPOINT_TRIGGER_REASON_AGENT_PAUSE",w[w.CHECKPOINT_TRIGGER_REASON_COMPLETED_TASK=25]="CHECKPOINT_TRIGGER_REASON_COMPLETED_TASK",w[w.CHECKPOINT_TRIGGER_REASON_PLAN_TO_BUILD_TRANSITION=26]="CHECKPOINT_TRIGGER_REASON_PLAN_TO_BUILD_TRANSITION",w),ns=en.Type.Enum(nT),ny=((x={})[x.REVERT_DATA_STAGE_UNKNOWN=0]="REVERT_DATA_STAGE_UNKNOWN",x[x.REVERT_DATA_STAGE_LOADING_PREVIOUS_STATE=1]="REVERT_DATA_STAGE_LOADING_PREVIOUS_STATE",x[x.REVERT_DATA_STAGE_SHUTTING_DOWN_WORKFLOWS=2]="REVERT_DATA_STAGE_SHUTTING_DOWN_WORKFLOWS",x[x.REVERT_DATA_STAGE_REVERTING_COMMIT=3]="REVERT_DATA_STAGE_REVERTING_COMMIT",x[x.REVERT_DATA_STAGE_RESTARTING_WORKFLOWS=4]="REVERT_DATA_STAGE_RESTARTING_WORKFLOWS",x[x.REVERT_DATA_STAGE_COMPLETE=5]="REVERT_DATA_STAGE_COMPLETE",x[x.REVERT_DATA_STAGE_ROLLING_BACK_DATABASE=6]="REVERT_DATA_STAGE_ROLLING_BACK_DATABASE",x[x.REVERT_DATA_STAGE_ROLLING_BACK_DEPLOYMENT=7]="REVERT_DATA_STAGE_ROLLING_BACK_DEPLOYMENT",x),nc=en.Type.Enum(ny),nl=((F={})[F.UNSPECIFIED=0]="UNSPECIFIED",F[F.PENDING=1]="PENDING",F[F.ACKNOWLEDGED_CONTINUE_CURRENT_STEP=2]="ACKNOWLEDGED_CONTINUE_CURRENT_STEP",F[F.ACKNOWLEDGED_ABORT_CURRENT_STEP=3]="ACKNOWLEDGED_ABORT_CURRENT_STEP",F),nu=en.Type.Enum(nl),nE=((V={})[V.SUCCESS=0]="SUCCESS",V[V.FAILURE=1]="FAILURE",V[V.UNABLE=3]="UNABLE",V),nd=en.Type.Enum(nE),nS=((K={})[K.GENERAL_SUBAGENT_EVENT_FILTER_UNKNOWN=0]="GENERAL_SUBAGENT_EVENT_FILTER_UNKNOWN",K[K.GENERAL_SUBAGENT_EVENT_FILTER_THOUGHTS_ONLY=1]="GENERAL_SUBAGENT_EVENT_FILTER_THOUGHTS_ONLY",K[K.GENERAL_SUBAGENT_EVENT_FILTER_ALL_EVENTS=2]="GENERAL_SUBAGENT_EVENT_FILTER_ALL_EVENTS",K),ng=en.Type.Enum(nS),nO=((H={})[H.SAMPLING_EVENT_STATE_UNSPECIFIED=0]="SAMPLING_EVENT_STATE_UNSPECIFIED",H[H.SAMPLING_EVENT_STATE_ENVIRONMENT_SETUP=1]="SAMPLING_EVENT_STATE_ENVIRONMENT_SETUP",H[H.SAMPLING_EVENT_STATE_SAMPLING=2]="SAMPLING_EVENT_STATE_SAMPLING",H[H.SAMPLING_EVENT_STATE_RANKING=3]="SAMPLING_EVENT_STATE_RANKING",H[H.SAMPLING_EVENT_STATE_APPLYING=4]="SAMPLING_EVENT_STATE_APPLYING",H[H.SAMPLING_EVENT_STATE_CONCLUDED=5]="SAMPLING_EVENT_STATE_CONCLUDED",H),n_=en.Type.Enum(nO),nI=((W={})[W.TRAJECTORY_STATE_UNSPECIFIED=0]="TRAJECTORY_STATE_UNSPECIFIED",W[W.TRAJECTORY_STATE_ENVIRONMENT_SETUP=5]="TRAJECTORY_STATE_ENVIRONMENT_SETUP",W[W.TRAJECTORY_STATE_IN_PROGRESS=1]="TRAJECTORY_STATE_IN_PROGRESS",W[W.TRAJECTORY_STATE_SUCCESSFUL=2]="TRAJECTORY_STATE_SUCCESSFUL",W[W.TRAJECTORY_STATE_FAILED=3]="TRAJECTORY_STATE_FAILED",W[W.TRAJECTORY_STATE_CHOSEN=4]="TRAJECTORY_STATE_CHOSEN",W),nN=en.Type.Enum(nI),nb=((Y={})[Y.INITIAL_BUILD_PHASE_VISUAL_STARTED=0]="INITIAL_BUILD_PHASE_VISUAL_STARTED",Y[Y.INITIAL_BUILD_PHASE_VISUAL_COMPLETE_PENDING_REVIEW=1]="INITIAL_BUILD_PHASE_VISUAL_COMPLETE_PENDING_REVIEW",Y[Y.INITIAL_BUILD_PHASE_VISUAL_COMPLETE=2]="INITIAL_BUILD_PHASE_VISUAL_COMPLETE",Y[Y.INITIAL_BUILD_PHASE_MVP_STARTED=3]="INITIAL_BUILD_PHASE_MVP_STARTED",Y[Y.INITIAL_BUILD_PHASE_MVP_COMPLETE_PENDING_REVIEW=4]="INITIAL_BUILD_PHASE_MVP_COMPLETE_PENDING_REVIEW",Y[Y.INITIAL_BUILD_PHASE_MVP_COMPLETE=5]="INITIAL_BUILD_PHASE_MVP_COMPLETE",Y),nA=en.Type.Enum(nb),nm=((q={})[q.SPECIAL_FILE_TYPE_UNKNOWN=0]="SPECIAL_FILE_TYPE_UNKNOWN",q[q.LOG_FILE=1]="LOG_FILE",q),nR=en.Type.Enum(nm),nC=((Q={})[Q.ALERT_LEVEL_UNSPECIFIED=0]="ALERT_LEVEL_UNSPECIFIED",Q[Q.ALERT_LEVEL_INFO=1]="ALERT_LEVEL_INFO",Q[Q.ALERT_LEVEL_WARNING=2]="ALERT_LEVEL_WARNING",Q[Q.ALERT_LEVEL_ERROR=3]="ALERT_LEVEL_ERROR",Q),nv=en.Type.Enum(nC),nh=((J={})[J.ALERT_NEXT_ACTION_NONE=0]="ALERT_NEXT_ACTION_NONE",J[J.ALERT_NEXT_ACTION_OPEN_MCP_PANE=1]="ALERT_NEXT_ACTION_OPEN_MCP_PANE",J),nf=en.Type.Enum(nh),nL=((z={})[z.ENVIRONMENT_TYPE_UNSPECIFIED=0]="ENVIRONMENT_TYPE_UNSPECIFIED",z[z.ENVIRONMENT_TYPE_DEVELOPMENT=1]="ENVIRONMENT_TYPE_DEVELOPMENT",z[z.ENVIRONMENT_TYPE_PRODUCTION=2]="ENVIRONMENT_TYPE_PRODUCTION",z[z.ENVIRONMENT_TYPE_SHARED=3]="ENVIRONMENT_TYPE_SHARED",z),nj=en.Type.Enum(nL),nP=((X={})[X.ENVIRONMENT_VARIABLE_TYPE_UNSPECIFIED=0]="ENVIRONMENT_VARIABLE_TYPE_UNSPECIFIED",X[X.ENVIRONMENT_VARIABLE_TYPE_ENV=1]="ENVIRONMENT_VARIABLE_TYPE_ENV",X[X.ENVIRONMENT_VARIABLE_TYPE_SECRET=2]="ENVIRONMENT_VARIABLE_TYPE_SECRET",X),nU=en.Type.Enum(nP),nk=en.Type.Object({replId:en.Type.String(),targetCommitId:en.Type.String(),newSessionTitle:en.Type.String(),originalSessionId:en.Type.String(),databaseRollbackTimestamp:en.Type.String(),deploymentBuildId:en.Type.String(),rollbackDatabase:en.Type.Boolean(),RevertedToSessionId:en.Type.Optional(en.Type.Union([en.Type.Object({$kind:en.Type.Literal("revertedToSessionId"),revertedToSessionId:en.Type.String()})])),RevertedToEventId:en.Type.Optional(en.Type.Union([en.Type.Object({$kind:en.Type.Literal("revertedToEventId"),revertedToEventId:en.Type.String()})]))}),nD=en.Type.Object({revertedSessionId:en.Type.String()}),nG=en.Type.Object({sessionId:en.Type.String(),newReplId:en.Type.String(),SessionType:en.Type.Optional(en.Type.Union([en.Type.Object({$kind:en.Type.Literal("sessionType"),sessionType:tV})]))}),nM=en.Type.Object({clonedSessionId:en.Type.String()}),nB=en.Type.Object({}),n$=en.Type.Object({}),nw=en.Type.Object({}),nx=en.Type.Object({indexFrom:en.Type.Integer(),indexTo:en.Type.Integer(),lineFrom:en.Type.Integer(),lineTo:en.Type.Integer()}),nF=en.Type.Object({code:en.Type.String(),filePath:en.Type.String(),fileVersion:en.Type.Integer(),fileContent:en.Type.String(),range:nx,language:en.Type.String(),referenceType:tU}),nV=en.Type.Object({identifier:en.Type.String(),url:en.Type.String(),mimeType:en.Type.String()}),nK=en.Type.Object({type:tj,overrideModelName:en.Type.String()}),nH=en.Type.Object({url:en.Type.String(),contents:en.Type.String(),lineNumber:en.Type.Integer(),id:en.Type.String()}),nW=en.Type.Object({name:en.Type.String(),replId:en.Type.String(),description:en.Type.String(),icon:en.Type.String(),language:en.Type.String(),id:en.Type.String(),ownerUsername:en.Type.String(),slug:en.Type.String()}),nY=en.Type.Object({suggestedTemplates:en.Type.Array(nW)}),nq=en.Type.Object({filePath:en.Type.String(),content:en.Type.String(),changeSummary:en.Type.String(),state:tv,messageContentsOffset:en.Type.Integer(),diff:en.Type.String()}),nQ=en.Type.Object({changes:en.Type.Array(nq),commitId:en.Type.String(),summary:en.Type.String()}),nJ=en.Type.Object({datasetId:en.Type.String(),instanceId:en.Type.String(),runId:en.Type.String(),replDescription:en.Type.String(),disableSandbox:en.Type.Boolean(),commandPrefix:en.Type.Array(en.Type.String()),overrideShellExecuteTimeoutSeconds:en.Type.Integer(),overrideMaxSteps:en.Type.Integer()}),nz=en.Type.Object({name:en.Type.String(),description:en.Type.String(),responseText:en.Type.String()}),nX=en.Type.Object({buttons:en.Type.Array(nz)}),nZ=en.Type.Object({description:en.Type.String(),key:en.Type.String()}),n0=en.Type.Object({secrets:en.Type.Array(nZ)}),n1=en.Type.Object({}),n2=en.Type.Object({optionType:en.Type.Optional(en.Type.Union([en.Type.Object({$kind:en.Type.Literal("messageButtonAction"),messageButtonAction:nX}),en.Type.Object({$kind:en.Type.Literal("secretRequestAction"),secretRequestAction:n0}),en.Type.Object({$kind:en.Type.Literal("deployRequestAction"),deployRequestAction:n1})]))}),n3=en.Type.Object({path:en.Type.String(),mimeType:en.Type.String()}),n4=en.Type.Object({url:en.Type.String(),intent:tR}),n5=en.Type.Object({messageContentsOffset:en.Type.Integer(),command:en.Type.String(),workingDirectory:en.Type.String(),isDangerous:en.Type.Boolean()}),n7=en.Type.Object({messageContentsOffset:en.Type.Integer(),toolName:en.Type.String(),reason:en.Type.String(),description:en.Type.String()}),n6=en.Type.Object({messageContentsOffset:en.Type.Integer(),language:en.Type.String(),packageList:en.Type.Array(en.Type.String())}),n8=en.Type.Object({messageContentsOffset:en.Type.Integer(),workflowName:en.Type.String(),setRunButton:en.Type.Boolean(),oldCommand:en.Type.String(),newCommand:en.Type.String()}),n9=en.Type.Object({messageContentsOffset:en.Type.Integer(),buildCommand:en.Type.String(),runCommand:en.Type.String()}),re=en.Type.Object({messageContentsOffset:en.Type.Integer(),workflowName:en.Type.String(),commands:en.Type.Array(en.Type.String()),setRunButton:en.Type.Boolean(),mode:en.Type.String()}),rt=en.Type.Object({summary:en.Type.String(),commitId:en.Type.String(),shellCommands:en.Type.Array(n5),fileChanges:en.Type.Array(nq),workspaceToolNudges:en.Type.Array(n7),packageInstalls:en.Type.Array(n6),didCreateCheckpoint:en.Type.Boolean(),didCountEditRequest:en.Type.Boolean(),runConfigurations:en.Type.Array(n8),deploymentConfigurations:en.Type.Array(n9),workflowConfigurations:en.Type.Array(re)}),rn=en.Type.Object({replitDocumentationQuery:en.Type.String(),fileSearchQuery:en.Type.String(),selectedFiles:en.Type.String(),selectedClasses:en.Type.String()}),rr=en.Type.Object({value:en.Type.String()}),ri=en.Type.Object({name:en.Type.String(),url:en.Type.String(),mimeType:en.Type.String()}),ra=en.Type.Object({files:en.Type.Array(ri)}),rp=en.Type.Object({path:en.Type.String(),formType:en.Type.Optional(en.Type.Union([en.Type.Object({$kind:en.Type.Literal("string"),string:rr}),en.Type.Object({$kind:en.Type.Literal("files"),files:ra})]))}),ro=en.Type.Object({formType:tA,fields:en.Type.Array(rp)}),rT=en.Type.Object({tagName:en.Type.String(),className:en.Type.String(),textContent:en.Type.String(),id:en.Type.String()}),rs=en.Type.Object({filePath:en.Type.String(),lineNumber:en.Type.Integer(),componentName:en.Type.String(),textContent:en.Type.String(),imageSourceUrl:en.Type.String(),hasChildElements:en.Type.Boolean(),siblingCount:en.Type.Integer(),parent:rT,nextSibling:rT,grandparent:rT}),ry=en.Type.Object({maxSteps:en.Type.Integer(),enablePlanMode:en.Type.Optional(en.Type.Boolean()),enableHumanInLoop:en.Type.Optional(en.Type.Boolean()),thinkingEnabled:en.Type.Optional(en.Type.Boolean()),modelProfile:t5,enableAutomatedTesting:en.Type.Optional(en.Type.Boolean()),samplingRate:en.Type.Integer(),webSearchEnabled:en.Type.Optional(en.Type.Boolean()),agentMode:tZ,imageGenerationEnabled:en.Type.Optional(en.Type.Boolean()),initialBuildMode:t1,maxAutonomyEnabled:en.Type.Optional(en.Type.Boolean()),autonomyLevel:t3}),rc=en.Type.Object({content:en.Type.String(),intent:tY,stopReason:tH,debugFullPrompt:en.Type.String(),codeReference:nF,debugErrorSource:tD,media:en.Type.Array(nV),usedModelSelector:nK,sources:en.Type.Array(nH),benchmarkMode:en.Type.Boolean(),benchmarkParameters:nJ,agentAction:n2,uploadedFiles:en.Type.Array(n3),attachedUrls:en.Type.Array(n4),commitId:en.Type.String(),lastSeenWebviewLogTimestamp:en.Type.Number(),assistantProposedActions:rt,ragContext:rn,attachedForm:ro,enableDeepThinking:en.Type.Boolean(),targetedElement:rs,requestedStackBlueprint:tu,quickEdit:en.Type.Boolean(),agentConfig:ry,customStackReplId:en.Type.String(),themeConfig:en.Type.String(),agentStackTriggerType:td,extraActions:en.Type.Optional(en.Type.Union([en.Type.Object({$kind:en.Type.Literal("suggestedTemplates"),suggestedTemplates:nY}),en.Type.Object({$kind:en.Type.Literal("proposedFileChanges"),proposedFileChanges:nQ})]))}),rl=en.Type.Object({messageType:t$,debugErrorSource:tD,content:en.Type.String(),codeReference:nF,usedModelSelector:nK,media:en.Type.Array(nV),sources:en.Type.Array(nH)}),ru=en.Type.Object({command:en.Type.String(),result:en.Type.String(),eventId:en.Type.String(),index:en.Type.Integer(),exitCode:en.Type.Integer(),channelName:en.Type.String(),executed:en.Type.Boolean()}),rE=en.Type.Object({content:en.Type.String()}),rd=en.Type.Object({inputTarget:tf,outputTarget:tf,content:en.Type.String()}),rS=en.Type.Object({role:en.Type.String(),content:en.Type.String()}),rg=en.Type.Object({name:en.Type.String(),required:en.Type.Boolean(),parameterType:nr,description:en.Type.String(),enums:en.Type.Array(en.Type.String())}),rO=en.Type.Object({historicalPrompt:en.Type.String(),messages:en.Type.Array(rS),parameters:en.Type.Array(rg),result:en.Type.Object({type:en.Type.String(),fields:en.Type.Array(en.Type.Object({key:en.Type.String(),value:en.Type.Unknown()}))}),jsonResult:en.Type.String(),forceJson:en.Type.Boolean(),promptName:en.Type.String()}),r_=en.Type.Object({description:en.Type.String()}),rI=en.Type.Object({linesAdded:en.Type.Integer(),linesRemoved:en.Type.Integer(),commitId:en.Type.String()}),rN=en.Type.Object({category:tg,displayName:en.Type.String(),name:en.Type.String(),secrets:en.Type.Array(nZ)}),rb=en.Type.Recursive(function(e){return en.Type.Object({id:en.Type.String(),name:en.Type.String(),status:ts,message:en.Type.String(),timelineEventId:en.Type.String(),subSteps:en.Type.Array(e),blueprints:en.Type.Array(en.Type.String()),blueprintData:en.Type.Array(rN),mode:en.Type.String(),commitId:en.Type.String(),metadata:en.Type.Optional(en.Type.Union([en.Type.Object({$kind:en.Type.Literal("codeChangeStats"),codeChangeStats:rI})]))})},{$id:"AgentPlanStepSchema"}),rA=en.Type.Object({type:tx,id:en.Type.String(),username:en.Type.String(),membership:tQ,roles:en.Type.Array(en.Type.String()),isTeam:en.Type.Boolean(),orgId:en.Type.String(),timeCreated:en.Type.Date(),flaggingContext:en.Type.String(),modelfarmDisabled:en.Type.Boolean(),openrouterDisabled:en.Type.Boolean(),openaiDisabled:en.Type.Boolean(),anthropicDisabled:en.Type.Boolean(),geminiDisabled:en.Type.Boolean(),isEnterprise:en.Type.Boolean()}),rm=en.Type.Object({secrets:en.Type.Array(nZ),message:en.Type.String()}),rR=en.Type.Object({planId:en.Type.String(),objective:r_,step:rb,requiresApproval:en.Type.Boolean(),initialCommitId:en.Type.String(),stackBlueprint:tu,designReferenceFilePaths:en.Type.Array(en.Type.String()),approvedDesignReferenceFilePath:en.Type.String(),userSecretsRequest:rm,agentStackTriggerType:td,Approver:en.Type.Optional(en.Type.Union([en.Type.Object({$kind:en.Type.Literal("approver"),approver:rA})])),CustomStackReplId:en.Type.Optional(en.Type.Union([en.Type.Object({$kind:en.Type.Literal("customStackReplId"),customStackReplId:en.Type.String()})]))}),rC=en.Type.Object({command:en.Type.String(),shellId:en.Type.String(),stdout:en.Type.String(),stderr:en.Type.String(),exitCode:en.Type.Integer(),processId:en.Type.String(),isExecuting:en.Type.Boolean(),output:en.Type.String()}),rv=en.Type.Object({filePath:en.Type.String(),diff:en.Type.String(),removedLines:en.Type.Integer(),addedLines:en.Type.Integer()}),rh=en.Type.Object({filePath:en.Type.String(),content:en.Type.String()}),rf=en.Type.Object({filePath:en.Type.String(),content:en.Type.String(),startLine:en.Type.Integer(),endLine:en.Type.Integer()}),rL=en.Type.Object({inputLanguage:en.Type.String(),inputPackages:en.Type.Array(en.Type.String()),output:en.Type.String(),processId:en.Type.String(),isExecuting:en.Type.Boolean()}),rj=en.Type.Object({queryDescription:en.Type.String(),filePaths:en.Type.Array(en.Type.String()),classNames:en.Type.Array(en.Type.String()),functionNames:en.Type.Array(en.Type.String()),resultFileNames:en.Type.Array(en.Type.String()),resultFileSummaries:en.Type.Array(en.Type.String())}),rP=en.Type.Object({inputLanguage:en.Type.String(),inputPackages:en.Type.Array(en.Type.String())}),rU=en.Type.Object({port:en.Type.Integer(),path:en.Type.String(),imageUrl:en.Type.String()}),rk=en.Type.Object({modules:en.Type.Array(en.Type.String())}),rD=en.Type.Object({name:en.Type.String(),output:en.Type.String()}),rG=en.Type.Object({name:en.Type.String()}),rM=en.Type.Object({name:en.Type.String()}),rB=en.Type.Object({name:en.Type.String(),command:en.Type.String()}),r$=en.Type.Object({name:en.Type.String()}),rw=en.Type.Object({name:en.Type.String()}),rx=en.Type.Object({updatedPlanStep:rb}),rF=en.Type.Object({summarizedObjective:en.Type.String()}),rV=en.Type.Object({resultType:en.Type.String(),shellCommand:en.Type.String(),websitePort:en.Type.Integer(),shellCommandWorkflowName:en.Type.String(),websiteRoute:en.Type.String()}),rK=en.Type.Object({filePath:en.Type.String(),query:en.Type.String()}),rH=en.Type.Object({deps:en.Type.Array(en.Type.String())}),rW=en.Type.Object({deps:en.Type.Array(en.Type.String())}),rY=en.Type.Object({}),rq=en.Type.Object({eventIdBeforeRevert:en.Type.String(),status:nc,originalSessionId:en.Type.String(),checkpointTitle:en.Type.String(),CheckpointCommit:en.Type.Optional(en.Type.Union([en.Type.Object({$kind:en.Type.Literal("checkpointCommit"),checkpointCommit:en.Type.String()})]))}),rQ=en.Type.Object({deploymentTarget:en.Type.String(),run:en.Type.Array(en.Type.String()),build:en.Type.Array(en.Type.String()),publicDir:en.Type.String(),ignorePorts:en.Type.Boolean()}),rJ=en.Type.Object({planStep:rb,starts:en.Type.Date()}),rz=en.Type.Object({eventIds:en.Type.Array(en.Type.String())}),rX=en.Type.Object({}),rZ=en.Type.Object({command:en.Type.String(),output:en.Type.String(),status:en.Type.Optional(en.Type.Union([en.Type.Object({$kind:en.Type.Literal("isExecuting"),isExecuting:en.Type.Boolean()}),en.Type.Object({$kind:en.Type.Literal("exitCode"),exitCode:en.Type.Integer()})]))}),r0=en.Type.Object({}),r1=en.Type.Object({standardModelProfileLlmCalls:en.Type.Integer(),advancedModelProfileLlmCalls:en.Type.Integer(),thinkingEnabledLlmCalls:en.Type.Integer(),webSearchCalls:en.Type.Integer(),rapidBuild:en.Type.Boolean(),testingSubagentRuns:en.Type.Integer(),architectSubagentRuns:en.Type.Integer(),generalSubagentRuns:en.Type.Integer()}),r2=en.Type.Object({taskId:en.Type.String(),description:en.Type.String()}),r3=en.Type.Object({}),r4=en.Type.Object({}),r5=en.Type.Object({commitId:en.Type.String(),usageCents:en.Type.Integer(),workDurationSeconds:en.Type.Integer(),numLocRead:en.Type.Integer(),numFilesRead:en.Type.Integer(),addedLinesOfCode:en.Type.Integer(),removedLinesOfCode:en.Type.Integer(),effortType:en.Type.Optional(en.Type.Union([en.Type.Object({$kind:en.Type.Literal("task"),task:r2}),en.Type.Object({$kind:en.Type.Literal("general"),general:r3}),en.Type.Object({$kind:en.Type.Literal("initialization"),initialization:r4})]))}),r7=en.Type.Object({commitId:en.Type.String(),screenshotUrl:en.Type.String(),description:en.Type.String(),billingRate:no,author:na,progressSummary:en.Type.String(),usageCents:en.Type.Integer(),workDurationSeconds:en.Type.Integer(),addedLinesOfCode:en.Type.Integer(),removedLinesOfCode:en.Type.Integer(),toolCalls:en.Type.Integer(),triggerReason:ns,capabilityUsage:r1,ubbV2:en.Type.Boolean(),numLocRead:en.Type.Integer(),numFilesRead:en.Type.Integer(),refunded:en.Type.Boolean(),relatedEffortBreakdowns:en.Type.Array(r5),heliumCheckpointCreated:en.Type.Boolean()}),r6=en.Type.Object({path:en.Type.String(),paths:en.Type.Array(en.Type.String())}),r8=en.Type.Object({index:en.Type.Integer()}),r9=en.Type.Object({thoughts:en.Type.String(),redactedThoughtsMarkers:en.Type.Array(r8),totalTimeTakenMs:en.Type.Integer(),summary:en.Type.String()}),ie=en.Type.Object({blueprintData:en.Type.Array(rN)}),it=en.Type.Object({url:en.Type.String(),title:en.Type.String(),snippet:en.Type.String(),favicon:en.Type.String()}),ir=en.Type.Object({title:en.Type.String(),url:en.Type.String()}),ii=en.Type.Object({webSearchQueries:en.Type.Array(en.Type.String())}),ia=en.Type.Object({query:en.Type.String(),response:en.Type.String(),pageResults:en.Type.Array(ir),googleSuggestedSearch:ii,searchType:t_}),ip=en.Type.Object({imagePath:en.Type.String(),imageDescription:en.Type.String()}),io=en.Type.Object({}),iT=en.Type.Object({}),is=en.Type.Object({suggestRollbackReason:en.Type.String()}),iy=en.Type.Object({id:en.Type.String(),content:en.Type.String(),status:to,oldStatus:to,updated:en.Type.Boolean(),summary:en.Type.String(),extraDetails:en.Type.String()}),ic=en.Type.Object({tasks:en.Type.Array(iy),commitData:r7,agentMode:tZ,estimatedUsageCents:en.Type.Integer()}),il=en.Type.Object({id:en.Type.String(),contents:en.Type.String(),state:nN}),iu=en.Type.Object({state:n_,trajectories:en.Type.Array(il)}),iE=en.Type.Object({bucketName:en.Type.String(),bucketId:en.Type.String()}),id=en.Type.Object({runId:en.Type.String(),usageCents:en.Type.Integer(),workDurationSeconds:en.Type.Integer(),addedLinesOfCode:en.Type.Integer(),removedLinesOfCode:en.Type.Integer(),toolCalls:en.Type.Integer(),capabilityUsage:r1,numLocRead:en.Type.Integer(),numFilesRead:en.Type.Integer(),refunded:en.Type.Boolean(),relatedEffortBreakdowns:en.Type.Array(r5)}),iS=en.Type.Object({imageDescription:en.Type.String(),numberOfImages:en.Type.Integer(),imageUrls:en.Type.Array(en.Type.String())}),ig=en.Type.Object({query:en.Type.String(),numResults:en.Type.Integer()}),iO=en.Type.Object({name:en.Type.String()}),i_=en.Type.Object({}),iI=en.Type.Object({webviewConsole:en.Type.Boolean(),workflows:en.Type.Boolean(),deployment:en.Type.Boolean(),lsp:en.Type.Boolean()}),iN=en.Type.Object({userNotes:en.Type.String()}),ib=en.Type.Object({}),iA=en.Type.Object({}),im=en.Type.Object({userInstructions:en.Type.String(),result:en.Type.Optional(en.Type.Union([en.Type.Object({$kind:en.Type.Literal("success"),success:iN}),en.Type.Object({$kind:en.Type.Literal("declined"),declined:ib}),en.Type.Object({$kind:en.Type.Literal("timedOut"),timedOut:iA})]))}),iR=en.Type.Object({fileType:nR}),iC=en.Type.Object({}),iv=en.Type.Object({audience:en.Type.Array(en.Type.String()),Priority:en.Type.Optional(en.Type.Union([en.Type.Object({$kind:en.Type.Literal("priority"),priority:en.Type.Number()})]))}),ih=en.Type.Object({text:en.Type.String(),Annotations:en.Type.Optional(en.Type.Union([en.Type.Object({$kind:en.Type.Literal("annotations"),annotations:iv})])),Meta:en.Type.Optional(en.Type.Union([en.Type.Object({$kind:en.Type.Literal("meta"),meta:en.Type.String()})]))}),iL=en.Type.Object({data:en.Type.String(),mimeType:en.Type.String(),Annotations:en.Type.Optional(en.Type.Union([en.Type.Object({$kind:en.Type.Literal("annotations"),annotations:iv})])),Meta:en.Type.Optional(en.Type.Union([en.Type.Object({$kind:en.Type.Literal("meta"),meta:en.Type.String()})]))}),ij=en.Type.Object({data:en.Type.String(),mimeType:en.Type.String(),Annotations:en.Type.Optional(en.Type.Union([en.Type.Object({$kind:en.Type.Literal("annotations"),annotations:iv})])),Meta:en.Type.Optional(en.Type.Union([en.Type.Object({$kind:en.Type.Literal("meta"),meta:en.Type.String()})]))}),iP=en.Type.Object({name:en.Type.String(),uri:en.Type.String(),Title:en.Type.Optional(en.Type.Union([en.Type.Object({$kind:en.Type.Literal("title"),title:en.Type.String()})])),Description:en.Type.Optional(en.Type.Union([en.Type.Object({$kind:en.Type.Literal("description"),description:en.Type.String()})])),MimeType:en.Type.Optional(en.Type.Union([en.Type.Object({$kind:en.Type.Literal("mimeType"),mimeType:en.Type.String()})])),Size:en.Type.Optional(en.Type.Union([en.Type.Object({$kind:en.Type.Literal("size"),size:en.Type.Integer()})])),Annotations:en.Type.Optional(en.Type.Union([en.Type.Object({$kind:en.Type.Literal("annotations"),annotations:iv})])),Meta:en.Type.Optional(en.Type.Union([en.Type.Object({$kind:en.Type.Literal("meta"),meta:en.Type.String()})]))}),iU=en.Type.Object({uri:en.Type.String(),MimeType:en.Type.Optional(en.Type.Union([en.Type.Object({$kind:en.Type.Literal("mimeType"),mimeType:en.Type.String()})])),Meta:en.Type.Optional(en.Type.Union([en.Type.Object({$kind:en.Type.Literal("meta"),meta:en.Type.String()})])),contents:en.Type.Optional(en.Type.Union([en.Type.Object({$kind:en.Type.Literal("text"),text:en.Type.String()}),en.Type.Object({$kind:en.Type.Literal("blob"),blob:en.Type.String()})]))}),ik=en.Type.Object({resource:iU,Annotations:en.Type.Optional(en.Type.Union([en.Type.Object({$kind:en.Type.Literal("annotations"),annotations:iv})])),Meta:en.Type.Optional(en.Type.Union([en.Type.Object({$kind:en.Type.Literal("meta"),meta:en.Type.String()})]))}),iD=en.Type.Object({block:en.Type.Optional(en.Type.Union([en.Type.Object({$kind:en.Type.Literal("textContent"),textContent:ih}),en.Type.Object({$kind:en.Type.Literal("imageContent"),imageContent:iL}),en.Type.Object({$kind:en.Type.Literal("audioContent"),audioContent:ij}),en.Type.Object({$kind:en.Type.Literal("resourceLink"),resourceLink:iP}),en.Type.Object({$kind:en.Type.Literal("embeddedResource"),embeddedResource:ik})]))}),iG=en.Type.Object({content:en.Type.String(),contentBlocks:en.Type.Array(iD),structuredContent:en.Type.Object({type:en.Type.String(),fields:en.Type.Array(en.Type.Object({key:en.Type.String(),value:en.Type.Unknown()}))}),isError:en.Type.Boolean()}),iM=en.Type.Object({progress:en.Type.Number(),Total:en.Type.Optional(en.Type.Union([en.Type.Object({$kind:en.Type.Literal("total"),total:en.Type.Number()})])),Message:en.Type.Optional(en.Type.Union([en.Type.Object({$kind:en.Type.Literal("message"),message:en.Type.String()})]))}),iB=en.Type.Object({toolName:en.Type.String(),serverName:en.Type.String(),parameters:en.Type.Object({type:en.Type.String(),fields:en.Type.Array(en.Type.Object({key:en.Type.String(),value:en.Type.Unknown()}))}),result:iG,progress:iM,insecureError:en.Type.String()}),i$=en.Type.Object({alertLevel:nv,message:en.Type.String(),nextAction:nf}),iw=en.Type.Object({type:nU,environment:nj,keys:en.Type.Array(en.Type.String())}),ix=en.Type.Object({type:nU,environment:nj,keys:en.Type.Array(en.Type.String())}),iF=en.Type.Object({type:nU,environment:nj,keys:en.Type.Array(en.Type.String())}),iV=en.Type.Object({toolName:en.Type.String(),planStepId:en.Type.String(),message:en.Type.String(),toolData:en.Type.Optional(en.Type.Union([en.Type.Object({$kind:en.Type.Literal("shellExecutionData"),shellExecutionData:rC}),en.Type.Object({$kind:en.Type.Literal("fileEditData"),fileEditData:rv}),en.Type.Object({$kind:en.Type.Literal("createFileData"),createFileData:rh}),en.Type.Object({$kind:en.Type.Literal("readFileData"),readFileData:rf}),en.Type.Object({$kind:en.Type.Literal("packagerInstallData"),packagerInstallData:rL}),en.Type.Object({$kind:en.Type.Literal("searchFilesystemData"),searchFilesystemData:rj}),en.Type.Object({$kind:en.Type.Literal("messageData"),messageData:rc}),en.Type.Object({$kind:en.Type.Literal("packagerUninstallData"),packagerUninstallData:rP}),en.Type.Object({$kind:en.Type.Literal("screenshotData"),screenshotData:rU}),en.Type.Object({$kind:en.Type.Literal("toolchainInstallData"),toolchainInstallData:rk}),en.Type.Object({$kind:en.Type.Literal("workflowsGetOutputToolData"),workflowsGetOutputToolData:rD}),en.Type.Object({$kind:en.Type.Literal("workflowsRemoveRunConfigToolData"),workflowsRemoveRunConfigToolData:rG}),en.Type.Object({$kind:en.Type.Literal("workflowsRestartToolData"),workflowsRestartToolData:rM}),en.Type.Object({$kind:en.Type.Literal("workflowsSetRunConfigToolData"),workflowsSetRunConfigToolData:rB}),en.Type.Object({$kind:en.Type.Literal("workflowsStartToolData"),workflowsStartToolData:r$}),en.Type.Object({$kind:en.Type.Literal("workflowsStopToolData"),workflowsStopToolData:rw}),en.Type.Object({$kind:en.Type.Literal("planProgressData"),planProgressData:rx}),en.Type.Object({$kind:en.Type.Literal("summarizeObjectiveData"),summarizeObjectiveData:rF}),en.Type.Object({$kind:en.Type.Literal("presentResultsToolData"),presentResultsToolData:rV}),en.Type.Object({$kind:en.Type.Literal("searchFileData"),searchFileData:rK}),en.Type.Object({$kind:en.Type.Literal("systemDependencyInstallData"),systemDependencyInstallData:rH}),en.Type.Object({$kind:en.Type.Literal("systemDependencyUninstallData"),systemDependencyUninstallData:rW}),en.Type.Object({$kind:en.Type.Literal("deployData"),deployData:rY}),en.Type.Object({$kind:en.Type.Literal("revertData"),revertData:rq}),en.Type.Object({$kind:en.Type.Literal("deployConfigData"),deployConfigData:rQ}),en.Type.Object({$kind:en.Type.Literal("agentPlanStepBegin"),agentPlanStepBegin:rJ}),en.Type.Object({$kind:en.Type.Literal("acknowledgeUserMessage"),acknowledgeUserMessage:rz}),en.Type.Object({$kind:en.Type.Literal("createPostgresqlDatabaseData"),createPostgresqlDatabaseData:rX}),en.Type.Object({$kind:en.Type.Literal("sqlExecutionData"),sqlExecutionData:rZ}),en.Type.Object({$kind:en.Type.Literal("newSessionNudge"),newSessionNudge:r0}),en.Type.Object({$kind:en.Type.Literal("commitData"),commitData:r7}),en.Type.Object({$kind:en.Type.Literal("readDirData"),readDirData:r6}),en.Type.Object({$kind:en.Type.Literal("thoughts"),thoughts:r9}),en.Type.Object({$kind:en.Type.Literal("blueprintsSetup"),blueprintsSetup:ie}),en.Type.Object({$kind:en.Type.Literal("webPageVisitData"),webPageVisitData:it}),en.Type.Object({$kind:en.Type.Literal("webSearchData"),webSearchData:ia}),en.Type.Object({$kind:en.Type.Literal("imageGenerationData"),imageGenerationData:ip}),en.Type.Object({$kind:en.Type.Literal("projectImportCompleted"),projectImportCompleted:io}),en.Type.Object({$kind:en.Type.Literal("memoryCompressionData"),memoryCompressionData:iT}),en.Type.Object({$kind:en.Type.Literal("suggestRollbackData"),suggestRollbackData:is}),en.Type.Object({$kind:en.Type.Literal("taskListData"),taskListData:ic}),en.Type.Object({$kind:en.Type.Literal("samplingEvent"),samplingEvent:iu}),en.Type.Object({$kind:en.Type.Literal("setupObjectStorageData"),setupObjectStorageData:iE}),en.Type.Object({$kind:en.Type.Literal("endOfRunSummaryData"),endOfRunSummaryData:id}),en.Type.Object({$kind:en.Type.Literal("stockImageData"),stockImageData:iS}),en.Type.Object({$kind:en.Type.Literal("searchIntegrationsData"),searchIntegrationsData:ig}),en.Type.Object({$kind:en.Type.Literal("viewIntegrationData"),viewIntegrationData:iO}),en.Type.Object({$kind:en.Type.Literal("setupModelfarmData"),setupModelfarmData:i_}),en.Type.Object({$kind:en.Type.Literal("viewLogsData"),viewLogsData:iI}),en.Type.Object({$kind:en.Type.Literal("uiTestingSubagentTakeOverData"),uiTestingSubagentTakeOverData:im}),en.Type.Object({$kind:en.Type.Literal("viewSpecialFiles"),viewSpecialFiles:iR}),en.Type.Object({$kind:en.Type.Literal("designGuidelinesData"),designGuidelinesData:iC}),en.Type.Object({$kind:en.Type.Literal("mcpToolData"),mcpToolData:iB}),en.Type.Object({$kind:en.Type.Literal("alertData"),alertData:i$}),en.Type.Object({$kind:en.Type.Literal("viewEnvVarData"),viewEnvVarData:iw}),en.Type.Object({$kind:en.Type.Literal("setEnvVarData"),setEnvVarData:ix}),en.Type.Object({$kind:en.Type.Literal("deleteEnvVarData"),deleteEnvVarData:iF})]))}),iK=en.Type.Object({tags:en.Type.Array(en.Type.String()),values:en.Type.Array(en.Type.Number())}),iH=en.Type.Object({name:en.Type.String(),metrics:en.Type.Array(iK)}),iW=en.Type.Object({increment:en.Type.Array(iH),decrement:en.Type.Array(iH),gauge:en.Type.Array(iH),histogram:en.Type.Array(iH),distribution:en.Type.Array(iH),timing:en.Type.Array(iH)}),iY=en.Type.Object({completionReason:tN,steps:en.Type.Integer(),exception:en.Type.String(),datasetId:en.Type.String(),instanceId:en.Type.String(),runId:en.Type.String(),metrics:iW}),iq=en.Type.Object({commitId:en.Type.String(),message:en.Type.String(),eventIdBeforeRevert:en.Type.String(),originalSessionId:en.Type.String(),databaseRollbackTimestamp:en.Type.String(),deploymentBuildId:en.Type.String(),rollbackDatabase:en.Type.Boolean(),revertedToSessionId:en.Type.String(),revertedToEventId:en.Type.String()}),iQ=en.Type.Object({exposeLocalhost:en.Type.Boolean(),localPort:en.Type.String(),externalPort:en.Type.String()}),iJ=en.Type.Object({provider:en.Type.String(),buildCommand:en.Type.String(),runCommand:en.Type.String(),logs:en.Type.Array(en.Type.String()),envKeys:en.Type.Array(en.Type.String()),ports:en.Type.Array(iQ),PublicDir:en.Type.Optional(en.Type.Union([en.Type.Object({$kind:en.Type.Literal("publicDir"),publicDir:en.Type.String()})])),AppType:en.Type.Optional(en.Type.Union([en.Type.Object({$kind:en.Type.Literal("appType"),appType:en.Type.String()})])),EntrypointFilePath:en.Type.Optional(en.Type.Union([en.Type.Object({$kind:en.Type.Literal("entrypointFilePath"),entrypointFilePath:en.Type.String()})]))}),iz=en.Type.Object({name:en.Type.String(),type:en.Type.String(),description:en.Type.String(),before:en.Type.String(),after:en.Type.String(),File:en.Type.Optional(en.Type.Union([en.Type.Object({$kind:en.Type.Literal("file"),file:en.Type.String()})]))}),iX=en.Type.Object({errors:en.Type.Array(en.Type.String()),suggestions:en.Type.Array(iz)}),iZ=en.Type.Object({error:iJ,result:iX,usedModelSelector:nK}),i0=en.Type.Object({key:en.Type.String(),status:tr}),i1=en.Type.Object({providedSecrets:en.Type.Array(i0)}),i2=en.Type.Object({planEventId:en.Type.String(),approver:rA,initialBuildMode:t1,userSecretsResponse:i1,agentConfig:ry}),i3=en.Type.Object({response:en.Type.Array(i0)}),i4=en.Type.Object({errors:en.Type.Array(en.Type.String()),generatedReplName:en.Type.String(),isAgentRecommended:en.Type.Boolean(),bestTemplate:nW,matchedPlanNames:en.Type.Array(en.Type.String()),scaffoldTemplateName:en.Type.String()}),i5=en.Type.Object({filePath:en.Type.String(),linesAdded:en.Type.Integer(),linesRemoved:en.Type.Integer(),changeSummary:en.Type.String()}),i7=en.Type.Object({eventWhichProposedChanges:en.Type.String(),appliedChanges:en.Type.Array(i5),commitHash:en.Type.String()}),i6=en.Type.Object({filePath:en.Type.String(),changeSummary:en.Type.String()}),i8=en.Type.Object({eventWhichProposedChanges:en.Type.String(),eventWhichAppliedChanges:en.Type.String(),revertedChanges:en.Type.Array(i6)}),i9=en.Type.Object({eventWhichProposedPackageInstall:en.Type.String(),messageContentsOffset:en.Type.Integer(),processId:en.Type.String()}),ae=en.Type.Object({eventWhichProposedPackageInstall:en.Type.String(),messageContentsOffset:en.Type.Integer(),installationOutput:en.Type.String(),processId:en.Type.String(),exitCode:en.Type.Integer()}),at=en.Type.Object({eventWhichProposedShellExecution:en.Type.String(),messageContentsOffset:en.Type.Integer(),processId:en.Type.String()}),an=en.Type.Object({eventWhichProposedShellExecution:en.Type.String(),messageContentsOffset:en.Type.Integer(),processId:en.Type.String(),commandOutput:en.Type.String(),exitCode:en.Type.Integer()}),ar=en.Type.Object({eventWhichProposedRunConfiguration:en.Type.String(),messageContentsOffset:en.Type.Integer()}),ai=en.Type.Object({eventWhichProposedDeploymentConfiguration:en.Type.String(),messageContentsOffset:en.Type.Integer()}),aa=en.Type.Object({eventWhichProposedWorkflowConfiguration:en.Type.String(),messageContentsOffset:en.Type.Integer()}),ap=en.Type.Object({contents:en.Type.Optional(en.Type.Union([en.Type.Object({$kind:en.Type.Literal("appliedFileChanges"),appliedFileChanges:i7}),en.Type.Object({$kind:en.Type.Literal("revertedFileChanges"),revertedFileChanges:i8}),en.Type.Object({$kind:en.Type.Literal("installingPackages"),installingPackages:i9}),en.Type.Object({$kind:en.Type.Literal("installedPackages"),installedPackages:ae}),en.Type.Object({$kind:en.Type.Literal("startedShellExecution"),startedShellExecution:at}),en.Type.Object({$kind:en.Type.Literal("finishedShellExecution"),finishedShellExecution:an}),en.Type.Object({$kind:en.Type.Literal("appliedRunConfiguration"),appliedRunConfiguration:ar}),en.Type.Object({$kind:en.Type.Literal("appliedDeploymentConfiguration"),appliedDeploymentConfiguration:ai}),en.Type.Object({$kind:en.Type.Literal("appliedWorkflowConfiguration"),appliedWorkflowConfiguration:aa})]))}),ao=en.Type.Object({stepId:en.Type.String(),state:nu}),aT=en.Type.Object({cancelCurrentStep:en.Type.Boolean()}),as=en.Type.Object({featureName:en.Type.String(),id:en.Type.Integer(),isSelected:en.Type.Boolean()}),ay=en.Type.Object({enabled:en.Type.Boolean(),isSelected:en.Type.Boolean()}),ac=en.Type.Object({enabled:en.Type.Boolean(),isSelected:en.Type.Boolean()}),al=en.Type.Object({newFeatureRequests:en.Type.Array(as),debugRequest:ay,keepWorkingRequest:ac}),au=en.Type.Object({}),aE=en.Type.Object({question:en.Type.String(),confirmText:en.Type.String(),rejectText:en.Type.String(),allowAutoConfirm:en.Type.Boolean()}),ad=en.Type.Object({question:en.Type.String(),options:en.Type.Array(en.Type.String())}),aS=en.Type.Object({question:en.Type.String(),responsePlaceholderText:en.Type.String()}),ag=en.Type.Object({queryType:en.Type.Optional(en.Type.Union([en.Type.Object({$kind:en.Type.Literal("booleanQuery"),booleanQuery:aE}),en.Type.Object({$kind:en.Type.Literal("choiceQuery"),choiceQuery:ad}),en.Type.Object({$kind:en.Type.Literal("textQuery"),textQuery:aS})]))}),aO=en.Type.Object({contextSummary:en.Type.String(),queries:en.Type.Array(ag)}),a_=en.Type.Object({taskId:en.Type.String()}),aI=en.Type.Object({taskListEventId:en.Type.String()}),aN=en.Type.Object({sqlQuery:en.Type.String(),executionReason:en.Type.String()}),ab=en.Type.Object({connectorIds:en.Type.Array(en.Type.String()),connectionIds:en.Type.Array(en.Type.String())}),aA=en.Type.Object({taskListEventId:en.Type.String(),userSecretsRequest:rm,addingIntegrationRequest:ab}),am=en.Type.Object({userSecretsRequest:rm,addingIntegrationRequest:ab}),aR=en.Type.Object({blueprintName:en.Type.String(),blueprintDisplayName:en.Type.String()}),aC=en.Type.Object({key:en.Type.String(),environment:nj}),av=en.Type.Object({envVars:en.Type.Array(aC),message:en.Type.String()}),ah=en.Type.Object({message:en.Type.String(),request:en.Type.Optional(en.Type.Union([en.Type.Object({$kind:en.Type.Literal("nextStepRequest"),nextStepRequest:al}),en.Type.Object({$kind:en.Type.Literal("userSecretsRequest"),userSecretsRequest:rm}),en.Type.Object({$kind:en.Type.Literal("deployRequest"),deployRequest:au}),en.Type.Object({$kind:en.Type.Literal("queryRequest"),queryRequest:aO}),en.Type.Object({$kind:en.Type.Literal("markTaskCompleteRequest"),markTaskCompleteRequest:a_}),en.Type.Object({$kind:en.Type.Literal("approveTaskListRequest"),approveTaskListRequest:aI}),en.Type.Object({$kind:en.Type.Literal("approveSqlQueryRequest"),approveSqlQueryRequest:aN}),en.Type.Object({$kind:en.Type.Literal("addingIntegrationRequest"),addingIntegrationRequest:ab}),en.Type.Object({$kind:en.Type.Literal("approveInitialBuildMvpRequest"),approveInitialBuildMvpRequest:aA}),en.Type.Object({$kind:en.Type.Literal("approveInitialBuildVisualPhaseRequest"),approveInitialBuildVisualPhaseRequest:am}),en.Type.Object({$kind:en.Type.Literal("approveBlueprintRequest"),approveBlueprintRequest:aR}),en.Type.Object({$kind:en.Type.Literal("environmentConfigRequest"),environmentConfigRequest:av})]))}),af=en.Type.Object({content:en.Type.String(),uploadedFiles:en.Type.Array(n3),attachedUrls:en.Type.Array(n4)}),aL=en.Type.Object({selectedFeatureId:en.Type.Integer(),featureName:en.Type.String(),userMessage:af}),aj=en.Type.Object({accepted:en.Type.Boolean()}),aP=en.Type.Object({accepted:en.Type.Boolean()}),aU=en.Type.Object({response:en.Type.Optional(en.Type.Union([en.Type.Object({$kind:en.Type.Literal("newFeatureResponse"),newFeatureResponse:aL}),en.Type.Object({$kind:en.Type.Literal("debugResponse"),debugResponse:aj}),en.Type.Object({$kind:en.Type.Literal("keepWorkingResponse"),keepWorkingResponse:aP})]))}),ak=en.Type.Object({}),aD=en.Type.Object({response:en.Type.Boolean(),reason:en.Type.String()}),aG=en.Type.Object({response:en.Type.String(),reason:en.Type.String()}),aM=en.Type.Object({response:en.Type.String()}),aB=en.Type.Object({}),a$=en.Type.Object({responseType:en.Type.Optional(en.Type.Union([en.Type.Object({$kind:en.Type.Literal("booleanResponse"),booleanResponse:aD}),en.Type.Object({$kind:en.Type.Literal("choiceResponse"),choiceResponse:aG}),en.Type.Object({$kind:en.Type.Literal("textResponse"),textResponse:aM}),en.Type.Object({$kind:en.Type.Literal("noResponse"),noResponse:aB})]))}),aw=en.Type.Object({responses:en.Type.Array(a$)}),ax=en.Type.Object({taskId:en.Type.String()}),aF=en.Type.Object({taskListEventId:en.Type.String(),approved:en.Type.Boolean(),tasks:en.Type.Array(iy),agentConfig:ry}),aV=en.Type.Object({sqlQueryEventId:en.Type.String(),approved:en.Type.Boolean()}),aK=en.Type.Object({connectionIds:en.Type.Array(en.Type.String()),rejectedConnectionIds:en.Type.Array(en.Type.String()),rejectedConnectorIds:en.Type.Array(en.Type.String())}),aH=en.Type.Object({approved:en.Type.Boolean(),userSecretsResponse:i1,addingIntegrationsResponse:aK,agentConfig:ry}),aW=en.Type.Object({approved:en.Type.Boolean(),userSecretsResponse:i1,addingIntegrationsResponse:aK,agentConfig:ry}),aY=en.Type.Object({blueprintEventId:en.Type.String(),approved:en.Type.Boolean(),blueprintName:en.Type.String()}),aq=en.Type.Object({key:en.Type.String(),value:en.Type.String(),environment:nj}),aQ=en.Type.Object({providedEnvVars:en.Type.Array(aq)}),aJ=en.Type.Object({requestEventId:en.Type.String(),response:en.Type.Optional(en.Type.Union([en.Type.Object({$kind:en.Type.Literal("nextStepResponse"),nextStepResponse:aU}),en.Type.Object({$kind:en.Type.Literal("userSecretsResponse"),userSecretsResponse:i1}),en.Type.Object({$kind:en.Type.Literal("deployResponse"),deployResponse:ak}),en.Type.Object({$kind:en.Type.Literal("queryResponse"),queryResponse:aw}),en.Type.Object({$kind:en.Type.Literal("userMarkedTaskComplete"),userMarkedTaskComplete:ax}),en.Type.Object({$kind:en.Type.Literal("approveTaskListResponse"),approveTaskListResponse:aF}),en.Type.Object({$kind:en.Type.Literal("approveSqlQueryResponse"),approveSqlQueryResponse:aV}),en.Type.Object({$kind:en.Type.Literal("addingIntegrationsResponse"),addingIntegrationsResponse:aK}),en.Type.Object({$kind:en.Type.Literal("approveInitialBuildMvpResponse"),approveInitialBuildMvpResponse:aH}),en.Type.Object({$kind:en.Type.Literal("approveInitialBuildVisualPhaseResponse"),approveInitialBuildVisualPhaseResponse:aW}),en.Type.Object({$kind:en.Type.Literal("approveBlueprintResponse"),approveBlueprintResponse:aY}),en.Type.Object({$kind:en.Type.Literal("envVarsResponse"),envVarsResponse:aQ})]))}),az=en.Type.Object({expectedResponseString:en.Type.String(),streamedResponse:en.Type.Boolean(),timeBetweenChunks:en.Type.Number()}),aX=en.Type.Object({fullness:en.Type.Number()}),aZ=en.Type.Object({}),a0=en.Type.Object({fileName:en.Type.String(),downloadUrl:en.Type.String()}),a1=en.Type.Object({mvpObjective:en.Type.String(),stack:en.Type.String(),followupSteps:en.Type.Array(en.Type.String()),uploadedFiles:en.Type.Array(a0),extraDetails:en.Type.String(),techStack:en.Type.String(),mvpSuccessCriteria:en.Type.String()}),a2=en.Type.Object({}),a3=en.Type.Object({willContinueWorking:en.Type.Boolean()}),a4=en.Type.Object({version:en.Type.Integer()}),a5=en.Type.Object({}),a7=en.Type.Object({type:tc}),a6=en.Type.Object({description:en.Type.String(),onlyIfDiff:en.Type.Boolean(),author:na,deploymentBuildId:en.Type.String()}),a8=en.Type.Object({importSource:ta,agentConfig:ry}),a9=en.Type.Object({tipId:en.Type.String(),title:en.Type.String(),recommendedReason:en.Type.String()}),pe=en.Type.Object({testingPlan:en.Type.String(),finalSummary:en.Type.String(),title:en.Type.String(),resultType:nd}),pt=en.Type.Object({task:en.Type.String(),taskSummary:en.Type.String(),result:en.Type.String(),resultSummary:en.Type.String(),taskTitle:en.Type.String(),eventFilter:ng}),pn=en.Type.Object({subagentId:en.Type.String(),childSessionId:en.Type.String(),totalExecutionTimeSeconds:en.Type.Integer(),subagentName:en.Type.String(),contents:en.Type.Optional(en.Type.Union([en.Type.Object({$kind:en.Type.Literal("uiTestingSubagentEventContents"),uiTestingSubagentEventContents:pe}),en.Type.Object({$kind:en.Type.Literal("generalSubagentEventContents"),generalSubagentEventContents:pt})]))}),pr=en.Type.Object({gcsDownloadUrl:en.Type.String(),mimeType:en.Type.String(),narration:en.Type.String(),miniNarration:en.Type.String()}),pi=en.Type.Object({phase:nA}),pa=en.Type.Object({enabled:en.Type.Boolean(),reason:en.Type.String()}),pp=en.Type.Object({operation:en.Type.Optional(en.Type.Union([en.Type.Object({$kind:en.Type.Literal("automatedTesting"),automatedTesting:pa})]))}),po=en.Type.Object({benchmarkParameters:nJ,contents:en.Type.Optional(en.Type.Union([en.Type.Object({$kind:en.Type.Literal("sessionCreationEventContents"),sessionCreationEventContents:nw}),en.Type.Object({$kind:en.Type.Literal("messageEventContents"),messageEventContents:rc}),en.Type.Object({$kind:en.Type.Literal("inlineActionEventContents"),inlineActionEventContents:rl}),en.Type.Object({$kind:en.Type.Literal("localShellExecutionEventContents"),localShellExecutionEventContents:ru}),en.Type.Object({$kind:en.Type.Literal("shellSuggestionEventContents"),shellSuggestionEventContents:rE}),en.Type.Object({$kind:en.Type.Literal("translateEventContents"),translateEventContents:rd}),en.Type.Object({$kind:en.Type.Literal("byoPromptEventContents"),byoPromptEventContents:rO}),en.Type.Object({$kind:en.Type.Literal("agentPlanEventContents"),agentPlanEventContents:rR}),en.Type.Object({$kind:en.Type.Literal("agentTimelineEventContents"),agentTimelineEventContents:iV}),en.Type.Object({$kind:en.Type.Literal("benchmarkConclusion"),benchmarkConclusion:iY}),en.Type.Object({$kind:en.Type.Literal("revertEventContents"),revertEventContents:iq}),en.Type.Object({$kind:en.Type.Literal("hostingDebugSummaryEventContents"),hostingDebugSummaryEventContents:iZ}),en.Type.Object({$kind:en.Type.Literal("approvePlanEventContents"),approvePlanEventContents:i2}),en.Type.Object({$kind:en.Type.Literal("userSecretsResponseEventContents"),userSecretsResponseEventContents:i3}),en.Type.Object({$kind:en.Type.Literal("replCreationEventContents"),replCreationEventContents:i4}),en.Type.Object({$kind:en.Type.Literal("iterativeAgentEventContents"),iterativeAgentEventContents:ap}),en.Type.Object({$kind:en.Type.Literal("stepTooComplexEventContents"),stepTooComplexEventContents:ao}),en.Type.Object({$kind:en.Type.Literal("stepTooComplexAcknowledgementEventContents"),stepTooComplexAcknowledgementEventContents:aT}),en.Type.Object({$kind:en.Type.Literal("agentAskUserForActionRequest"),agentAskUserForActionRequest:ah}),en.Type.Object({$kind:en.Type.Literal("agentAskUserForActionResponse"),agentAskUserForActionResponse:aJ}),en.Type.Object({$kind:en.Type.Literal("integrationTestEventContents"),integrationTestEventContents:az}),en.Type.Object({$kind:en.Type.Literal("contextComplexityEventContents"),contextComplexityEventContents:aX}),en.Type.Object({$kind:en.Type.Literal("eventTooLargeEventContents"),eventTooLargeEventContents:aZ}),en.Type.Object({$kind:en.Type.Literal("startRapidBuildEventContents"),startRapidBuildEventContents:a1}),en.Type.Object({$kind:en.Type.Literal("databaseNudgeEventContents"),databaseNudgeEventContents:a2}),en.Type.Object({$kind:en.Type.Literal("rapidBuildConcluded"),rapidBuildConcluded:a3}),en.Type.Object({$kind:en.Type.Literal("versionMigrated"),versionMigrated:a4}),en.Type.Object({$kind:en.Type.Literal("rapidBuildStarted"),rapidBuildStarted:a5}),en.Type.Object({$kind:en.Type.Literal("requestFeatureAddData"),requestFeatureAddData:a7}),en.Type.Object({$kind:en.Type.Literal("triggerCheckpointEventContents"),triggerCheckpointEventContents:a6}),en.Type.Object({$kind:en.Type.Literal("setupImportedProjectEventContents"),setupImportedProjectEventContents:a8}),en.Type.Object({$kind:en.Type.Literal("tipRecommendation"),tipRecommendation:a9}),en.Type.Object({$kind:en.Type.Literal("subagentRunning"),subagentRunning:pn}),en.Type.Object({$kind:en.Type.Literal("uiTestingSubagentExecutionEventContents"),uiTestingSubagentExecutionEventContents:pr}),en.Type.Object({$kind:en.Type.Literal("initialBuildStateUpdateEventContents"),initialBuildStateUpdateEventContents:pi}),en.Type.Object({$kind:en.Type.Literal("agentConfigUpdateEventContents"),agentConfigUpdateEventContents:pp})]))}),pT=en.Type.Object({}),ps=en.Type.Object({mostRecentFile:en.Type.String(),fileContext:en.Type.Array(nF),modelSelector:nK,intent:tY,extraResources:en.Type.Array(en.Type.String()),useRag:en.Type.Boolean(),agentConfig:ry}),py=en.Type.Object({mostRecentFile:en.Type.String(),fileContext:en.Type.Array(nF),modelSelector:nK,extraResources:en.Type.Array(en.Type.String()),useRag:en.Type.Boolean()}),pc=en.Type.Object({}),pl=en.Type.Object({modelSelector:nK}),pu=en.Type.Object({modelSelector:nK}),pE=en.Type.Object({modelSelector:nK}),pd=en.Type.Object({}),pS=en.Type.Object({}),pg=en.Type.Object({modelSelector:nK}),pO=en.Type.Object({modelSelector:nK}),p_=en.Type.Object({}),pI=en.Type.Object({}),pN=en.Type.Object({}),pb=en.Type.Object({}),pA=en.Type.Object({metadata:en.Type.Optional(en.Type.Union([en.Type.Object({$kind:en.Type.Literal("sessionCreationEventContext"),sessionCreationEventContext:pT}),en.Type.Object({$kind:en.Type.Literal("messageEventContext"),messageEventContext:ps}),en.Type.Object({$kind:en.Type.Literal("inlineActionEventContext"),inlineActionEventContext:py}),en.Type.Object({$kind:en.Type.Literal("localShellExecutionEventContext"),localShellExecutionEventContext:pc}),en.Type.Object({$kind:en.Type.Literal("shellSuggestionEventContext"),shellSuggestionEventContext:pl}),en.Type.Object({$kind:en.Type.Literal("translateEventContext"),translateEventContext:pu}),en.Type.Object({$kind:en.Type.Literal("byoPromptEventContext"),byoPromptEventContext:pE}),en.Type.Object({$kind:en.Type.Literal("agentPlanEventContext"),agentPlanEventContext:pd}),en.Type.Object({$kind:en.Type.Literal("agentTimelineEventContext"),agentTimelineEventContext:pS}),en.Type.Object({$kind:en.Type.Literal("hostingDebugSummaryEventContext"),hostingDebugSummaryEventContext:pg}),en.Type.Object({$kind:en.Type.Literal("replCreationEventContext"),replCreationEventContext:pO}),en.Type.Object({$kind:en.Type.Literal("userSecretsResponseEventContext"),userSecretsResponseEventContext:p_}),en.Type.Object({$kind:en.Type.Literal("revertEventContext"),revertEventContext:pI}),en.Type.Object({$kind:en.Type.Literal("iterativeAgentEventContext"),iterativeAgentEventContext:pN}),en.Type.Object({$kind:en.Type.Literal("integrationTestEventContext"),integrationTestEventContext:pb})]))}),pm=en.Type.Object({typeUrl:en.Type.String(),value:en.Type.Uint8Array()}),pR=en.Type.Object({id:en.Type.String(),operationType:t6,key:en.Type.String(),value:en.Type.String(),intValue:en.Type.Integer(),boolValue:en.Type.Boolean(),protobufValue:pm,structValue:en.Type.Object({type:en.Type.String(),fields:en.Type.Array(en.Type.Object({key:en.Type.String(),value:en.Type.Unknown()}))})}),pC=en.Type.Object({content:en.Type.String()}),pv=en.Type.Object({content:en.Type.String()}),ph=en.Type.Object({sources:en.Type.Array(nH)}),pf=en.Type.Object({templates:en.Type.Array(nW)}),pL=en.Type.Object({jsonResult:en.Type.String()}),pj=en.Type.Object({content:en.Type.String()}),pP=en.Type.Object({contents:iV}),pU=en.Type.Object({contents:iZ}),pk=en.Type.Object({contents:i4}),pD=en.Type.Object({contents:ru}),pG=en.Type.Object({content:en.Type.String()}),pM=en.Type.Object({change:nq,commitId:en.Type.String()}),pB=en.Type.Object({Update:en.Type.Optional(en.Type.Union([en.Type.Object({$kind:en.Type.Literal("update"),update:nq})])),Replacement:en.Type.Optional(en.Type.Union([en.Type.Object({$kind:en.Type.Literal("replacement"),replacement:nq})]))}),p$=en.Type.Object({summary:en.Type.String()}),pw=en.Type.Object({command:n5}),px=en.Type.Object({summary:en.Type.String(),commitId:en.Type.String(),didCreateCheckpoint:en.Type.Optional(en.Type.Boolean()),didCountEditRequest:en.Type.Boolean()}),pF=en.Type.Object({request:ah}),pV=en.Type.Object({newContext:rn}),pK=en.Type.Object({nudge:n7}),pH=en.Type.Object({content:en.Type.String()}),pW=en.Type.Object({packageInstalls:n6}),pY=en.Type.Object({newStatus:nc}),pq=en.Type.Object({path:en.Type.String(),value:en.Type.String()}),pQ=en.Type.Object({path:en.Type.String(),value:en.Type.String()}),pJ=en.Type.Object({runConfiguration:n8}),pz=en.Type.Object({deploymentConfiguration:n9}),pX=en.Type.Object({content:en.Type.String()}),pZ=en.Type.Object({content:en.Type.String(),totalTimeTakenMs:en.Type.Integer()}),p0=en.Type.Object({marker:r8}),p1=en.Type.Object({workflowConfiguration:re}),p2=en.Type.Object({removedLines:en.Type.Integer(),addedLines:en.Type.Integer()}),p3=en.Type.Object({filePath:en.Type.String()}),p4=en.Type.Object({planId:en.Type.String(),step:rb,objective:r_,initialCommitId:en.Type.String(),stackBlueprint:tu,agentStackTriggerType:td}),p5=en.Type.Object({requiresApproval:en.Type.Boolean()}),p7=en.Type.Object({summary:en.Type.String()}),p6=en.Type.Object({trajectoryId:en.Type.String(),contents:en.Type.String(),state:nN}),p8=en.Type.Object({state:n_}),p9=en.Type.Object({state:pr}),oe=en.Type.Object({state:pn,totalExecutionTimeSeconds:en.Type.Integer()}),ot=en.Type.Object({id:en.Type.String(),operation:en.Type.Optional(en.Type.Union([en.Type.Object({$kind:en.Type.Literal("messageContentsUpdate"),messageContentsUpdate:pC}),en.Type.Object({$kind:en.Type.Literal("shellSuggestionContentsUpdate"),shellSuggestionContentsUpdate:pv}),en.Type.Object({$kind:en.Type.Literal("addSourcesUpdate"),addSourcesUpdate:ph}),en.Type.Object({$kind:en.Type.Literal("addSuggestedTemplatesUpdate"),addSuggestedTemplatesUpdate:pf}),en.Type.Object({$kind:en.Type.Literal("byoPromptResultUpdate"),byoPromptResultUpdate:pL}),en.Type.Object({$kind:en.Type.Literal("messageContentsSet"),messageContentsSet:pj}),en.Type.Object({$kind:en.Type.Literal("agentTimelineEventSet"),agentTimelineEventSet:pP}),en.Type.Object({$kind:en.Type.Literal("hostingDebugSummaryEventSet"),hostingDebugSummaryEventSet:pU}),en.Type.Object({$kind:en.Type.Literal("replCreationEventSet"),replCreationEventSet:pk}),en.Type.Object({$kind:en.Type.Literal("localShellExecutionEventSet"),localShellExecutionEventSet:pD}),en.Type.Object({$kind:en.Type.Literal("agentTimelineEventCreateFileAddContent"),agentTimelineEventCreateFileAddContent:pG}),en.Type.Object({$kind:en.Type.Literal("addProposedFileChange"),addProposedFileChange:pM}),en.Type.Object({$kind:en.Type.Literal("updateProposedFileChange"),updateProposedFileChange:pB}),en.Type.Object({$kind:en.Type.Literal("addProposedFileChangesMetadata"),addProposedFileChangesMetadata:p$}),en.Type.Object({$kind:en.Type.Literal("addProposedShellCommand"),addProposedShellCommand:pw}),en.Type.Object({$kind:en.Type.Literal("addProposedActionsMetadata"),addProposedActionsMetadata:px}),en.Type.Object({$kind:en.Type.Literal("agentAskUserForActionRequestSet"),agentAskUserForActionRequestSet:pF}),en.Type.Object({$kind:en.Type.Literal("addRagContext"),addRagContext:pV}),en.Type.Object({$kind:en.Type.Literal("addProposedWorkspaceToolNudge"),addProposedWorkspaceToolNudge:pK}),en.Type.Object({$kind:en.Type.Literal("integrationTestEventContents"),integrationTestEventContents:pH}),en.Type.Object({$kind:en.Type.Literal("addProposedPackageInstall"),addProposedPackageInstall:pW}),en.Type.Object({$kind:en.Type.Literal("updateRevertStatus"),updateRevertStatus:pY}),en.Type.Object({$kind:en.Type.Literal("updateAttachedFormStringFieldSet"),updateAttachedFormStringFieldSet:pq}),en.Type.Object({$kind:en.Type.Literal("updateAttachedFormStringFieldAppend"),updateAttachedFormStringFieldAppend:pQ}),en.Type.Object({$kind:en.Type.Literal("addProposedRunConfiguration"),addProposedRunConfiguration:pJ}),en.Type.Object({$kind:en.Type.Literal("addProposedDeploymentConfiguration"),addProposedDeploymentConfiguration:pz}),en.Type.Object({$kind:en.Type.Literal("appendTimelineMessageContentsUpdate"),appendTimelineMessageContentsUpdate:pX}),en.Type.Object({$kind:en.Type.Literal("appendThoughtContentsUpdate"),appendThoughtContentsUpdate:pZ}),en.Type.Object({$kind:en.Type.Literal("appendRedactedThoughtsMarker"),appendRedactedThoughtsMarker:p0}),en.Type.Object({$kind:en.Type.Literal("addProposedWorkflowConfiguration"),addProposedWorkflowConfiguration:p1}),en.Type.Object({$kind:en.Type.Literal("updateFileEditLineCounts"),updateFileEditLineCounts:p2}),en.Type.Object({$kind:en.Type.Literal("addDesignReferenceFile"),addDesignReferenceFile:p3}),en.Type.Object({$kind:en.Type.Literal("updatePlanContents"),updatePlanContents:p4}),en.Type.Object({$kind:en.Type.Literal("updatePlanApprovalStatus"),updatePlanApprovalStatus:p5}),en.Type.Object({$kind:en.Type.Literal("newThoughtSummaryUpdate"),newThoughtSummaryUpdate:p7}),en.Type.Object({$kind:en.Type.Literal("samplingEventUpdate"),samplingEventUpdate:p6}),en.Type.Object({$kind:en.Type.Literal("samplingEventStateUpdate"),samplingEventStateUpdate:p8}),en.Type.Object({$kind:en.Type.Literal("uiTestingSubagentExecutionEventUpdate"),uiTestingSubagentExecutionEventUpdate:p9}),en.Type.Object({$kind:en.Type.Literal("subagentRunningDataUpdate"),subagentRunningDataUpdate:oe})]))}),on=en.Type.Object({type:tz,message:en.Type.String(),shortMessage:en.Type.String()}),or=en.Type.Object({id:en.Type.String(),parentEventId:en.Type.String(),contents:po,context:pA,state:tM,created:en.Type.Date(),updated:en.Type.Date(),sender:rA,sessionId:en.Type.String(),updateEventOperations:en.Type.Array(pR),typedUpdateEventOperations:en.Type.Array(ot),error:on,agentStepId:en.Type.String()}),oi=en.Type.Object({id:en.Type.String(),parentEventId:en.Type.String(),created:en.Type.Date()}),oa=en.Type.Object({type:tt,comment:en.Type.String()}),op=en.Type.Object({sessionId:en.Type.String(),sourceEventId:en.Type.String(),feedback:oa,sessionType:tV}),oo=en.Type.Object({}),oT=en.Type.Object({activeAgentSessionId:en.Type.String()}),os=en.Type.Object({id:en.Type.String(),title:en.Type.String(),sessionType:tV,replId:en.Type.String(),events:en.Type.Array(or),sessionCreationEventId:en.Type.String(),archived:en.Type.Boolean(),lastEventTime:en.Type.Date(),created:en.Type.Date(),updated:en.Type.Date(),activeEventId:en.Type.String(),readOnly:en.Type.Boolean(),taskId:en.Type.String(),revertedToSessionId:en.Type.String(),revertedToEventId:en.Type.String()});en.Type.Object({}),en.Type.Object({success:en.Type.Boolean()});var oy=en.Type.Object({token:en.Type.String(),gurl:en.Type.String()});en.Type.Object({user:rA,replIds:en.Type.Array(en.Type.String()),issuer:en.Type.String(),overrideGovalToken:oy,forkReplId:en.Type.String()});var oc=en.Type.Object({parentEventId:en.Type.String(),sessionId:en.Type.String(),state:tM,contents:po,context:pA,eventId:en.Type.String(),error:on,isActive:en.Type.Optional(en.Type.Boolean()),addToChild:en.Type.Boolean()}),ol=en.Type.Object({eventId:en.Type.String(),parentEventId:en.Type.String(),Created:en.Type.Optional(en.Type.Union([en.Type.Object({$kind:en.Type.Literal("created"),created:en.Type.Date()})]))}),ou=en.Type.Object({request:oc,user:rA}),oE=en.Type.Object({events:en.Type.Array(ou)}),od=en.Type.Object({eventIds:en.Type.Array(en.Type.String())}),oS=en.Type.Object({eventId:en.Type.String(),operations:en.Type.Array(pR),typedOperations:en.Type.Array(ot),state:tM,error:on,requireCompletion:en.Type.Optional(en.Type.Boolean())}),og=en.Type.Object({}),oO=en.Type.Object({}),o_=en.Type.Object({maxSteps:en.Type.Integer()}),oI=en.Type.Object({timeWhenReset:en.Type.String()}),oN=en.Type.Object({}),ob=en.Type.Object({}),oA=en.Type.Object({}),om=en.Type.Object({}),oR=en.Type.Object({}),oC=en.Type.Object({}),ov=en.Type.Object({}),oh=en.Type.Object({code:t9,message:en.Type.String()}),of=en.Type.Object({}),oL=en.Type.Object({}),oj=en.Type.Object({reasons:en.Type.Optional(en.Type.Union([en.Type.Object({$kind:en.Type.Literal("userPaused"),userPaused:oO}),en.Type.Object({$kind:en.Type.Literal("stepLimitExceeded"),stepLimitExceeded:o_}),en.Type.Object({$kind:en.Type.Literal("rateLimited"),rateLimited:oI}),en.Type.Object({$kind:en.Type.Literal("waitingOnUserResponse"),waitingOnUserResponse:oN}),en.Type.Object({$kind:en.Type.Literal("waitingOnPlanApproval"),waitingOnPlanApproval:ob}),en.Type.Object({$kind:en.Type.Literal("requestedSecrets"),requestedSecrets:oA}),en.Type.Object({$kind:en.Type.Literal("testConcluded"),testConcluded:om}),en.Type.Object({$kind:en.Type.Literal("error"),error:oR}),en.Type.Object({$kind:en.Type.Literal("planConcluded"),planConcluded:oC}),en.Type.Object({$kind:en.Type.Literal("reverted"),reverted:ov}),en.Type.Object({$kind:en.Type.Literal("authorizationFailed"),authorizationFailed:oh}),en.Type.Object({$kind:en.Type.Literal("stepTooComplex"),stepTooComplex:of}),en.Type.Object({$kind:en.Type.Literal("triggerCheckpoint"),triggerCheckpoint:oL})]))}),oP=en.Type.Object({replId:en.Type.String(),sessionId:en.Type.String(),runState:e9,transitionReason:oj}),oU=en.Type.Object({replId:en.Type.String(),sessionId:en.Type.String()}),ok=en.Type.Object({runState:e9,transitionReason:oj}),oD=en.Type.Object({runState:e9,transitionReason:oj}),oG=en.Type.Object({replId:en.Type.String(),sessionId:en.Type.String(),runState:e9,transitionReason:oj}),oM=en.Type.Object({replId:en.Type.String(),sessionId:en.Type.String(),runState:e9,transitionReason:oj}),oB=en.Type.Object({}),o$=en.Type.Object({eventId:en.Type.String(),context:pA}),ow=en.Type.Object({}),ox=en.Type.Object({mimeType:en.Type.String()}),oF=en.Type.Object({uploadUrl:en.Type.String(),downloadUrl:en.Type.String(),identifier:en.Type.String()}),oV=en.Type.Object({url:en.Type.String()}),oK=en.Type.Object({imageDownloadUrl:en.Type.String()}),oH=en.Type.Object({url:en.Type.String()}),oW=en.Type.Object({content:en.Type.String()}),oY=en.Type.Object({eventId:en.Type.String()}),oq=en.Type.Object({eventId:en.Type.String()}),oQ=en.Type.Object({beforeTimestamp:en.Type.Date(),limit:en.Type.Integer(),includeFirstSessionEvents:en.Type.Boolean(),firstSessionEventsLimit:en.Type.Integer(),replId:en.Type.String(),sessionTypes:en.Type.Array(tV),archived:en.Type.Optional(en.Type.Boolean())}),oJ=en.Type.Object({hasMore:en.Type.Boolean(),sessions:en.Type.Array(os),replAgentState:oT}),oz=en.Type.Object({userPrompt:en.Type.String(),uploadedFiles:en.Type.Array(n3),attachedUrls:en.Type.Array(n4),selectedTheme:en.Type.String()}),oX=en.Type.Object({enhancedPrompt:en.Type.String()}),oZ=en.Type.Object({sessionId:en.Type.String(),limit:en.Type.Integer(),excludeContents:en.Type.Boolean(),AfterTimestamp:en.Type.Optional(en.Type.Union([en.Type.Object({$kind:en.Type.Literal("afterTimestamp"),afterTimestamp:en.Type.Date()})]))}),o0=en.Type.Object({events:en.Type.Array(or),session:os}),o1=en.Type.Object({sessionId:en.Type.String(),eventIds:en.Type.Array(en.Type.String())}),o2=en.Type.Object({events:en.Type.Array(or)}),o3=en.Type.Object({replId:en.Type.String(),sessionType:tV,title:en.Type.String(),taskId:en.Type.String(),revertedToSessionId:en.Type.String(),revertedToEventId:en.Type.String(),SeededAiFirstEventContents:en.Type.Optional(en.Type.Union([en.Type.Object({$kind:en.Type.Literal("seededAiFirstEventContents"),seededAiFirstEventContents:po})]))}),o4=en.Type.Object({sessionId:en.Type.String(),sessionCreationEventId:en.Type.String(),seededAiFirstEventId:en.Type.String()}),o5=en.Type.Object({sessionId:en.Type.String(),limit:en.Type.Integer(),AncestorsOf:en.Type.Optional(en.Type.Union([en.Type.Object({$kind:en.Type.Literal("ancestorsOf"),ancestorsOf:en.Type.String()})])),AfterTimestamp:en.Type.Optional(en.Type.Union([en.Type.Object({$kind:en.Type.Literal("afterTimestamp"),afterTimestamp:en.Type.Date()})]))}),o7=en.Type.Object({shapes:en.Type.Array(oi),hasMore:en.Type.Boolean()}),o6=en.Type.Object({replId:en.Type.String()}),o8=en.Type.Object({}),o9=en.Type.Object({eventId:en.Type.String(),parentEventId:en.Type.String(),sessionId:en.Type.String(),state:tM,contents:po,sender:rA,error:on,isActive:en.Type.Optional(en.Type.Boolean()),created:en.Type.Date()}),Te=en.Type.Object({sessionId:en.Type.String(),title:en.Type.String(),replId:en.Type.String(),sessionCreationEventId:en.Type.String(),sessionType:tV,archived:en.Type.Optional(en.Type.Boolean()),taskId:en.Type.String(),revertedToSessionId:en.Type.String(),revertedToEventId:en.Type.String()}),Tt=en.Type.Object({sessionId:en.Type.String(),eventId:en.Type.String(),operations:en.Type.Array(pR),typedOperations:en.Type.Array(ot),state:tM,error:on}),Tn=en.Type.Object({sessionId:en.Type.String(),title:en.Type.String(),sessionType:tV,archived:en.Type.Optional(en.Type.Boolean()),replId:en.Type.String(),activeEventId:en.Type.String(),isActiveAgentSession:en.Type.Optional(en.Type.Boolean()),readOnly:en.Type.Optional(en.Type.Boolean()),taskId:en.Type.String()}),Tr=en.Type.Object({replId:en.Type.String(),sessionId:en.Type.String(),eventId:en.Type.String()}),Ti=en.Type.Object({sender:rA,seqno:en.Type.Integer(),message:en.Type.Optional(en.Type.Union([en.Type.Object({$kind:en.Type.Literal("subscriptionStatusMessage"),subscriptionStatusMessage:o8}),en.Type.Object({$kind:en.Type.Literal("createEventMessage"),createEventMessage:o9}),en.Type.Object({$kind:en.Type.Literal("createSessionMessage"),createSessionMessage:Te}),en.Type.Object({$kind:en.Type.Literal("updateEventMessage"),updateEventMessage:Tt}),en.Type.Object({$kind:en.Type.Literal("updateSessionMessage"),updateSessionMessage:Tn}),en.Type.Object({$kind:en.Type.Literal("abortEventMessage"),abortEventMessage:Tr}),en.Type.Object({$kind:en.Type.Literal("updateAgentStateMessage"),updateAgentStateMessage:oG})]))});en.Type.Object({limit:en.Type.Integer(),usage:en.Type.Integer(),resetTime:en.Type.Date()});var Ta=en.Type.Object({overrideModel:en.Type.String()}),Tp=en.Type.Object({readable:en.Type.String(),qualified:en.Type.String()}),To=en.Type.Object({basicModel:en.Type.Array(Tp),advancedModel:en.Type.Array(Tp),overrideModel:Tp}),TT=en.Type.Object({id:en.Type.String(),title:en.Type.String(),sessionType:tV,archived:en.Type.Optional(en.Type.Boolean()),replId:en.Type.String(),activeEventId:en.Type.String(),isActiveAgentSession:en.Type.Optional(en.Type.Boolean()),readOnly:en.Type.Optional(en.Type.Boolean()),taskId:en.Type.String()}),Ts=en.Type.Object({}),Ty=en.Type.Object({replId:en.Type.String(),contents:po,context:pA,sessionId:en.Type.String()}),Tc=en.Type.Object({rootId:en.Type.String()}),Tl=en.Type.Object({message:en.Type.Optional(en.Type.Union([en.Type.Object({$kind:en.Type.Literal("startMessage"),startMessage:Tc}),en.Type.Object({$kind:en.Type.Literal("createEventMessage"),createEventMessage:o9}),en.Type.Object({$kind:en.Type.Literal("updateEventMessage"),updateEventMessage:Tt})]))}),Tu=en.Type.Object({replId:en.Type.String(),prompt:en.Type.String()}),TE=en.Type.Object({replName:en.Type.String()}),Td=en.Type.Object({replId:en.Type.String(),prompt:en.Type.String()}),TS=en.Type.Object({imageUrl:en.Type.String()}),Tg=en.Type.Object({key:en.Type.String(),value:en.Type.Unknown()});en.Type.Object({fields:en.Type.Array(Tg),type:en.Type.String()});var TO=en.Type.Object({values:en.Type.Array(en.Type.Unknown())});en.Type.Object({kind:en.Type.Optional(en.Type.Union([en.Type.Object({$kind:en.Type.Literal("nullValue"),nullValue:nt}),en.Type.Object({$kind:en.Type.Literal("numberValue"),numberValue:en.Type.Number()}),en.Type.Object({$kind:en.Type.Literal("stringValue"),stringValue:en.Type.String()}),en.Type.Object({$kind:en.Type.Literal("boolValue"),boolValue:en.Type.Boolean()}),en.Type.Object({$kind:en.Type.Literal("structValue"),structValue:en.Type.Object({type:en.Type.String(),fields:en.Type.Array(en.Type.Object({key:en.Type.String(),value:en.Type.Unknown()}))})}),en.Type.Object({$kind:en.Type.Literal("listValue"),listValue:TO})]))});var T_=en.Type.Object({}),TI=en.Type.Object({sourceSessionId:en.Type.String(),destinationSessionId:en.Type.String()}),TN=en.Type.Object({}),Tb=en.Type.Object({replId:en.Type.String(),sessionId:en.Type.String(),subagentId:en.Type.String()}),TA=en.Type.Object({}),Tm=en.Type.Object({replId:en.Type.String(),sessionId:en.Type.String()}),TR=en.Type.Object({});en.Type.Object({key:en.Type.String(),value:pm}),eY.define({abortEvent:eQ.rpc({input:oY,output:oq,handler:function(e,t){return(0,ee._)(function(){return(0,et._)(this,function(e){throw Error("unimplemented")})})()}}),createEvent:eQ.rpc({input:oc,output:ol,handler:function(e,t){return(0,ee._)(function(){return(0,et._)(this,function(e){throw Error("unimplemented")})})()}}),batchCreateEvents:eQ.rpc({input:oE,output:od,handler:function(e,t){return(0,ee._)(function(){return(0,et._)(this,function(e){throw Error("unimplemented")})})()}}),createSession:eQ.rpc({input:o3,output:o4,handler:function(e,t){return(0,ee._)(function(){return(0,et._)(this,function(e){throw Error("unimplemented")})})()}}),enhanceAgentPrompt:eQ.rpc({input:oz,output:oX,handler:function(e,t){return(0,ee._)(function(){return(0,et._)(this,function(e){throw Error("unimplemented")})})()}}),getReplSessions:eQ.rpc({input:oQ,output:oJ,handler:function(e,t){return(0,ee._)(function(){return(0,et._)(this,function(e){throw Error("unimplemented")})})()}}),getSessionEvents:eQ.rpc({input:oZ,output:o0,handler:function(e,t){return(0,ee._)(function(){return(0,et._)(this,function(e){throw Error("unimplemented")})})()}}),batchGetEvents:eQ.rpc({input:o1,output:o2,handler:function(e,t){return(0,ee._)(function(){return(0,et._)(this,function(e){throw Error("unimplemented")})})()}}),getEventList:eQ.rpc({input:o5,output:o7,handler:function(e,t){return(0,ee._)(function(){return(0,et._)(this,function(e){throw Error("unimplemented")})})()}}),getAvailableModels:eQ.rpc({input:Ta,output:To,handler:function(e,t){return(0,ee._)(function(){return(0,et._)(this,function(e){throw Error("unimplemented")})})()}}),processEvent:eQ.subscription({input:Ty,output:Tl,handler:function(e,t,n){return(0,ee._)(function(){return(0,et._)(this,function(e){throw Error("unimplemented")})})()}}),reprocessEvent:eQ.rpc({input:o$,output:ow,handler:function(e,t){return(0,ee._)(function(){return(0,et._)(this,function(e){throw Error("unimplemented")})})()}}),subscribeToReplEvents:eQ.subscription({input:o6,output:Ti,handler:function(e,t,n){return(0,ee._)(function(){return(0,et._)(this,function(e){throw Error("unimplemented")})})()}}),updateEvent:eQ.upload({input:oS,output:og,handler:function(e,t){return(0,ee._)(function(){return(0,et._)(this,function(e){throw Error("unimplemented")})})()}}),updateSession:eQ.rpc({input:TT,output:Ts,handler:function(e,t){return(0,ee._)(function(){return(0,et._)(this,function(e){throw Error("unimplemented")})})()}}),pingPong:eQ.rpc({input:nB,output:n$,handler:function(e,t){return(0,ee._)(function(){return(0,et._)(this,function(e){throw Error("unimplemented")})})()}}),getAgentState:eQ.rpc({input:oU,output:ok,handler:function(e,t){return(0,ee._)(function(){return(0,et._)(this,function(e){throw Error("unimplemented")})})()}}),updateAgentState:eQ.rpc({input:oP,output:oD,handler:function(e,t){return(0,ee._)(function(){return(0,et._)(this,function(e){throw Error("unimplemented")})})()}}),broadcastAgentState:eQ.rpc({input:oM,output:oB,handler:function(e,t){return(0,ee._)(function(){return(0,et._)(this,function(e){throw Error("unimplemented")})})()}}),generateReplName:eQ.rpc({input:Tu,output:TE,handler:function(e,t){return(0,ee._)(function(){return(0,et._)(this,function(e){throw Error("unimplemented")})})()}}),generateIcon:eQ.rpc({input:Td,output:TS,handler:function(e,t){return(0,ee._)(function(){return(0,et._)(this,function(e){throw Error("unimplemented")})})()}}),submitAgentUserFeedback:eQ.rpc({input:op,output:oo,handler:function(e,t){return(0,ee._)(function(){return(0,et._)(this,function(e){throw Error("unimplemented")})})()}}),cloneSession:eQ.rpc({input:nG,output:nM,handler:function(e,t){return(0,ee._)(function(){return(0,et._)(this,function(e){throw Error("unimplemented")})})()}}),getResourceUploadUrl:eQ.rpc({input:ox,output:oF,handler:function(e,t){return(0,ee._)(function(){return(0,et._)(this,function(e){throw Error("unimplemented")})})()}}),getUrlScreenshot:eQ.rpc({input:oV,output:oK,handler:function(e,t){return(0,ee._)(function(){return(0,et._)(this,function(e){throw Error("unimplemented")})})()}}),getUrlScrapedContent:eQ.rpc({input:oH,output:oW,handler:function(e,t){return(0,ee._)(function(){return(0,et._)(this,function(e){throw Error("unimplemented")})})()}}),revertToCommit:eQ.rpc({input:nk,output:nD,handler:function(e,t){return(0,ee._)(function(){return(0,et._)(this,function(e){throw Error("unimplemented")})})()}}),moveEventsBetweenSessions:eQ.rpc({input:TI,output:TN,handler:function(e,t){return(0,ee._)(function(){return(0,et._)(this,function(e){throw Error("unimplemented")})})()}}),abortSubagent:eQ.rpc({input:Tb,output:TA,handler:function(e,t){return(0,ee._)(function(){return(0,et._)(this,function(e){throw Error("unimplemented")})})()}}),warmAgent:eQ.rpc({input:Tm,output:TR,handler:function(e,t){return(0,ee._)(function(){return(0,et._)(this,function(e){throw Error("unimplemented")})})()}})}),e.s(["AgentAskUserForActionRequestSchema",()=>ah,"AgentAskUserForActionResponseSchema",()=>aJ,"AgentAuthorizationFailedCode",()=>t8,"AgentInitialBuildMode",()=>t0,"AgentMode",()=>tX,"AgentPlanEventContentsSchema",()=>rR,"AgentPlanEventContextSchema",()=>pd,"AgentPlanStepStatus",()=>tT,"AgentRunState",()=>e8,"AgentStackTriggerType",()=>tE,"AgentTimelineEventContextSchema",()=>pS,"AgentUserFeedbackType",()=>te,"ApprovePlanEventContentsSchema",()=>i2,"ApprovePlanEventContextSchema",()=>T_,"AttachedFormType",()=>tb,"AutonomyLevel",()=>t2,"BYOPromptEventContentsSchema",()=>rO,"BYOPromptEventContextSchema",()=>pE,"CheckpointTriggerReason",()=>nT,"CodeReferenceSchema",()=>nF,"CodeReferenceType",()=>tP,"CommitAuthor",()=>ni,"CommitBillingRate",()=>np,"CreateEventRequestSchema",()=>oc,"CreateSessionRequestSchema",()=>o3,"EventErrorType",()=>tJ,"EventSchema",()=>or,"EventState",()=>tG,"FileChangeGenerationState",()=>tC,"GeneralSubagentEventFilter",()=>nS,"HostingDebugSummaryResultSchema",()=>iX,"InitialBuildPhase",()=>nb,"InlineActionEventContentsSchema",()=>rl,"InlineActionEventContextSchema",()=>py,"InlineMessageType",()=>tB,"IterativeAgentAppliedFileChangesSchema",()=>i7,"IterativeAgentEventContentsSchema",()=>ap,"IterativeAgentEventContextSchema",()=>pN,"IterativeAgentRevertedFileChangesSchema",()=>i8,"LocalShellExecutionEventContentsSchema",()=>ru,"LocalShellExecutionEventContextSchema",()=>pc,"MembershipType",()=>tq,"MessageAction",()=>tW,"MessageEventContentsSchema",()=>rc,"MessageEventContextSchema",()=>ps,"ModelProfile",()=>t4,"ModelType",()=>tL,"ProjectImportSource",()=>ti,"RangeSchema",()=>nx,"RequestFeatureAddType",()=>ty,"RevertEventContentsSchema",()=>iq,"RevertEventContextSchema",()=>pI,"RevertStatus",()=>ny,"SessionCreationEventContextSchema",()=>pT,"SessionSchema",()=>os,"SessionType",()=>tF,"SetupImportedProjectEventContentsSchema",()=>a8,"ShellSuggestionEventContentsSchema",()=>rE,"ShellSuggestionEventContextSchema",()=>pl,"SpecialFileType",()=>nm,"StackBlueprint",()=>tl,"StepTooComplexEventContentsSchema",()=>ao,"TaskStatus",()=>tp,"TranslateEventContentsSchema",()=>rd,"TranslateEventContextSchema",()=>pu,"TranslationTarget",()=>th,"TriggerCheckpointEventContentsSchema",()=>a6,"UITestingSubagentResultType",()=>nE,"UpdateEventMessageSchema",()=>Tt,"UpdateSessionRequestSchema",()=>TT,"UrlIntent",()=>tm,"UserSecretResponseStatus",()=>tn,"UserType",()=>tw,"WebSearchType",()=>tO],188507)}]);

//# debugId=7602e2a3-b96d-b00e-a4a5-4f121d5f396f
//# sourceMappingURL=abc48e40945fe0d8.js.map