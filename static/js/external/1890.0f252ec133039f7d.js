try{let e="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:{},t=(new e.Error).stack;t&&(e._sentryDebugIds=e._sentryDebugIds||{},e._sentryDebugIds[t]="0faccc78-80e4-446c-93de-4cebcfda2249",e._sentryDebugIdIdentifier="sentry-dbid-0faccc78-80e4-446c-93de-4cebcfda2249")}catch(e){}"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[1890],{13719:(e,t,a)=>{a.d(t,{A:()=>b});var r=a(23798),l=a(21462);let n=e=>{let{className:t}=e;return(0,r.jsx)("svg",{className:t,viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:(0,r.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M6.5 2C5.11929 2 4 3.11929 4 4.5V10C4 12.2091 5.79086 14 8 14C10.2091 14 12 12.2091 12 10V4.5C12 4.22386 12.2239 4 12.5 4C12.7761 4 13 4.22386 13 4.5V10C13 12.7614 10.7614 15 8 15C5.23858 15 3 12.7614 3 10V4.5C3 2.567 4.567 1 6.5 1C8.43299 1 9.99999 2.567 9.99999 4.5V10C9.99999 11.1046 9.10456 12 7.99999 12C6.89542 12 5.99999 11.1046 5.99999 10V4.5C5.99999 4.22386 6.22385 4 6.49999 4C6.77613 4 6.99999 4.22386 6.99999 4.5V10C6.99999 10.5523 7.44771 11 7.99999 11C8.55228 11 8.99999 10.5523 8.99999 10V4.5C8.99999 3.11929 7.88071 2 6.5 2Z"})})},s=async e=>{let{dbName:t,version:a,onUpgrade:r}=e;return new Promise((e,l)=>{let n=indexedDB.open(t,a);n.onerror=()=>{var e;return l(Error("Failed to open database: ".concat(null==(e=n.error)?void 0:e.message)))},n.onsuccess=()=>e(n.result),r&&(n.onupgradeneeded=e=>{let{target:t}=e;t instanceof IDBOpenDBRequest&&t.result?r(t.result):l(Error("Invalid target during upgrade."))})})},o=async e=>{let{db:t,storeName:a,mode:r,operation:l}=e;return new Promise((e,n)=>{if(!t.objectStoreNames.contains(a))return n(Error('Object store "'.concat(a,'" does not exist in the database.')));let s=t.transaction([a],r),o=l(s.objectStore(a));o.onsuccess=()=>e(o.result),o.onerror=()=>{var e;return n(Error("Transaction error: ".concat(null==(e=o.error)?void 0:e.message)))},s.onabort=()=>n(Error("Transaction was aborted.")),s.onerror=()=>n(Error("Transaction encountered an error."))})},i="LandingPageAgentAttachments",c=null,d=async()=>c||(c=s({dbName:"ReplitAgentAttachments",version:1,onUpgrade:e=>{e.objectStoreNames.contains(i)||e.createObjectStore(i,{keyPath:"id",autoIncrement:!0})}})),u=async e=>{let t=await d(),a=(e=>({file:e,name:e.name,type:e.type,lastModified:e.lastModified}))(e);return await (e=>{let{db:t,storeName:a,data:r}=e;return o({db:t,storeName:a,mode:"readwrite",operation:e=>e.add(r)})})({db:t,storeName:i,data:a})},f=async()=>(e=>{let{db:t,storeName:a}=e;return o({db:t,storeName:a,mode:"readonly",operation:e=>e.getAll()})})({db:await d(),storeName:i}),m=async e=>(e=>{let{db:t,storeName:a,key:r}=e;return o({db:t,storeName:a,mode:"readwrite",operation:e=>e.delete(r)})})({db:await d(),storeName:i,key:e}),p=["image/png","image/jpeg","image/gif","image/webp","text/csv","application/json"];var g=a(44375),h=a.n(g),x=a(19268);let b=e=>{let{setIsError:t}=e,a=(0,l.useRef)(null),s=(0,l.useRef)(null),{uploadFiles:o,files:i,loading:c,error:d,removeFile:g}=(()=>{let[e,t]=(0,l.useState)([]),[a,r]=(0,l.useState)(!1),[n,s]=(0,l.useState)(null),o=async()=>{r(!0),s(null);try{let e=await f();t(e)}catch(e){s("Failed to load files")}finally{r(!1)}};return(0,l.useEffect)(()=>{o()},[]),(0,l.useEffect)(()=>{let t=null;if(e.length>10)t="Maximum of 10 files allowed";else if(e.some(e=>"image/svg+xml"===e.type))t="SVG images are not allowed";else{let a=e.find(e=>e.file.size>0x6400000);a&&(t='File "'.concat(a.name,'" exceeds maximum size of ').concat(100,"MB"))}s(t)},[e]),{files:e,loading:a,error:n,uploadFiles:async e=>{r(!0),s(null);try{let t=Array.from(e).map(e=>u(e));await Promise.all(t),await o()}catch(e){s("Failed to upload files")}finally{r(!1)}},removeFile:async e=>{r(!0),s(null);try{await m(e),await o()}catch(e){s("Failed to delete file")}finally{r(!1)}},refreshFiles:o}})(),[b,w]=(0,l.useState)(!1),[y,v]=(0,l.useState)(null),[j,C]=(0,l.useState)(null);(0,l.useEffect)(()=>{t(!!d)},[d,t]);let N=(e,t)=>{if(t.target instanceof HTMLElement&&e.file&&e.type.startsWith("image/")){v(URL.createObjectURL(e.file));let a=t.target.closest("li");a&&C(a.getBoundingClientRect())}},S=()=>{y&&(URL.revokeObjectURL(y),v(null),C(null))},k=async e=>{e.target.files&&e.target.files.length>0&&(w(!0),await o(e.target.files),a.current&&(a.current.value=""),w(!1))},L=async e=>{void 0!==e&&await g(e),S()};return(0,r.jsxs)("div",{className:"flex flex-col pb-4 max-w-full 600:flex-row flex-wrap items-start 600:items-center gap-2 w-full 600:w-auto",children:[(0,r.jsx)("input",{ref:a,type:"file",multiple:!0,className:"hidden",onChange:k,accept:p.join(",")}),(0,r.jsxs)("button",{type:"button",onClick:()=>{(null==a?void 0:a.current)&&a.current.click()},disabled:c||b,className:"w-full 600:w-auto p-2 hover:bg-[#30363C] bg-[#3D454C] disabled:bg-[#30363C] disabled:cursor-not-allowed disabled:text-white/60 transition-all duration-150 rounded-full flex items-center justify-center gap-2",children:[(0,r.jsx)(n,{className:"w-5 h-5 fill-[currentColor]"}),(0,r.jsx)("span",{className:"text-center font-400 text-sm font-normal font-sans text-sans leading-[14px]",children:"Attach files"})]}),i.length>0&&(0,r.jsx)("ul",{className:"contents flex-wrap gap-2 w-full pb-2 600:w-auto 600:pb-0",children:i.map(e=>(0,r.jsx)("li",{ref:s,className:"relative",onMouseEnter:t=>N(e,t),onMouseLeave:S,children:(0,r.jsxs)("div",{className:"flex items-center gap-2 rounded-md pl-2 pr-1 py-1 bg-transparent hover:bg-almost-black transition-colors duration-150",children:[(0,r.jsx)("span",{className:"text-sans-13 text-dark-gray hover:text-white truncate max-w-[150px] cursor-pointer",title:e.name,children:e.name}),(0,r.jsx)("button",{type:"button",onFocus:t=>N(e,t),onBlur:S,onClick:()=>L(e.id),className:"text-white/60 hover:text-white/90 transition-colors duration-150",tabIndex:0,children:(0,r.jsx)("svg",{className:"w-4 h-4",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:(0,r.jsx)("path",{d:"M18 6L6 18M6 6l12 12",strokeLinecap:"round",strokeLinejoin:"round"})})})]})},e.id))}),d&&(0,r.jsx)("span",{className:"text-red text-sans-14 w-full",children:d}),y&&j&&(0,r.jsx)(x.Z,{children:(0,r.jsxs)("div",{className:"fixed z-[9999] rounded-lg shadow-lg bg-[#3D454C] p-2 hidden 600:block",style:{left:Math.min(Math.max(160,j.left+j.width/2),document.documentElement.clientWidth-160),top:j.top-8,transform:"translate(-50%, -100%)"},children:[(0,r.jsx)("div",{className:"relative w-[300px] flex items-center justify-center",style:{height:"min(400px, 100%)"},children:(0,r.jsx)(h(),{src:y,alt:"Preview",className:"object-contain w-full h-full",width:300,height:400,style:{maxHeight:"400px"},priority:!0})}),(0,r.jsx)("div",{className:"absolute -bottom-2 left-1/2 -translate-x-1/2 w-0 h-0 border-l-[8px] border-l-transparent border-r-[8px] border-r-transparent border-t-[8px] border-t-[#3D454C]"})]})})]})}},29300:(e,t,a)=>{a.d(t,{q:()=>l});var r=a(23798);let l=e=>{let{className:t}=e;return(0,r.jsx)("svg",{className:t,viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:(0,r.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M2.47614 2.46329C2.70058 2.24421 3.03764 2.18792 3.32109 2.32219L22.3211 11.3222C22.583 11.4463 22.75 11.7102 22.75 12C22.75 12.2898 22.583 12.5537 22.3211 12.6778L3.32109 21.6778C3.03764 21.8121 2.70058 21.7558 2.47614 21.5367C2.2517 21.3176 2.18728 20.982 2.31467 20.6954L6.17929 12L2.31467 3.30459C2.18728 3.01798 2.2517 2.68238 2.47614 2.46329ZM7.48743 12.75L4.50682 19.4564L18.6647 12.75H7.48743ZM18.6647 11.25H7.48743L4.50682 4.54362L18.6647 11.25Z"})})}},56237:(e,t,a)=>{a.d(t,{A:()=>r});class r{static available(){if("undefined"==typeof localStorage)return!1;try{localStorage.setItem("test","test"),localStorage.removeItem("test")}catch(e){return!1}return!0}static get(e,t){let a,l;if(!r.available())return;try{a=localStorage.getItem(e)}catch(e){}if(null==a)return null;try{l=JSON.parse(a)}catch(e){}if(null==l)return null;let n=Array.isArray(l)?"array":typeof l;return t&&n!==t?null:l}static set(e,t){if(r.available())try{localStorage.setItem(e,JSON.stringify(t))}catch(e){}}static remove(e){try{localStorage.removeItem(e)}catch(e){}}static keys(){if(!r.available())return[];try{return Object.keys(localStorage)}catch(e){return[]}}static update(e,t,a){var l;if(!r.available())return;let n=null!=(l=r.get(e,t))?l:void 0;r.set(e,a(n))}static clear(){r.available()&&localStorage.clear()}}},69179:(e,t,a)=>{a.d(t,{D:()=>l});var r=a(95490);let l=e=>{if("string"!=typeof e||""===e.trim())return"";try{return r.compressToEncodedURIComponent(e)}catch(e){return""}}}}]);