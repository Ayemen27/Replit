;!function(){try { var e="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof global?global:"undefined"!=typeof window?window:"undefined"!=typeof self?self:{},n=(new e.Error).stack;n&&((e._debugIds|| (e._debugIds={}))[n]="433e555c-5ef9-d2d5-a187-6d621e1056e6")}catch(e){}}();
(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,462212,e=>{"use strict";var t=e.i(297083),n=e.i(530658),r=e.i(817556),a=e.i(276385),i=e.i(389959),o=e.i(906368),s=e.i(442121),l=e.i(773948),u=e.i(294426),c=e.i(664152),f=e.i(441329),p=e.i(967629),m=(0,i.createContext)({user:void 0}),d=function(){return(0,i.useContext)(m)};e.s(["default",0,function(e){var d=e.children,y=(0,s.useApolloClient)(),h=(0,n._)((0,i.useState)(),2),g=h[0],b=h[1],x=(0,f.useIsInBonsaiWebview)();return(0,i.useEffect)(function(){var e=function(){},n=null;return(0,u.configureAuth)().then(function(){e=(0,u.onTokenUpdate)(function(e){return(0,t._)(function(){var t;return(0,r._)(this,function(n){switch(n.label){case 0:if(e?b(e):b(void 0),!(t=e))return[3,2];return[4,(0,u.shouldRefreshCookie)(e)];case 1:t=n.sent(),n.label=2;case 2:if(!t)return[3,5];return[4,l.cookieRefreshService.refreshCookie(e)];case 3:if("success"===n.sent().type)return c.logger.info("Cookie refresh succeeded"),[2];return c.logger.warn("Cookie refresh failed after all retries, signing out user"),[4,(0,u.signOut)(y)];case 4:n.sent(),n.label=5;case 5:return[2]}})})()}),x||(n=setInterval(function(){return(0,t._)(function(){var e,t;return(0,r._)(this,function(n){switch(n.label){case 0:if(n.trys.push([0,3,,4]),!((e=(0,u.getAuthInstance)().currentUser)&&!e.isAnonymous))return[3,2];return[4,e.getIdToken(!0)];case 1:n.sent(),n.label=2;case 2:return[3,4];case 3:return t=n.sent(),o.withScope(function(e){e.setExtra("proactiveTokenRefresh",!0),e.setExtra("isInBonsaiWebview",x),o.captureException(t)}),[3,4];case 4:return[2]}})})()},15e5))}).catch(function(e){o.withScope(function(t){t.setExtra("configureAuth",!0),o.captureException(e)})}),function(){return n&&clearInterval(n),e()}},[y,x]),(0,a.jsxs)(m.Provider,{value:{user:g},children:[d,(0,a.jsx)(p.Global,{styles:["\n        .grecaptcha-badge {\n          visibility: hidden;\n        }\n      "]})]})},"useTokenContext",()=>d])},384444,e=>{"use strict";var t="/public/icons/favicon-prompt-",n={prompt:t+"192.png",agentWaiting:t+"agent-waiting-192.png",agentWorking:t+"agent-working-192.png",agentFinished:t+"agent-finished-192.png"};e.s(["favicons",()=>n])},705095,924735,e=>{"use strict";var t=e.i(530658),n=e.i(276385),r=e.i(943618),a=e.i(389959),i=e.i(384444);let o=function(){return(0,n.jsx)(r.default,{children:(0,n.jsx)("style",{dangerouslySetInnerHTML:{__html:"\n        @font-face {\n          font-family: 'ReplitHack';\n          src: url('/public/fonts/hack-regular.woff2?sha=3114f1256') format('woff2'), url('/public/fonts/hack-regular.woff?sha=3114f1256') format('woff');\n          font-weight: 400;\n          font-style: normal;\n        }\n        \n        @font-face {\n          font-family: 'ReplitHack';\n          src: url('/public/fonts/hack-bold.woff2?sha=3114f1256') format('woff2'), url('/public/fonts/hack-bold.woff?sha=3114f1256') format('woff');\n          font-weight: 700;\n          font-style: normal;\n        }\n        \n        @font-face {\n          font-family: 'ReplitHack';\n          src: url('/public/fonts/hack-italic.woff2?sha=3114f1256') format('woff2'), url('/public/fonts/hack-italic.woff?sha=3114f1256') format('woff');\n          font-weight: 400;\n          font-style: italic;\n        }\n        \n        @font-face {\n          font-family: 'ReplitHack';\n          src: url('/public/fonts/hack-bolditalic.woff2?sha=3114f1256') format('woff2'), url('/public/fonts/hack-bolditalic.woff?sha=3114f1256') format('woff');\n          font-weight: 700;\n          font-style: italic;\n        }\n        "}})})};var s=e.i(441329),l=e.i(332441),u=e.i(628745);function c(){return(0,u.default)(function(){var e=function(e){e.preventDefault()};return window.addEventListener("beforeinstallprompt",e),function(){window.removeEventListener("beforeinstallprompt",e)}},[]),null}var f=i.favicons.prompt;e.s(["default",0,function(e){var i,u,p,m,d,y,h=e.title,g=e.description,b=void 0===g?"Build and deploy software collaboratively with the power of AI without spending a second on setup.":g,x=e.image,w=void 0===x?"https://replit.com/public/images/opengraph.png":x,v=e.keywords,S=e.canonicalUrl,T=e.largeCard,_=(0,t._)((0,a.useState)(!1),2),I=_[0],k=_[1],O=(u=(i=(0,t._)((0,a.useState)(!1),2))[0],p=i[1],m=(0,s.useIsInMobileWorkspace)(),d=(0,l.useIsIOS)(),y=(0,l.useIsAndroid)(),(0,a.useEffect)(function(){p(d||m&&!y)},[m,y,d]),u),j="".concat(h," - Replit");return(0,a.useEffect)(function(){window.location.host.startsWith("staging")&&k(!0)},[]),(0,n.jsxs)(n.Fragment,{children:[(0,n.jsxs)(r.default,{children:[(0,n.jsx)("title",{children:j},"title"),(0,n.jsx)("link",{rel:"shortcut icon",href:f,sizes:"192x192",type:"image/png"}),I?(0,n.jsx)("meta",{name:"robots",content:"noindex"}):null,(0,n.jsx)("meta",{property:"og:title",content:h},"meta:og:title"),(0,n.jsx)("meta",{property:"og:description",content:b},"meta:og:description"),(0,n.jsx)("meta",{property:"og:type",content:"article"},"meta:og:type"),(0,n.jsx)("meta",{property:"og:image",content:w},"meta:og:image"),(0,n.jsx)("meta",{property:"og:site_name",content:"replit"}),(0,n.jsx)("meta",{property:"fb:app_id",content:"1775481339348651"}),(0,n.jsx)("meta",{itemProp:"name",content:"replit"}),(0,n.jsx)("meta",{itemProp:"description",content:b},"meta:itemProp:description"),(0,n.jsx)("meta",{itemProp:"image",content:w},"meta:image"),(0,n.jsx)("meta",{name:"description",content:b},"meta:description"),(0,n.jsx)("meta",{name:"keywords",content:void 0===v?"replit,ai,software,build,collaborate,IDE,platform,code,deploy,prototype,online,agent":v},"meta:keywords"),(0,n.jsx)("meta",{name:"author",property:"og:author",content:"replit"},"meta:og:author"),(0,n.jsx)("meta",{charSet:"UTF-8"}),(0,n.jsx)("meta",{name:"twitter:card",content:T?"summary_large_image":"summary"},"meta:twitter:card"),(0,n.jsx)("meta",{name:"twitter:site",content:"@replit"}),(0,n.jsx)("meta",{name:"twitter:title",content:h},"meta:twitter:title"),(0,n.jsx)("meta",{name:"twitter:description",content:b},"meta:twitter:description"),(0,n.jsx)("meta",{name:"twitter:image",content:w},"meta:twitter:image"),(0,n.jsx)("meta",{name:"twitter:domain",content:"replit.com"}),(0,n.jsx)("meta",{name:"google",content:"notranslate"}),O?(0,n.jsx)("meta",{name:"viewport",content:"width=device-width, initial-scale=1, maximum-scale=1"},"viewport"):(0,n.jsx)("meta",{name:"viewport",content:"width=device-width, initial-scale=1"},"viewport"),(0,n.jsx)("style",{dangerouslySetInnerHTML:{__html:"\n\n    /* PLEX SANS */\n\n    /* ibm-plex-sans-regular - latin */\n    @font-face {\n      font-family: 'IBM Plex Sans';\n      font-style: normal;\n      font-weight: 400;\n      src: local('IBM Plex Sans Regular'), local('IBMPlexSans-Regular'),\n          url('/public/fonts/ibm-plex-sans-v8-latin-regular.woff2') format('woff2'), /* Chrome 26+, Opera 23+, Firefox 39+ */\n          url('/public/fonts/ibm-plex-sans-v8-latin-regular.woff') format('woff'); /* Chrome 6+, Firefox 3.6+, IE 9+, Safari 5.1+ */\n    }\n    /* ibm-plex-sans-italic - latin */\n    @font-face {\n      font-family: 'IBM Plex Sans';\n      font-style: italic;\n      font-weight: 400;\n      src: local('IBM Plex Sans Italic'), local('IBMPlexSans-Italic'),\n          url('/public/fonts/ibm-plex-sans-v8-latin-italic.woff2') format('woff2'), /* Chrome 26+, Opera 23+, Firefox 39+ */\n          url('/public/fonts/ibm-plex-sans-v8-latin-italic.woff') format('woff'); /* Chrome 6+, Firefox 3.6+, IE 9+, Safari 5.1+ */\n    }\n    /* ibm-plex-sans-500 - latin */\n    @font-face {\n      font-family: 'IBM Plex Sans';\n      font-style: normal;\n      font-weight: 500;\n      src: local('IBM Plex Sans Medium'), local('IBMPlexSans-Medium'),\n          url('/public/fonts/ibm-plex-sans-v8-latin-500.woff2') format('woff2'), /* Chrome 26+, Opera 23+, Firefox 39+ */\n          url('/public/fonts/ibm-plex-sans-v8-latin-500.woff') format('woff'); /* Chrome 6+, Firefox 3.6+, IE 9+, Safari 5.1+ */\n    }\n    /* ibm-plex-sans-500italic - latin */\n    @font-face {\n      font-family: 'IBM Plex Sans';\n      font-style: italic;\n      font-weight: 500;\n      src: local('IBM Plex Sans Medium Italic'), local('IBMPlexSans-Medium-Italic'),\n          url('/public/fonts/ibm-plex-sans-v8-latin-500italic.woff2') format('woff2'), /* Chrome 26+, Opera 23+, Firefox 39+ */\n          url('/public/fonts/ibm-plex-sans-v8-latin-500italic.woff') format('woff'); /* Chrome 6+, Firefox 3.6+, IE 9+, Safari 5.1+ */\n    }\n    /* ibm-plex-sans-600 - latin */\n    @font-face {\n      font-family: 'IBM Plex Sans';\n      font-style: normal;\n      font-weight: 600;\n      src: local('IBM Plex Sans Semibold'), local('IBMPlexSans-Semibold'),\n          url('/public/fonts/ibm-plex-sans-v8-latin-600.woff2') format('woff2'), /* Chrome 26+, Opera 23+, Firefox 39+ */\n          url('/public/fonts/ibm-plex-sans-v8-latin-600.woff') format('woff'); /* Chrome 6+, Firefox 3.6+, IE 9+, Safari 5.1+ */\n    }\n    /* ibm-plex-sans-600italic - latin */\n    @font-face {\n      font-family: 'IBM Plex Sans';\n      font-style: italic;\n      font-weight: 600;\n      src: local('IBM Plex Sans Semibold Italic'), local('IBMPlexSans-Semibold-Italic'),\n          url('/public/fonts/ibm-plex-sans-v8-latin-600italic.woff2') format('woff2'), /* Chrome 26+, Opera 23+, Firefox 39+ */\n          url('/public/fonts/ibm-plex-sans-v8-latin-600italic.woff') format('woff'); /* Chrome 6+, Firefox 3.6+, IE 9+, Safari 5.1+ */\n    }\n\n    /* ABC Diatype */\n    @font-face {\n      font-family: 'ABC Diatype';\n      font-weight: 100 1000;\n      src: local('ABC Diatype'), local('ABCDiatype'),\n          url('/public/fonts/ABCDiatypePlusVariable-Regular.woff2') format('woff2')\n    }\n\n    /* ABC Diatype Variable */\n    @font-face {\n      font-family: 'ABC Diatype Variable';\n      font-weight: 100 1000;\n      src: local('ABC Diatype Variable'), local('ABCDiatypeVariable'),\n          url('/public/fonts/ABCDiatype-RegularPixelBeta.woff2') format('woff2')\n    }\n\n    /* ABC Diatype Pixel */\n    @font-face {\n      font-family: 'ABC Diatype Pixel';\n      font-style: normal;\n      font-weight: 400;\n      font-feature-settings: '\"ss15\"';\n      src: local('ABC Diatype Pixel'), local('ABCDiatypePixel'),\n        url('/public/fonts/ABCDiatype-RegularPixelBeta.woff') format('woff'),\n        url('/public/fonts/ABCDiatype-RegularPixelBeta.woff2') format('woff2')\n    }\n  "}}),(0,n.jsx)("meta",{charSet:"utf-8"}),(0,n.jsx)("link",{rel:"manifest",href:"/public/manifest.json"}),(0,n.jsx)("meta",{name:"theme-color",content:"#12141A"}),(0,n.jsx)("meta",{httpEquiv:"origin-trial",content:"AsKJNnBESA8LBSWSiA1TeHAuM7wj/zSm2MVlsxnG6yMeAuorNg9zyAEC3w+lp88yOz+9zkJmIQ++T1Cl4asHoAUAAABQeyJvcmlnaW4iOiJodHRwczovL3JlcGxpdC5jb206NDQzIiwiZmVhdHVyZSI6IkRpZ2l0YWxHb29kcyIsImV4cGlyeSI6MTYzMTY2Mzk5OX0="}),(0,n.jsx)("link",{rel:"apple-touch-icon",href:f}),(0,n.jsx)("meta",{name:"mobile-web-app-capable",content:"yes"}),(0,n.jsx)("meta",{name:"apple-mobile-web-app-title",content:"Replit"}),(0,n.jsx)("link",{rel:"search",type:"application/opensearchdescription+xml",href:"/public/opensearch.xml",title:"Replit"}),S?(0,n.jsx)("link",{rel:"canonical",href:S},"rel:canonical"):null]}),(0,n.jsx)(o,{}),(0,n.jsx)(c,{})]})}],705095);var p=e.i(33699),m=e.i(541793),d=e.i(161322),y=(0,m.atom)(!1);function h(e){var r=e.children,i=(0,t._)((0,d.useAtom)(y),2),o=i[0],s=i[1],l="1"!==p.default.env.DISABLE_STRICT_MODE;return((0,a.useEffect)(function(){},[l,o,s]),l)?(0,n.jsx)(a.StrictMode,{children:r}):r}e.s(["StrictModeWrapper",()=>h],924735)},943618,(e,t,n)=>{t.exports=e.r(872686)},738623,953891,e=>{"use strict";var t=e.i(297083),n=e.i(878420),r=e.i(817556),a=e.i(906368),i=e.i(862927),o=e.i(960933);o.Type.Object({privacyInviteCode:o.Type.Optional(o.Type.String()),rawPassword:o.Type.Optional(o.Type.String()),source:o.Type.Optional(o.Type.String()),referrerId:o.Type.Optional(o.Type.Number()),tenantId:o.Type.Optional(o.Type.String())});var s=o.Type.Object({isNewUser:o.Type.Boolean(),userId:o.Type.Number(),redirectUrl:o.Type.Optional(o.Type.String()),cookieExpiresAt:o.Type.Optional(o.Type.Number())}),l=o.Type.Union([s,o.Type.Object({message:o.Type.String(),reauth:o.Type.Optional(o.Type.Object({tenantId:o.Type.String(),samlProviderId:o.Type.String()}))})]);o.Type.Union([o.Type.Object({type:o.Type.Literal("tenantId"),tenantId:o.Type.String()}),o.Type.Object({type:o.Type.Literal("email"),email:o.Type.String()})]);var u=o.Type.Object({tenantId:o.Type.String(),samlProviderId:o.Type.String()}),c=o.Type.Union([u,o.Type.Object({message:o.Type.String()})]),f=o.Type.Union([o.Type.Literal("CLIENT_TYPE_ANDROID"),o.Type.Literal("CLIENT_TYPE_IOS"),o.Type.Literal("CLIENT_TYPE_WEB")]);o.Type.Object({email:o.Type.String(),privacyInviteCode:o.Type.Optional(o.Type.String()),rawPassword:o.Type.String(),clientType:f,recaptchaToken:o.Type.String(),source:o.Type.String(),referrerId:o.Type.Optional(o.Type.Number()),aiPrompt:o.Type.Optional(o.Type.String())}),o.Type.Object({emailOrUsername:o.Type.String(),rawPassword:o.Type.String(),clientType:f,recaptchaToken:o.Type.String()});var p=o.Type.Object({kind:o.Type.String(),idToken:o.Type.String(),displayName:o.Type.Optional(o.Type.String()),email:o.Type.String(),refreshToken:o.Type.String(),expiresIn:o.Type.String(),localId:o.Type.String()});o.Type.Object({error:o.Type.Object({code:o.Type.Number(),message:o.Type.String(),errors:o.Type.Array(o.Type.Object({message:o.Type.String(),domain:o.Type.String(),reason:o.Type.String()}))})});var m=o.Type.Union([o.Type.Object({userId:o.Type.Number(),session:p}),o.Type.Object({message:o.Type.String()})]),d=e.i(904851),y=e.i(90659),h=e.i(721281),g=e.i(282453),b=function(){function e(){(0,d._)(this,e)}return(0,y._)(e,null,[{key:"shouldRefreshSessionCookie",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:3e5,t=this.getSessionInfo();return!!t&&Date.now()>=t.cookieExpiresAt-e}},{key:"setSessionInfo",value:function(e){var t=(0,n._)({},e);g.default.set(this.SESSION_INFO_KEY,t)}},{key:"getSessionInfo",value:function(){return g.default.get(this.SESSION_INFO_KEY,"object")}},{key:"clearSessionInfo",value:function(){g.default.remove(this.SESSION_INFO_KEY)}}]),e}();(0,h._)(b,"SESSION_INFO_KEY","replit_session_info"),e.s(["SessionInfoManager",()=>b],953891);var x="/api/v1/auth",w=function(e){var o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return(0,t._)(function(){var t,s,u,c,f;return(0,r._)(this,function(r){switch(r.label){case 0:return[4,e.getIdToken()];case 1:return t=r.sent(),s=null!==e.tenantId?{tenantId:e.tenantId}:{},u=(0,n._)({},o,s),[4,fetch(x,{method:"POST",headers:{Authorization:"Bearer ".concat(t),"X-Requested-With":"XMLHttpRequest","Content-Type":"application/json"},credentials:"same-origin",body:JSON.stringify(u)})];case 2:return[4,(c=r.sent()).json()];case 3:if(f=r.sent(),!i.Value.Check(l,f))return a.withScope(function(t){t.setExtras({fuid:e.uid,status:c.status,body:f}),a.captureException(Error("Unexpected POST ".concat(x," response format")))}),[2,{type:"error",message:"Something unexpected happened, please try again."}];if(c.ok||428===c.status||a.withScope(function(t){t.setExtras({fuid:e.uid,status:c.status,body:f}),a.captureException(Error("Unexpected POST ".concat(x," response")))}),"message"in f)return[2,{type:428===c.status?"needs_email_verification":"error",message:f.message,reauth:f.reauth}];return f.cookieExpiresAt&&b.setSessionInfo({cookieExpiresAt:f.cookieExpiresAt,userId:f.userId}),[2,{type:"success",userId:f.userId,isNewUser:f.isNewUser,redirectUrl:f.redirectUrl}]}})})()},v=function(e){return(0,t._)(function(){var t,n,i,o;return(0,r._)(this,function(r){switch(r.label){case 0:return[4,e.getIdToken()];case 1:return t=r.sent(),[4,fetch("".concat(x,"-anon"),{method:"POST",headers:{Authorization:"Bearer ".concat(t),"X-Requested-With":"XMLHttpRequest","Content-Type":"application/json"},credentials:"same-origin"})];case 2:switch((n=r.sent()).status){case 204:case 304:return[3,3]}return[3,4];case 3:return[2,{type:"success"}];case 4:return[4,n.json()];case 5:return i=r.sent(),a.withScope(function(t){t.setExtras({anonUser:e}),a.captureException(Error("Unexpected POST ".concat(x,"-anon response")))}),[2,{type:"error",message:null!=(o=i.message)?o:"Something unexpected happened, please try again."}];case 6:return[2]}})})()},S=function(e){return(0,t._)(function(){var t,n,o;return(0,r._)(this,function(r){switch(r.label){case 0:return[4,fetch(t="/api/v1/auth/sign-up",{method:"POST",headers:{"X-Requested-With":"XMLHttpRequest","Content-Type":"application/json"},credentials:"same-origin",body:JSON.stringify(e)})];case 1:n=r.sent(),r.label=2;case 2:return r.trys.push([2,4,,5]),[4,n.json()];case 3:return o=r.sent(),[3,5];case 4:return r.sent(),[3,5];case 5:if(!n.ok&&400!==n.status){if(a.withScope(function(r){r.setExtras({email:e.email,status:n.status,body:o}),a.captureException(Error("Unexpected POST ".concat(t," response status")))}),429===n.status)return[2,{type:"error",message:"You are doing that too many times, please try again later. If you believe this is an error, please reach out to support@replit.com"}];return[2,{type:"error",message:"Something unexpected happened, please try again."}]}if(!i.Value.Check(m,o))return a.withScope(function(r){r.setExtras({email:e.email,status:n.status,body:o}),a.captureException(Error("Unexpected POST ".concat(t," response format")))}),[2,{type:"error",message:"Something unexpected happened, please try again."}];if("message"in o)return[2,{type:"error",message:o.message}];return[2,{type:"success",userId:o.userId,session:o.session}]}})})()},T=function(e){return(0,t._)(function(){var t,n,o;return(0,r._)(this,function(r){switch(r.label){case 0:return[4,fetch(t="/api/v1/auth/sign-in",{method:"POST",headers:{"X-Requested-With":"XMLHttpRequest","Content-Type":"application/json"},credentials:"same-origin",body:JSON.stringify(e)})];case 1:return[4,(n=r.sent()).json()];case 2:if(o=r.sent(),!i.Value.Check(m,o))return a.withScope(function(r){r.setExtras({emailOrUsername:e.emailOrUsername,status:n.status,body:o}),a.captureException(Error("Unexpected POST ".concat(t," response format")))}),[2,{type:"error",message:"Something unexpected happened, please try again."}];if(n.ok||400===n.status||a.withScope(function(r){r.setExtras({emailOrUsername:e.emailOrUsername,status:n.status,body:o}),a.captureException(Error("Unexpected POST ".concat(t," response status")))}),"message"in o)return[2,{type:"error",message:o.message}];return[2,{type:"success",userId:o.userId,session:o.session}]}})})()},_=function(e){return(0,t._)(function(){var t,n,o;return(0,r._)(this,function(r){switch(r.label){case 0:return[4,fetch(t="/api/v1/auth/tenants",{method:"POST",headers:{"X-Requested-With":"XMLHttpRequest","Content-Type":"application/json"},credentials:"same-origin",body:JSON.stringify(e)})];case 1:return[4,(n=r.sent()).json()];case 2:if(o=r.sent(),!i.Value.Check(c,o))return a.withScope(function(r){r.setExtras({request:e,status:n.status,body:o}),a.captureException(Error("Unexpected POST ".concat(t," response format")))}),[2,{type:"error",message:"Something unexpected happened, please try again."}];if(!n.ok&&404!==n.status&&422!==n.status)return a.withScope(function(t){t.setExtras({request:e,status:n.status}),a.captureException(Error("Unexpected GET /api/v1/auth/tenants response"))}),[2,{type:"error",message:"Something unexpected happened, please try again."}];if("message"in o)return[2,{type:"error",message:o.message}];return[2,{type:"success",tenantId:o.tenantId,samlProviderId:o.samlProviderId}]}})})()};e.s(["getAuthTenant",()=>_,"setAnonCookie",()=>v,"setCookie",()=>w,"signInWithPassword",()=>T,"signUpWithPassword",()=>S],738623)},248202,(e,t,n)=>{"use strict";Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"LoadableContext",{enumerable:!0,get:function(){return r}});var r=e.r(2879)._(e.r(389959)).default.createContext(null)},26721,(e,t,n)=>{"use strict";var r=e.r(883735),a=e.r(619314),i=e.r(5044),o=e.r(23256);Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return h}});var s=e.r(2879)._(e.r(389959)),l=e.r(248202),u=[],c=[],f=!1;function p(e){var t=e(),n={loading:!0,loaded:null,error:null};return n.promise=t.then(function(e){return n.loading=!1,n.loaded=e,e}).catch(function(e){throw n.loading=!1,n.error=e,e}),n}var m=function(){function e(t,n){r._(this,e),this._loadFn=t,this._opts=n,this._callbacks=new Set,this._delay=null,this._timeout=null,this.retry()}return a._(e,[{key:"promise",value:function(){return this._res.promise}},{key:"retry",value:function(){var e=this;this._clearTimeouts(),this._res=this._loadFn(this._opts.loader),this._state={pastDelay:!1,timedOut:!1};var t=this._res,n=this._opts;t.loading&&("number"==typeof n.delay&&(0===n.delay?this._state.pastDelay=!0:this._delay=setTimeout(function(){e._update({pastDelay:!0})},n.delay)),"number"==typeof n.timeout&&(this._timeout=setTimeout(function(){e._update({timedOut:!0})},n.timeout))),this._res.promise.then(function(){e._update({}),e._clearTimeouts()}).catch(function(t){e._update({}),e._clearTimeouts()}),this._update({})}},{key:"_update",value:function(e){this._state=i._(o._(i._({},this._state),{error:this._res.error,loaded:this._res.loaded,loading:this._res.loading}),e),this._callbacks.forEach(function(e){return e()})}},{key:"_clearTimeouts",value:function(){clearTimeout(this._delay),clearTimeout(this._timeout)}},{key:"getCurrentValue",value:function(){return this._state}},{key:"subscribe",value:function(e){var t=this;return this._callbacks.add(e),function(){t._callbacks.delete(e)}}}]),e}();function d(t){return function(t,n){var r=Object.assign({loader:null,loading:null,delay:200,timeout:null,webpack:null,modules:null},n),a=null;function i(){if(!a){var e=new m(t,r);a={getCurrentValue:e.getCurrentValue.bind(e),subscribe:e.subscribe.bind(e),retry:e.retry.bind(e),promise:e.promise.bind(e)}}return a.promise()}if("undefined"==typeof window&&u.push(i),!f&&"undefined"!=typeof window){var o=r.webpack&&"function"==typeof e.t.resolveWeak?r.webpack():r.modules;o&&c.push(function(e){var t=!0,n=!1,r=void 0;try{for(var a,s=o[Symbol.iterator]();!(t=(a=s.next()).done);t=!0){var l=a.value;if(e.includes(l))return i()}}catch(e){n=!0,r=e}finally{try{t||null==s.return||s.return()}finally{if(n)throw r}}})}function p(e,t){i(),(n=s.default.useContext(l.LoadableContext))&&Array.isArray(r.modules)&&r.modules.forEach(function(e){n(e)});var n,o=s.default.useSyncExternalStore(a.subscribe,a.getCurrentValue,a.getCurrentValue);return s.default.useImperativeHandle(t,function(){return{retry:a.retry}},[]),s.default.useMemo(function(){var t;return o.loading||o.error?s.default.createElement(r.loading,{isLoading:o.loading,pastDelay:o.pastDelay,timedOut:o.timedOut,error:o.error,retry:a.retry}):o.loaded?s.default.createElement((t=o.loaded)&&t.default?t.default:t,e):null},[e,o])}return p.preload=function(){return i()},p.displayName="LoadableComponent",s.default.forwardRef(p)}(p,t)}function y(e,t){for(var n=[];e.length;){var r=e.pop();n.push(r(t))}return Promise.all(n).then(function(){if(e.length)return y(e,t)})}d.preloadAll=function(){return new Promise(function(e,t){y(u).then(e,t)})},d.preloadReady=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return new Promise(function(t){var n=function(){return f=!0,t()};y(c,e).then(n,n)})},"undefined"!=typeof window&&(window.__NEXT_PRELOADREADY=d.preloadReady);var h=d},607836,(e,t,n)=>{"use strict";var r=e.r(954546),a=e.r(5044),i=e.r(23256),o=e.r(365738);Object.defineProperty(n,"__esModule",{value:!0});var s={default:function(){return y},noSSR:function(){return d}};for(var l in s)Object.defineProperty(n,l,{enumerable:!0,get:s[l]});var u=e.r(2879),c=e.r(478902);e.r(389959);var f=u._(e.r(26721)),p="undefined"==typeof window;function m(e){return{default:(null==e?void 0:e.default)||e}}function d(e,t){if(delete t.webpack,delete t.modules,!p)return e(t);var n=t.loading;return function(){return(0,c.jsx)(n,{error:null,isLoading:!0,pastDelay:!1,timedOut:!1})}}function y(e,t){var n=f.default,s={loading:function(e){return e.error,e.isLoading,e.pastDelay,null}};r._(e,Promise)?s.loader=function(){return e}:"function"==typeof e?s.loader=e:(void 0===e?"undefined":o._(e))==="object"&&(s=a._({},s,e));var l=(s=a._({},s,t)).loader;return(s.loadableGenerated&&(s=a._({},s,s.loadableGenerated),delete s.loadableGenerated),"boolean"!=typeof s.ssr||s.ssr)?n(i._(a._({},s),{loader:function(){return null!=l?l().then(m):Promise.resolve(m(function(){return null}))}})):(delete s.webpack,delete s.modules,d(n,s))}("function"==typeof n.default||"object"===o._(n.default)&&null!==n.default)&&void 0===n.default.__esModule&&(Object.defineProperty(n.default,"__esModule",{value:!0}),Object.assign(n.default,n),t.exports=n.default)},864558,(e,t,n)=>{t.exports=e.r(607836)},773948,e=>{"use strict";var t=e.i(297083),n=e.i(904851),r=e.i(90659),a=e.i(721281),i=e.i(167626),o=e.i(878420),s=e.i(119468),l=e.i(817556),u=e.i(903673),c=e.i(738623),f=e.i(664152),p=new(function(){function e(t){(0,n._)(this,e),(0,a._)(this,"config",void 0),(0,a._)(this,"activeRefreshPromise",null),this.config=(0,o._)({maxRetries:3,baseDelayMs:1e3,maxDelayMs:5e3},t)}return(0,r._)(e,[{key:"refreshCookie",value:function(e){return(0,t._)(function(){return(0,l._)(this,function(t){return this.activeRefreshPromise?f.logger.info("Cookie refresh already in progress, waiting for existing operation to complete"):this.activeRefreshPromise=this.executeRefreshOperation(e),[2,this.activeRefreshPromise]})}).call(this)}},{key:"executeRefreshOperation",value:function(e){return(0,t._)(function(){var t,n,r,a,i;return(0,l._)(this,function(o){switch(o.label){case 0:t=null,o.label=1;case 1:o.trys.push([1,,6,7]),r=function(r){var a;return(0,l._)(this,function(i){switch(i.label){case 0:return[4,n.attemptCookieRefresh(e,r)];case 1:if("success"===(t=i.sent()).type)return r>1&&f.logger.info("Cookie refresh succeeded after retries",{attempt:r,totalAttempts:r}),[2,{v:t}];if(!n.isRetryableError(t))return f.logger.warn("Cookie refresh failed with non-retryable error",{attempt:r,resultType:t.type,errorMessage:t.message}),[2,{v:t}];if(f.logger.warn("Cookie refresh attempt failed, will retry",{attempt:r,resultType:t.type,errorMessage:t.message,remainingAttempts:n.config.maxRetries-r}),!(r<n.config.maxRetries))return[3,3];return a=n.calculateBackoffDelay(r),[4,new Promise(function(e){return setTimeout(e,a)})];case 2:i.sent(),i.label=3;case 3:return[2]}})},a=1,o.label=2;case 2:if(!(a<=this.config.maxRetries))return[3,5];return n=this,[5,(0,u._)(r(a))];case 3:if(i=o.sent(),"object"===(0,s._)(i))return[2,i.v];o.label=4;case 4:return a++,[3,2];case 5:return f.logger.error("Cookie refresh failed after all retry attempts",{finalAttempt:this.config.maxRetries,lastError:null==t?void 0:t.type,lastMessage:null==t?void 0:t.message}),[2,t||{type:"error",message:"Cookie refresh failed after all retry attempts"}];case 6:return this.activeRefreshPromise=null,[7];case 7:return[2]}})}).call(this)}},{key:"attemptCookieRefresh",value:function(e,n){return(0,t._)(function(){var t;return(0,l._)(this,function(r){switch(r.label){case 0:return r.trys.push([0,2,,3]),f.logger.info("Cookie refresh attempt",{attempt:n,maxRetries:this.config.maxRetries}),[4,(0,c.setCookie)(e)];case 1:return[2,r.sent()];case 2:return t=r.sent(),f.logger.warn("Cookie refresh attempt failed with exception",{attempt:n,errorDetails:(0,i._)(t,Error)?t.message:String(t)}),[2,{type:"error",message:(0,i._)(t,Error)?t.message:"Unknown error during cookie refresh"}];case 3:return[2]}})}).call(this)}},{key:"isRetryableError",value:function(e){return"needs_email_verification"!==e.type&&"error"===e.type}},{key:"calculateBackoffDelay",value:function(e){var t=Math.min(this.config.baseDelayMs*Math.pow(2,e-1),this.config.maxDelayMs),n=.25*t*(Math.random()-.5);return Math.round(t+n)}},{key:"getState",value:function(){return{hasActivePromise:null!==this.activeRefreshPromise}}},{key:"reset",value:function(){this.activeRefreshPromise=null}}]),e}());e.s(["cookieRefreshService",()=>p])}]);

//# debugId=433e555c-5ef9-d2d5-a187-6d621e1056e6
//# sourceMappingURL=4067ef48af97fbb7.js.map