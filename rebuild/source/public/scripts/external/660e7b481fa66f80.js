;!function(){try { var e="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof global?global:"undefined"!=typeof window?window:"undefined"!=typeof self?self:{},n=(new e.Error).stack;n&&((e._debugIds|| (e._debugIds={}))[n]="db18d1ba-8534-5319-bce3-f00ae23ee99e")}catch(e){}}();
(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,245150,e=>{"use strict";var r=e.i(878420),t=e.i(64386),n=e.i(276385),i=e.i(606867);function o(e){return(0,n.jsx)(i.default,(0,t._)((0,r._)({},e),{children:(0,n.jsx)("path",{fillRule:"evenodd",d:"M10.64 2.354A9.75 9.75 0 1 1 2.803 15.25a.75.75 0 0 1 1.414-.498 8.25 8.25 0 1 0 1.937-8.564L2.894 9.25H7a.75.75 0 0 1 0 1.5H1A.75.75 0 0 1 .25 10V4a.75.75 0 0 1 1.5 0v4.266l3.368-3.165a9.75 9.75 0 0 1 5.522-2.747Z",clipRule:"evenodd"})}))}e.s(["default",()=>o])},501005,e=>{"use strict";var r=e.i(33699),t=e.i(297083),n=e.i(817556),i="473079ba-e99f-4e25-a635-e9b661c7dd3e",o=0,s=null;function a(e,o){return(0,t._)(function(){var t;return(0,n._)(this,function(n){switch(n.label){case 0:if("true"===r.default.env.IS_CYPRESS_AUTOMATED_TEST||"true"===r.default.env.SKIP_HCAPTCHA)return[2,"bypassed"];if(!s)return[3,2];return[4,s];case 1:n.sent(),n.label=2;case 2:return t=window.hcaptcha,[2,new Promise(function(r,n){var s=document.createElement("div"),a=t.render(s,{sitekey:e||i,size:"invisible",callback:function(e){t.reset(a),window.document.body.contains(s)&&window.document.body.removeChild(s),r(e)},"open-callback":function(){o&&o()},"close-callback":function(){t.reset(a),window.document.body.contains(s)&&window.document.body.removeChild(s),n(Error("HCaptcha closed"))},"chalexpired-callback":function(){t.reset(a),window.document.body.contains(s)&&window.document.body.removeChild(s),n(Error("HCaptcha challenge expired"))},"error-callback":function(){t.reset(a),window.document.body.contains(s)&&window.document.body.removeChild(s),n(Error("HCaptcha render error"))},"expired-callback":function(){t.reset(a),window.document.body.contains(s)&&window.document.body.removeChild(s),n(Error("HCaptcha render expired"))}});window.document.body.appendChild(s),t.execute(a)})]}})})()}s=function e(){return(0,t._)(function(){var r;return(0,n._)(this,function(t){return(r=document.createElement("script")).src="https://js.hcaptcha.com/1/api.js?render=explicit&host=repl.it",[2,new Promise(function(t,n){r.onload=function e(r){return function(){void 0===window.hcaptcha?setTimeout(function(){e(r)},100):r()}}(function(){s=null,t()}),r.onerror=function(){o++,s=new Promise(function(r,t){setTimeout(function(){e().then(r,t)},1e3*Math.pow(1.7,o)+Math.floor(500*Math.random()))}),5===o&&n(Error("Failed to load captcha script after ".concat(5," times")))},window.document.head.appendChild(r)})]})})()}(),e.s(["HCAPTCHA_SITE_KEY",()=>i,"default",()=>a])},216373,e=>{"use strict";var r=e.i(878420),t=e.i(64386),n=e.i(276385),i=e.i(606867);function o(e){return(0,n.jsx)(i.default,(0,t._)((0,r._)({},e),{children:(0,n.jsx)("path",{fillRule:"evenodd",d:"M23.31 11.753a.75.75 0 0 1-.75.75h-1.523v2.698a.75.75 0 0 1-1.5 0v-2.698h-2.476v3.698a.75.75 0 0 1-1.5 0v-3.698h-3.219a5.168 5.168 0 0 1-10.285-.755v-.008a5.168 5.168 0 0 1 10.268-.737H22.56a.75.75 0 0 1 .75.75Zm-12.417.043-.002-.03a3.668 3.668 0 0 0-7.334-.004 3.668 3.668 0 1 0 7.336.034Z",clipRule:"evenodd"})}))}e.s(["default",()=>o])},68278,e=>{"use strict";var r=e.i(297083),t=e.i(530658),n=e.i(817556),i=e.i(389959),o=e.i(906368),s=e.i(878420),a=e.i(569384),c=e.i(973245),u=e.i(951262);function l(){var e=(0,a._)(["\n  mutation SaveUserAuth($input: SaveUserAuthInput!) {\n    saveUserAuth(input: $input) {\n      ... on CurrentUser {\n        id\n      }\n      ... on UnauthorizedError {\n        message\n      }\n      ... on UserError {\n        message\n      }\n      ... on TooManyRequestsError {\n        message\n      }\n      ... on ServiceUnavailable {\n        message\n      }\n    }\n  }\n"]);return l=function(){return e},e}var d={},f=(0,c.gql)(l()),p=e.i(294426),m={type:"error",message:"Something unexpected happened, please try again."};function h(){var e,a=(0,t._)((e=(0,s._)({},d,void 0),u.useMutation(f,e)),1)[0];return(0,i.useCallback)(function(e){var t=e.userCredential,i=e.oauthProviderId,s=e.scopes;return(0,r._)(function(){var e,r;return(0,n._)(this,function(n){switch(n.label){case 0:if(!(e=(0,p.getAccessTokenFromCredential)(i,t))||!e.accessToken)return o.captureException(Error("Failed to extract token from ".concat(i," credential"))),[2,m];n.label=1;case 1:return n.trys.push([1,3,,4]),[4,a({variables:{input:{provider:i,token:e.accessToken,scopes:s}}})];case 2:return r=n.sent(),[3,4];case 3:return n.sent(),o.captureException(Error("Failed to save ".concat(i," Auth state"))),[2,m];case 4:if(!r.data)return o.captureException(Error("Unexpected error trying to save ".concat(i," Auth state"))),[2,m];if("CurrentUser"!==r.data.saveUserAuth.__typename)return[2,{type:"error",message:r.data.saveUserAuth.message}];return[2,{type:"success"}]}})})()},[a])}e.s(["useSaveUserAuth",()=>h],68278)},273325,e=>{"use strict";var r=e.i(297083),t=e.i(530658),n=e.i(817556),i=e.i(276385),o=e.i(389959),s=e.i(738623),a=e.i(414248),c=e.i(294426),u=e.i(673920),l=e.i(322823),d=e.i(858248),f=e.i(709485),p=e.i(746788),m=e.i(446530),h=e.i(613355),g=e.i(612372),v=e.i(887877),y=e.i(625484),x=e.i(616278),b=e.i(940745),w=(0,m.cssRecord)({form:[h.rcss.colWithGap(8),h.rcss.width("100%")]});function _(e){var m,h=e.onSubmit,_=e.mode,C=e.onRedirectingChange,S=e.seededEmail,j=(0,t._)((0,o.useState)(!1),2),k=j[0],A=j[1],P=(0,t._)((0,o.useState)(!1),2),I=P[0],E=P[1],T=(0,l.useFormField)(S,p.default.isValidEmail);(0,u.useEffectOnce)(function(){T.validate()});var F=T.error?{message:T.error.message,severity:null!=(m=T.error.severity)?m:"error"}:void 0;return(0,i.jsxs)(v.Form,{onSubmit:function(e){return(0,r._)(function(){var r,t,i;return(0,n._)(this,function(n){switch(n.label){case 0:if(e.preventDefault(),k)return[2];return A(!0),[4,(0,s.getAuthTenant)({type:"email",email:T.value})];case 1:if("error"===(r=n.sent()).type)return A(!1),h({error:r.message}),[2];return[4,C(!0)];case 2:return n.sent(),(0,d.track)(f.events.AUTH_FORM_SSO_REQUESTED,{provider:"saml",authenticationType:_,isTeacher:"false"}),t=r.tenantId,i=r.samlProviderId,[4,(0,c.signInWithProvider)({tenantId:t,provider:{type:"saml",providerId:i}})];case 3:if("error"===n.sent().type)return A(!1),h({error:c.signInWithProviderErrorMessage}),[2];return A(!1),E(!0),[2]}})})()},css:w.form,children:[(0,i.jsx)(a.default,{type:"text",label:"Company email",name:"username",autoComplete:"email",onBlur:T.handleBlur,validationResults:F?[F]:[],onChange:T.setValue,value:T.value}),(0,i.jsx)(y.View,{gap:24,children:(0,i.jsx)(g.default,{type:"submit",variant:"primary",stretch:!0,loading:k,disabled:!T.isValid||I,iconRight:k?(0,i.jsx)(b.default,{}):I?(0,i.jsx)(x.default,{}):void 0,dataCy:"saml-log-in-btn",text:"Log in with SSO"})})]})}e.s(["default",()=>_])},673920,e=>{"use strict";var r=e.i(389959);function t(e){var t=(0,r.useRef)(!1);(0,r.useEffect)(function(){t.current||(t.current=!0,e())},[e])}e.s(["useEffectOnce",()=>t])},691512,(e,r,t)=>{"use strict";var n=e.r(954546);function i(e){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){if(!("string"==typeof e||n._(e,String))){var r=i(e);throw null===e?r="null":"object"===r&&(r=e.constructor.name),TypeError("Expected a string but received a ".concat(r))}},r.exports=t.default,r.exports.default=t.default},546734,(e,r,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=arguments.length>1?arguments[1]:void 0;for(var t in r)void 0===e[t]&&(e[t]=r[t]);return e},r.exports=t.default,r.exports.default=t.default},904667,(e,r,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,r){(0,n.default)(e),(r=(0,i.default)(r,s)).allow_trailing_dot&&"."===e[e.length-1]&&(e=e.substring(0,e.length-1)),!0===r.allow_wildcard&&0===e.indexOf("*.")&&(e=e.substring(2));var t=e.split("."),o=t[t.length-1];return!(r.require_tld&&(t.length<2||!/^([a-z\u00A1-\u00A8\u00AA-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]{2,}|xn[a-z0-9-]{2,})$/i.test(o)||/\s/.test(o)))&&!(!r.allow_numeric_tld&&/^\d+$/.test(o))&&t.every(function(e){return!(e.length>63||!/^[a-z_\u00a1-\uffff0-9-]+$/i.test(e)||/[\uff01-\uff5e]/.test(e)||/^-|-$/.test(e)||!r.allow_underscores&&/_/.test(e))})};var n=o(e.r(691512)),i=o(e.r(546734));function o(e){return e&&e.__esModule?e:{default:e}}var s={require_tld:!0,allow_underscores:!1,allow_trailing_dot:!1,allow_numeric_tld:!1,allow_wildcard:!1};r.exports=t.default,r.exports.default=t.default},109679,(e,r,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function e(r){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return((0,i.default)(r),t=String(t))?"4"===t?!!a.test(r)&&r.split(".").sort(function(e,r){return e-r})[3]<=255:"6"===t&&!!u.test(r):e(r,4)||e(r,6)};var n,i=(n=e.r(691512))&&n.__esModule?n:{default:n},o="(?:[0-9]|[1-9][0-9]|1[0-9][0-9]|2[0-4][0-9]|25[0-5])",s="(".concat(o,"[.]){3}").concat(o),a=new RegExp("^".concat(s,"$")),c="(?:[0-9a-fA-F]{1,4})",u=RegExp("^("+"(?:".concat(c,":){7}(?:").concat(c,"|:)|")+"(?:".concat(c,":){6}(?:").concat(s,"|:").concat(c,"|:)|")+"(?:".concat(c,":){5}(?::").concat(s,"|(:").concat(c,"){1,2}|:)|")+"(?:".concat(c,":){4}(?:(:").concat(c,"){0,1}:").concat(s,"|(:").concat(c,"){1,3}|:)|")+"(?:".concat(c,":){3}(?:(:").concat(c,"){0,2}:").concat(s,"|(:").concat(c,"){1,4}|:)|")+"(?:".concat(c,":){2}(?:(:").concat(c,"){0,3}:").concat(s,"|(:").concat(c,"){1,5}|:)|")+"(?:".concat(c,":){1}(?:(:").concat(c,"){0,4}:").concat(s,"|(:").concat(c,"){1,6}|:)|")+"(?::((?::".concat(c,"){0,5}:").concat(s,"|(?::").concat(c,"){1,7}|:))")+")(%[0-9a-zA-Z-.:]{1,})?$");r.exports=t.default,r.exports.default=t.default},478605,(e,r,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,r){(0,i.default)(e),"object"===o(r)?(t=r.min||0,n=r.max):(t=arguments[1],n=arguments[2]);var t,n,s=encodeURI(e).split(/%..|./).length-1;return s>=t&&(void 0===n||s<=n)};var n,i=(n=e.r(691512))&&n.__esModule?n:{default:n};function o(e){return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}r.exports=t.default,r.exports.default=t.default},294784,(e,r,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,r){if((0,n.default)(e),(r=(0,i.default)(r,u)).require_display_name||r.allow_display_name){var t=e.match(l);if(t){var c,g,v=t[1];if(e=e.replace(v,"").replace(/(^<|>$)/g,""),v.endsWith(" ")&&(v=v.substr(0,v.length-1)),!(!(!(g=(c=v).replace(/^"(.+)"$/,"$1")).trim()||/[\.";<>]/.test(g)&&(g===c||g.split('"').length!==g.split('\\"').length))&&1))return!1}else if(r.require_display_name)return!1}if(!r.ignore_max_length&&e.length>254)return!1;var y=e.split("@"),x=y.pop(),b=x.toLowerCase();if(r.host_blacklist.includes(b))return!1;var w=y.join("@");if(r.domain_specific_validation&&("gmail.com"===b||"googlemail.com"===b)){var _=(w=w.toLowerCase()).split("+")[0];if(!(0,o.default)(_.replace(/\./g,""),{min:6,max:30}))return!1;for(var C=_.split("."),S=0;S<C.length;S++)if(!f.test(C[S]))return!1}if(!1===r.ignore_max_length&&(!(0,o.default)(w,{max:64})||!(0,o.default)(x,{max:254})))return!1;if(!(0,s.default)(x,{require_tld:r.require_tld})){if(!r.allow_ip_domain)return!1;if(!(0,a.default)(x)){if(!x.startsWith("[")||!x.endsWith("]"))return!1;var j=x.substr(1,x.length-2);if(0===j.length||!(0,a.default)(j))return!1}}if('"'===w[0])return w=w.slice(1,w.length-1),r.allow_utf8_local_part?h.test(w):p.test(w);for(var k=r.allow_utf8_local_part?m:d,A=w.split("."),P=0;P<A.length;P++)if(!k.test(A[P]))return!1;return!r.blacklisted_chars||-1===w.search(RegExp("[".concat(r.blacklisted_chars,"]+"),"g"))};var n=c(e.r(691512)),i=c(e.r(546734)),o=c(e.r(478605)),s=c(e.r(904667)),a=c(e.r(109679));function c(e){return e&&e.__esModule?e:{default:e}}var u={allow_display_name:!1,require_display_name:!1,allow_utf8_local_part:!0,require_tld:!0,blacklisted_chars:"",ignore_max_length:!1,host_blacklist:[]},l=/^([^\x00-\x1F\x7F-\x9F\cX]+)</i,d=/^[a-z\d!#\$%&'\*\+\-\/=\?\^_`{\|}~]+$/i,f=/^[a-z\d]+$/,p=/^([\s\x01-\x08\x0b\x0c\x0e-\x1f\x7f\x21\x23-\x5b\x5d-\x7e]|(\\[\x01-\x09\x0b\x0c\x0d-\x7f]))*$/i,m=/^[a-z\d!#\$%&'\*\+\-\/=\?\^_`{\|}~\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]+$/i,h=/^([\s\x01-\x08\x0b\x0c\x0e-\x1f\x7f\x21\x23-\x5b\x5d-\x7e\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]|(\\[\x01-\x09\x0b\x0c\x0d-\x7f\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]))*$/i;r.exports=t.default,r.exports.default=t.default},746788,e=>{"use strict";var r=e.i(297083),t=e.i(817556),n=e.i(478605),i=e.i(294784),o=e.i(344188);e.s(["default",0,{isValidEmail:function(e){return(0,r._)(function(){return(0,t._)(this,function(r){return e?(0,i.default)(e)?[2]:[2,{message:"Invalid email address"}]:[2,{message:"Must include valid email address"}]})})()},email:function(e){return(0,r._)(function(){return(0,t._)(this,function(r){switch(r.label){case 0:if(!e)return[2,null];if(!(0,i.default)(e))return[2,{message:"Invalid email address"}];return[4,(0,o.postJson)("/data/user/exists",{email:e})];case 1:if(r.sent().exists)return[2,{message:"Email already in use"}];return[2]}})})()},username:function(e){return(0,r._)(function(){return(0,t._)(this,function(r){switch(r.label){case 0:if(!e)return[2,null];if(!(0,n.default)(e,{min:2,max:15}))return[2,{message:"Your username must be between 2 and 15 characters"}];if(!e.match(/^[0-9a-zA-Z]+$/))return[2,{message:"Your username can only contain alphanumeric characters (letters A-Z, numbers 0-9)"}];return[4,(0,o.postJson)("/data/user/exists",{username:e})];case 1:if(r.sent().exists)return[2,{message:"Username is taken"}];return[2]}})})()},teamUsername:function(e){return(0,r._)(function(){return(0,t._)(this,function(r){switch(r.label){case 0:if(!e)return[2,null];if(!(0,n.default)(e,{min:2,max:28}))return[2,{message:"Your username must be between 2 and 28 characters"}];if(!e.match(/^[0-9a-zA-Z-]+$/))return[2,{message:"Username can only contain alphanumeric characters (letters A-Z, numbers 0-9) and hyphens."}];if(e.match(/^-.*|.*-$|.*--.*/))return[2,{message:"A username can not start or end with hyphens, or contain two consecutive hyphens."}];return[4,(0,o.postJson)("/data/user/exists",{username:e})];case 1:if(r.sent().exists)return[2,{message:"Username is taken"}];return[2]}})})()},password:function(e){return e?(0,n.default)(e,{min:8})?void 0:{message:"Must be at least 8 characters"}:null},school:function(e){return null},replTitle:function(e){if(!(0,n.default)(e,{min:1,max:60}))return{message:"Titles must be between 1 and 60 characters"}},replDescription:function(e){if(!(0,n.default)(e,{min:0,max:1e3}))return{message:"Titles must be between 0 and 1000 characters"}},orgName:function(e){return(0,r._)(function(){return(0,t._)(this,function(r){return e?(0,n.default)(e,{min:2,max:40})?e.match(/^[0-9a-zA-Z ]+$/)?[2]:[2,{message:"Organization name can only contain alphanumeric characters (letters A-Z, numbers 0-9)"}]:[2,{message:"Organization name must be between 2 and 40 characters"}]:[2,{message:"Organization name cannot be empty"}]})})()},orgBio:function(e){return(0,r._)(function(){return(0,t._)(this,function(r){return(0,n.default)(e,{min:0,max:1e4})?[2]:[2,{message:"Bio must be between 0 and 10000 characters"}]})})()}}])},528386,(e,r,t)=>{var n=function(){var e=String.fromCharCode,r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+-$",n={};function i(e,r){if(!n[e]){n[e]={};for(var t=0;t<e.length;t++)n[e][e.charAt(t)]=t}return n[e][r]}var o={compressToBase64:function(e){if(null==e)return"";var t=o._compress(e,6,function(e){return r.charAt(e)});switch(t.length%4){default:case 0:return t;case 1:return t+"===";case 2:return t+"==";case 3:return t+"="}},decompressFromBase64:function(e){return null==e?"":""==e?null:o._decompress(e.length,32,function(t){return i(r,e.charAt(t))})},compressToUTF16:function(r){return null==r?"":o._compress(r,15,function(r){return e(r+32)})+" "},decompressFromUTF16:function(e){return null==e?"":""==e?null:o._decompress(e.length,16384,function(r){return e.charCodeAt(r)-32})},compressToUint8Array:function(e){for(var r=o.compress(e),t=new Uint8Array(2*r.length),n=0,i=r.length;n<i;n++){var s=r.charCodeAt(n);t[2*n]=s>>>8,t[2*n+1]=s%256}return t},decompressFromUint8Array:function(r){if(null==r)return o.decompress(r);for(var t=Array(r.length/2),n=0,i=t.length;n<i;n++)t[n]=256*r[2*n]+r[2*n+1];var s=[];return t.forEach(function(r){s.push(e(r))}),o.decompress(s.join(""))},compressToEncodedURIComponent:function(e){return null==e?"":o._compress(e,6,function(e){return t.charAt(e)})},decompressFromEncodedURIComponent:function(e){return null==e?"":""==e?null:(e=e.replace(/ /g,"+"),o._decompress(e.length,32,function(r){return i(t,e.charAt(r))}))},compress:function(r){return o._compress(r,16,function(r){return e(r)})},_compress:function(e,r,t){if(null==e)return"";var n,i,o,s={},a={},c="",u="",l="",d=2,f=3,p=2,m=[],h=0,g=0;for(o=0;o<e.length;o+=1)if(c=e.charAt(o),Object.prototype.hasOwnProperty.call(s,c)||(s[c]=f++,a[c]=!0),u=l+c,Object.prototype.hasOwnProperty.call(s,u))l=u;else{if(Object.prototype.hasOwnProperty.call(a,l)){if(256>l.charCodeAt(0)){for(n=0;n<p;n++)h<<=1,g==r-1?(g=0,m.push(t(h)),h=0):g++;for(n=0,i=l.charCodeAt(0);n<8;n++)h=h<<1|1&i,g==r-1?(g=0,m.push(t(h)),h=0):g++,i>>=1}else{for(n=0,i=1;n<p;n++)h=h<<1|i,g==r-1?(g=0,m.push(t(h)),h=0):g++,i=0;for(n=0,i=l.charCodeAt(0);n<16;n++)h=h<<1|1&i,g==r-1?(g=0,m.push(t(h)),h=0):g++,i>>=1}0==--d&&(d=Math.pow(2,p),p++),delete a[l]}else for(n=0,i=s[l];n<p;n++)h=h<<1|1&i,g==r-1?(g=0,m.push(t(h)),h=0):g++,i>>=1;0==--d&&(d=Math.pow(2,p),p++),s[u]=f++,l=String(c)}if(""!==l){if(Object.prototype.hasOwnProperty.call(a,l)){if(256>l.charCodeAt(0)){for(n=0;n<p;n++)h<<=1,g==r-1?(g=0,m.push(t(h)),h=0):g++;for(n=0,i=l.charCodeAt(0);n<8;n++)h=h<<1|1&i,g==r-1?(g=0,m.push(t(h)),h=0):g++,i>>=1}else{for(n=0,i=1;n<p;n++)h=h<<1|i,g==r-1?(g=0,m.push(t(h)),h=0):g++,i=0;for(n=0,i=l.charCodeAt(0);n<16;n++)h=h<<1|1&i,g==r-1?(g=0,m.push(t(h)),h=0):g++,i>>=1}0==--d&&(d=Math.pow(2,p),p++),delete a[l]}else for(n=0,i=s[l];n<p;n++)h=h<<1|1&i,g==r-1?(g=0,m.push(t(h)),h=0):g++,i>>=1;0==--d&&(d=Math.pow(2,p),p++)}for(n=0,i=2;n<p;n++)h=h<<1|1&i,g==r-1?(g=0,m.push(t(h)),h=0):g++,i>>=1;for(;;){if(h<<=1,g==r-1){m.push(t(h));break}g++}return m.join("")},decompress:function(e){return null==e?"":""==e?null:o._decompress(e.length,32768,function(r){return e.charCodeAt(r)})},_decompress:function(r,t,n){var i,o,s,a,c,u,l,d=[],f=4,p=4,m=3,h="",g=[],v={val:n(0),position:t,index:1};for(i=0;i<3;i+=1)d[i]=i;for(s=0,c=4,u=1;u!=c;)a=v.val&v.position,v.position>>=1,0==v.position&&(v.position=t,v.val=n(v.index++)),s|=(a>0)*u,u<<=1;switch(s){case 0:for(s=0,c=256,u=1;u!=c;)a=v.val&v.position,v.position>>=1,0==v.position&&(v.position=t,v.val=n(v.index++)),s|=(a>0)*u,u<<=1;l=e(s);break;case 1:for(s=0,c=65536,u=1;u!=c;)a=v.val&v.position,v.position>>=1,0==v.position&&(v.position=t,v.val=n(v.index++)),s|=(a>0)*u,u<<=1;l=e(s);break;case 2:return""}for(d[3]=l,o=l,g.push(l);;){if(v.index>r)return"";for(s=0,c=Math.pow(2,m),u=1;u!=c;)a=v.val&v.position,v.position>>=1,0==v.position&&(v.position=t,v.val=n(v.index++)),s|=(a>0)*u,u<<=1;switch(l=s){case 0:for(s=0,c=256,u=1;u!=c;)a=v.val&v.position,v.position>>=1,0==v.position&&(v.position=t,v.val=n(v.index++)),s|=(a>0)*u,u<<=1;d[p++]=e(s),l=p-1,f--;break;case 1:for(s=0,c=65536,u=1;u!=c;)a=v.val&v.position,v.position>>=1,0==v.position&&(v.position=t,v.val=n(v.index++)),s|=(a>0)*u,u<<=1;d[p++]=e(s),l=p-1,f--;break;case 2:return g.join("")}if(0==f&&(f=Math.pow(2,m),m++),d[l])h=d[l];else{if(l!==p)return null;h=o+o.charAt(0)}g.push(h),d[p++]=o+h.charAt(0),f--,o=h,0==f&&(f=Math.pow(2,m),m++)}}};return o}();if("function"==typeof define&&define.amd)e.r,void 0!==n&&e.v(n);else null!=r?r.exports=n:"undefined"!=typeof angular&&null!=angular&&angular.module("LZString",[]).factory("LZString",function(){return n})},221586,e=>{"use strict";var r=e.i(528386),t=e.i(282453),n="landingPageAiPrompt",i=function(e){var t="";try{t=r.default.decompressFromEncodedURIComponent(e)}catch(e){return""}return t},o=function(e){if(!e)return"";if("storage"===e){var r=t.default.get(n,"string");return null!=r?r:""}return e},s=function(e){var r=o(e);if(!r)return"";var t=i(r);return null!=t?t:""},a=function(){t.default.remove(n)};e.s(["clearAiPromptLocalStorage",()=>a,"getDecodedAiPrompt",()=>s,"getEncodedAiPrompt",()=>o])},978486,e=>{"use strict";var r=e.i(194458),t=e.i(221586),n=function(){var e,n,i,o,s=(0,r.useSearchParams)(),a=null==s?void 0:s.get("prompt"),c=null==s?void 0:s.get("stack"),u=null==s?void 0:s.get("platformType");if(a){var l=c||"Auto";return{aiPrompt:(0,t.getDecodedAiPrompt)(a),aiPromptEncoded:(0,t.getEncodedAiPrompt)(a),directQueryPrompt:null!=a?a:"",stackOption:l,platformType:"Agents & Automations"===l&&u?u:void 0}}var d=new URLSearchParams((null!=(e=null==s?void 0:s.get("goto"))?e:"").split("?")[1]||""),f=null!=(n=d.get("prompt"))?n:"",p=null!=(i=d.get("stack"))?i:"",m=null!=(o=d.get("platformType"))?o:"",h=p||"Auto";return{aiPrompt:(0,t.getDecodedAiPrompt)(f),aiPromptEncoded:(0,t.getEncodedAiPrompt)(f),directQueryPrompt:null!=f?f:"",stackOption:h,platformType:"Agents & Automations"===h&&m?m:void 0}};e.s(["useGetAgentQueryPrompt",()=>n])},414248,e=>{"use strict";var r=e.i(530658),t=e.i(276385),n=e.i(389959),i=e.i(964304),o=e.i(785240),s=e.i(756841),a=e.i(480028),c=e.i(446530),u=e.i(613355),l=e.i(136540),d=e.i(616278),f=e.i(841691),p=e.i(90102),m=e.i(940745),h=e.i(42458),g=(0,c.cssRecord)({input:[u.rcss.position.relative],label:[u.brandStyles.typography.micro,u.rcss.color.brandTextSecondary,u.rcss.position.absolute,u.rcss.top(12),u.rcss.left(16),u.rcss.zIndex(2)],field:[u.brandStyles.typography.body.small,u.rcss.border({width:2,color:a.tokens.white}),u.rcss.backgroundColor.brandBackground,u.rcss.color.black,u.rcss.borderRadius(8),u.rcss.position.relative,u.rcss.display.grid,u.rcss.pl(16),u.rcss.pb(8),u.rcss.pr(48),u.rcss.width("100%"),u.rcss.zIndex(1),{paddingTop:26}],fieldIcon:[u.rcss.position.absolute,u.rcss.right(16),u.rcss.bottom(16),u.rcss.zIndex(2),{"&:hover":{backgroundColor:"transparent !important"}}]});e.s(["default",0,function(e){var c,u=e.label,v=e.name,y=e.type,x=e.value,b=e.showToggle,w=e.autoComplete,_=e.onChange,C=e.onBlur,S=e.validationResults,j=(0,r._)((0,n.useState)(y),2),k=j[0],A=j[1],P="".concat(v,"-").concat((0,n.useId)()),I=S?S[0]:void 0;if(I)switch("state"in I?I.state:I.severity){case"error":c=(0,t.jsx)(l.IconButton,{css:g.fieldIcon,alt:I.message,children:(0,t.jsx)(h.default,{size:24,color:a.tokens.accentNegativeDefault})});break;case"success":c=(0,t.jsx)(d.default,{css:g.fieldIcon,size:24,color:a.tokens.accentPositiveDefault});break;default:c=(0,t.jsx)(m.default,{css:g.fieldIcon,size:24,color:a.tokens.outlineDimmer})}else c=void 0;var E=(0,t.jsx)(l.IconButton,{css:g.fieldIcon,alt:"password"===k?"Show password":"Hide password",onClick:function(){return A("password"===k?"text":"password")},children:"password"===k?(0,t.jsx)(f.default,{size:24}):(0,t.jsx)(p.default,{size:24})});return(0,t.jsxs)(s.TextField,{css:g.input,isRequired:!0,onChange:_,onBlur:C,autoComplete:w,children:[(0,t.jsx)(o.Label,{css:g.label,htmlFor:P,children:u}),(0,t.jsx)(i.Input,{css:g.field,id:P,type:k,name:v,value:x,autoCorrect:"off",autoCapitalize:"off"}),"password"===y&&(void 0===b||b)?E:null,I?c:null]})}])},192479,441648,285030,832970,683743,149797,e=>{"use strict";var r,t,n=e.i(297083),i=e.i(530658),o=e.i(346715),s=e.i(817556),a=e.i(276385),c=e.i(399528),u=e.i(389959),l=e.i(906368),d=e.i(442121),f=e.i(569910),p=e.i(694387),m=e.i(738623),h=e.i(878420),g=e.i(761201),v=e.i(446530),y=e.i(613355),x=e.i(960178),b=e.i(625484),w=(0,v.cssRecord)({signupFormEmailDisclaimerContainer:[y.rcss.width("100%")],signupFormEmailDisclaimer:[y.rcss.color.brandText,y.rcss.font.brandVariable,y.brandStyles.typography.caption.small,y.rcss.textAlign.center,y.rcss.width("100%")],link:[y.rcss.color.foregroundDefault,{fontWeight:700,textDecoration:"none"}]});let _=function(){return(0,a.jsx)(b.View,{css:w.signupFormEmailDisclaimerContainer,children:(0,a.jsxs)(x.Text,{css:w.signupFormEmailDisclaimer,children:["By continuing, you agree to Replit's",(0,a.jsx)("br",{}),(0,a.jsx)("a",{css:w.link,href:g.LINKS_LEGAL.TERMS_OF_SERVICE,target:"_blank",children:"Terms of Service"})," ","and"," ",(0,a.jsx)("a",{css:w.link,href:g.LINKS_LEGAL.PRIVACY_POLICY,target:"_blank",children:"Privacy Policy"})]})})};var C=e.i(252890),S=e.i(480028),j=e.i(988676),k=[y.rcss.align.center,y.rcss.colWithGap(16)],A=(0,v.cssRecord)({footerLinkWrapper:[y.brandStyles.typography.caption.small,y.rcss.textAlign.center],footerLink:[y.brandStyles.typography.caption.small,y.rcss.color.brandAccentStrongest,{":hover":{color:S.tokens.brandAccentStronger,backgroundColor:"transparent"}}],footerContainerNotModal:(0,o._)(k).concat([y.rcss.bottom(24)]),footerContainerModal:(0,o._)(k).concat([y.rcss.pt(24)]),heightWrapper:[y.rcss.height(132)],recaptchaDisclaimer:[y.rcss.textAlign.center,y.brandStyles.typography.caption.small,y.rcss.color.foregroundDimmest,{"& > a":{color:"inherit",textDecoration:"underline"},"& > a:hover":{textDecoration:"none"}}]}),P=function(e){var r=e.mode,t=e.isModal,n=e.onModeChange,i=e.className,o=function(e){e.preventDefault(),(0,C.trackToggleAuth)({isLogin:"login"===r,authFormPlacement:t?"modal":"auth-page"}),n("login"===r?"signup":"login")};return(0,a.jsxs)(x.Text,{css:A.footerLinkWrapper,className:i,variant:"small",multiline:!1,children:["login"===r?"New to Replit? ":"Already have an account? ",(0,a.jsx)("a",{role:"button",tabIndex:0,onKeyDown:function(e){"Enter"===e.key&&o(e)},onClick:function(e){return o(e)},css:A.footerLink,children:"login"===r?"Sign up":"Log in"})]})},I=function(){return(0,a.jsxs)(x.Text,{variant:"small",color:"dimmest",css:A.recaptchaDisclaimer,children:["This site is protected by reCAPTCHA Enterprise and the Google"," ",(0,a.jsx)("a",{href:"https://policies.google.com/privacy",children:"Privacy Policy"})," and"," ",(0,a.jsx)("a",{href:"https://policies.google.com/terms",children:"Terms of Service"})," apply."]})};let E=function(e){var r=e.isModal,t=e.mode,n=e.onModeChange,i=r?void 0:A.heightWrapper;return(0,a.jsx)(b.View,{css:i,children:(0,a.jsxs)(b.View,{css:r?A.footerContainerModal:A.footerContainerNotModal,children:[(0,a.jsx)(j.DividerH,{}),"signup"===t?(0,a.jsx)(b.View,{pb:24,children:(0,a.jsx)(_,{})}):null,(0,a.jsx)(P,{mode:t,isModal:r,onModeChange:n}),(0,a.jsx)(b.View,{row:!0,gap:16,align:"center",children:(0,a.jsx)(x.Text,{css:A.footerLinkWrapper,variant:"small",multiline:!1,children:(0,a.jsx)("a",{href:"https://replit.com/help",target:"_blank",rel:"noopener noreferrer",css:A.footerLink,children:"Get help"})})}),(0,a.jsx)(I,{})]})})};e.s(["AuthTypeToggle",()=>P,"default",0,E],441648);var T=(0,v.cssRecord)({self:[y.rcss.font.brandDefault,{fontWeight:512,fontSize:24,lineHeight:32/24}]});let F=function(e){var r=e.mode,t=e.privateDeployment,n=e.privateDevDomain,i="Create a Replit account";return"login"===r&&(i="Log in to your account"),t&&(i="Log in to access a private website"),n&&(i="Log in to access a private app"),(0,a.jsx)(x.Header,{variant:"headerDefault",level:1,css:T.self,children:i})};var R=e.i(33699),L=e.i(64386),M=e.i(571926),U=e.i(344188),D=e.i(858248),O=function(e){if(e.isLoggedIn){var r;(0,D.identify)((0,L._)((0,h._)({id:e.id.toString(),email:e.email,roles:e.roles,verified:e.isVerified,emailPreference:e.emailNotifications,createdAt:e.timeCreated},!!e.loginMethod&&{loginMethod:e.loginMethod}),{signupMethod:null!=(r=e.signupMethod)?r:M.NONE_IDENTIFY_PROP}))}},z=e.i(414248),V=e.i(700005);function W(e){var r=e.redirectUrl,t=V.default.get("shouldUseMobileAppAuthComplete");return"string"!=typeof t||t.length<1?r:"/authComplete?redirectUrl=".concat(encodeURI(r))}var B=e.i(294426),H=e.i(501005),N=e.i(441329),G=e.i(709485),$=e.i(612372),q=e.i(61667),Y=e.i(887877),Z=e.i(616278),K=e.i(940745),Q=(0,v.cssRecord)({form:[y.rcss.colWithGap(8),y.rcss.width("100%")],secondaryAction:[y.rcss.width("100%"),y.rcss.textAlign.center,y.brandStyles.typography.caption.medium,y.rcss.color.brandAccentStrongest,{":hover":{color:S.tokens.brandAccentStronger,backgroundColor:"transparent"}}]});function J(e){var r=e.onSubmit,t=e.trackSource,o=e.footer,d=e.emailField,f=(0,i._)((0,u.useState)(!1),2),p=f[0],g=f[1],v=(0,i._)((0,u.useState)(!1),2),y=v[0],x=v[1],w=(0,i._)((0,u.useState)(""),2),_=w[0],C=w[1],S=(0,c.useRouter)(),j=function(e){var i=e.emailOrUsername,o=e.password;return(0,n._)(function(){var e,n,a,c,u;return(0,s._)(this,function(s){switch(s.label){case 0:return s.trys.push([0,2,,3]),[4,(0,B.getRecaptchaToken)({action:"signInWithPassword"})];case 1:return e=s.sent(),[3,3];case 2:return s.sent(),[2,{fallthrough:!0}];case 3:return[4,(0,m.signInWithPassword)({emailOrUsername:i,rawPassword:o,clientType:"CLIENT_TYPE_WEB",recaptchaToken:e})];case 4:if("error"===(n=s.sent()).type)return x(!1),g(!1),r({error:n.message}),[2,{fallthrough:!1}];return[4,(0,B.setUserFromApiResponse)({response:n.session})];case 5:if("error"===(a=s.sent()).type)return x(!1),g(!1),r({error:a.message}),[2,{fallthrough:!1}];return[4,(0,m.setCookie)(a.user,{source:t})];case 6:return"success"===(c=s.sent()).type?(g(!1),x(!0),u=c.redirectUrl?W({redirectUrl:c.redirectUrl}):void 0,r({user:{id:c.userId,postLoginRedirectUrl:u},isLogin:!0})):(x(!1),g(!1),r({error:c.message,reauth:c.reauth})),[2,{fallthrough:!1}]}})})()};return(0,a.jsxs)(Y.Form,{onSubmit:function(e){return(0,n._)(function(){return(0,s._)(this,function(t){switch(t.label){case 0:if(e.preventDefault(),p)return[2];return g(!0),[4,j({emailOrUsername:d.value,password:_})];case 1:if(!t.sent().fallthrough)return[3,3];return[4,(0,n._)(function(){var e,t,i,o,a;return(0,s._)(this,function(c){switch(c.label){case 0:return c.trys.push([0,2,,3]),[4,(0,H.default)(void 0,function(){(0,D.track)(G.events.AUTH_FORM_CAPTCHA_TRIGGERED,{authenticationType:"login"})})];case 1:return e=c.sent(),[3,3];case 2:return t=c.sent(),l.captureException(t,function(e){return e.setTag("bonsai",(0,N.isInNativeMobileAuthFlow)(S))}),r({error:"Something went wrong trying to submit. Please try again."}),g(!1),[2];case 3:return[4,function(e){return(0,n._)(function(e){var r,t,n,i,o,a,c,u,l,d;return(0,s._)(this,function(s){switch(s.label){case 0:r=e.username,t=e.password,n=e.teacher,i=e.hCaptchaResponse,o=e.hCaptchaSiteKey,s.label=1;case 1:return s.trys.push([1,3,,4]),[4,(0,U.postJson)("/login",(0,L._)((0,h._)({username:r,password:t},n?{teacher:n}:{}),{hCaptchaResponse:i,hCaptchaSiteKey:o}))];case 2:return a=s.sent(),[3,4];case 3:return(null==(l=(d=c=s.sent()).extras)||null==(u=l.responseData)?void 0:u.status)===401&&(c.status=d.extras.responseData.status),[2,{isLoggedIn:!1,error:c}];case 4:return O(a),[2,a]}})}).apply(this,arguments)}({username:d.value,password:_,hCaptchaResponse:e,hCaptchaSiteKey:H.HCAPTCHA_SITE_KEY})];case 4:if("error"in(i=c.sent())){if(o=i.error,g(!1),r({error:o.message||"Something went wrong"}),o.status&&o.status>=500)throw o;return[2]}return a=i.postLoginRedirectUrl?W({redirectUrl:i.postLoginRedirectUrl}):void 0,r({user:{id:i.id,postLoginRedirectUrl:a},isLogin:!0}),[2]}})})()];case 2:t.sent(),t.label=3;case 3:return[2]}})})()},css:Q.form,children:[(0,a.jsx)(z.default,{type:"text",label:"Email or username",name:"username",value:d.value,onChange:d.setValue,autoComplete:"email"}),(0,a.jsx)(z.default,{type:"password",label:"Password",name:"password",value:_,onChange:C}),(0,a.jsxs)(b.View,{gap:o?8:24,children:[(0,a.jsx)($.default,{type:"submit",variant:"primary",stretch:!0,loading:p,disabled:!_||!d.value||y,iconRight:p?(0,a.jsx)(K.default,{}):y?(0,a.jsx)(Z.default,{}):void 0,dataCy:"log-in-btn",text:"Log In"}),o||(0,a.jsx)(q.BrandButtonLink,{variant:"clean",css:Q.secondaryAction,href:"/forgot",text:"Forgot password?"}),!1]})]})}e.s(["default",()=>J],285030);var X=e.i(273325),ee=e.i(322823),er=e.i(978486),et=e.i(664152),en=((r={})[r.Loaded=0]="Loaded",r[r.Skipped=1]="Skipped",r[r.Failed=2]="Failed",r),ei="https://elements.stytch.com/telemetry.js";function eo(){return"true"===R.default.env.IS_CYPRESS_AUTOMATED_TEST}var es=window.location.pathname;function ea(e){return(0,n._)(function(){var r;return(0,s._)(this,function(i){switch(i.label){case 0:var o;return i.trys.push([0,2,,3]),[4,Promise.race([(o=e,(0,n._)(function(){var e,r;return(0,s._)(this,function(i){switch(i.label){case 0:return[4,(0,n._)(function(){return(0,s._)(this,function(e){switch(e.label){case 0:if(eo())return[2,1];e.label=1;case 1:return e.trys.push([1,3,,4]),[4,t];case 2:return e.sent(),[2,0];case 3:return e.sent(),[2,2];case 4:return[2]}})})()];case 1:if(i.sent()!==en.Loaded)return[2];return e=window.location.host.startsWith("staging")?"public-token-test-f16841f0-b961-4442-93b3-751c8cfe0d8b":"public-token-live-88edc789-05cb-440a-a321-dab99f475524",[4,window.GetTelemetryID(e,"https://telemetry.replit.com/submit")];case 2:if(!(r=i.sent())||""===r.trim())return et.logger.error("Client received an empty telemetryId",{userId:o}),[2];return et.logger.info("Successfully received the telemetryId from Stytch ".concat(r),{telemetryId:r,userId:o}),[4,fetch("/telemetry",{method:"GET",headers:{"Content-Type":"application/json","telemetry-id":r,"user-id":o}})];case 3:return i.sent(),[2]}})})()),new Promise(function(e,r){return setTimeout(function(){return r(Error("Could not process device fingerprint in 4s"))},4e3)})])];case 1:return i.sent(),[3,3];case 2:return r=i.sent(),et.logger.error("Error fetching device fingerprint data ".concat(r.message)),[2,"N/A"];case 3:return[2]}})})()}!eo()&&["/signup","/login"].some(function(e){return es.startsWith(e)})&&(0,n._)(function(){var e,r,n;return(0,s._)(this,function(i){return e=performance.now(),(r=document.createElement("script")).src=ei,r.async=!0,n=new Promise(function(e){setTimeout(function(){et.logger.error("Timeout while loading Stytch script"),e()},4e3)}),t=Promise.race([new Promise(function(t){r.onload=function(){var r=performance.now();et.logger.time("time to load Stytch script",r-e),t()},r.onerror=function(){et.logger.error("Error loading Stytch script at ".concat(ei)),t()},document.head.appendChild(r)}),n]),[2]})})().catch(function(e){return l.captureException(e)});var ec=e.i(746788),eu=e.i(140487),el=e.i(127060);function ed(e){return e.error?[{message:e.error.message,state:"error"}]:e.warning?[{message:e.warning.message,state:"warning"}]:e.value?e.isValid?[{message:"",state:"success"}]:e.touched?[{message:"",state:"loading"}]:void 0:void 0}var ef=(0,v.cssRecord)({form:[y.rcss.width("100%")]});function ep(e){var r=e.onSubmit,t=e.tracking,o=void 0===t?{from:"explicit"}:t,c=e.emailField,l=(0,i._)((0,u.useState)(!1),2),d=l[0],f=l[1],p=(0,i._)((0,u.useState)(!1),2),h=p[0],g=p[1],v=(0,ee.useFormField)("",ec.default.password),y=(0,er.useGetAgentQueryPrompt)().directQueryPrompt,x=!c.value;return(0,a.jsx)("form",{onSubmit:function(e){return(0,n._)(function(){var t,n,i,a,u;return(0,s._)(this,function(s){switch(s.label){case 0:if(e.preventDefault(),f(!0),c.isValid)return[3,2];return[4,c.validate()];case 1:if(s.sent())return f(!1),[2];s.label=2;case 2:if(!v.isValid&&v.validate())return f(!1),[2];s.label=3;case 3:return s.trys.push([3,5,,6]),[4,(0,B.getRecaptchaToken)({action:"signUpPassword"})];case 4:return t=s.sent(),[3,6];case 5:return s.sent(),r({error:"We failed to evaluate your browser integrity. Please refresh the page and try again. If the problem persists, check your browser and network configuration."}),[2];case 6:return[4,(0,m.signUpWithPassword)({email:c.value,rawPassword:v.value,clientType:"CLIENT_TYPE_WEB",recaptchaToken:t,source:o.from,referrerId:o.referrerId,aiPrompt:y||void 0})];case 7:if("error"===(n=s.sent()).type)return g(!1),f(!1),r({error:n.message}),[2];return[4,(0,B.setUserFromApiResponse)({response:n.session})];case 8:if("error"===(i=s.sent()).type)return g(!1),f(!1),r({error:i.message}),[2];return[4,(0,m.setCookie)(i.user,{source:o.from,referrerId:o.referrerId})];case 9:if("success"===(a=s.sent()).type)return[3,10];return[3,12];case 10:return f(!1),g(!0),[4,ea(a.userId.toString())];case 11:return s.sent(),u=a.redirectUrl?W({redirectUrl:a.redirectUrl}):void 0,(0,el.sendCoframeConversionEvent)("signup"),r({user:{id:a.userId,postLoginRedirectUrl:u},isLogin:!1}),[3,13];case 12:return g(!1),f(!1),r({error:a.message,reauth:a.reauth}),[3,13];case 13:return[2]}})})()},css:ef.form,children:(0,a.jsxs)(b.View,{css:ef.form,gap:8,children:[(0,a.jsx)(z.default,{type:"text",name:"email",label:"Email",onBlur:c.handleBlur,validationResults:ed(c),onChange:c.setValue,value:c.value,autoComplete:"email"}),(0,a.jsx)(z.default,{type:"password",label:"Password",name:"password",showToggle:!1,onBlur:v.handleBlur,validationResults:ed(v),onChange:v.setValue,value:v.value}),(0,a.jsx)(b.View,{gap:4,children:(0,a.jsx)($.default,{type:"submit",variant:"primary",stretch:!0,loading:d,disabled:!v.value||x||h,iconLeft:d?(0,a.jsx)(K.default,{}):h?(0,a.jsx)(Z.default,{}):void 0,dataCy:"signup-create-account",text:"Create Account"})}),null]})})}e.s(["default",()=>ep],832970);var em=e.i(886513),eh=(0,v.cssRecord)({ssoButton:[y.rcss.backgroundColor.brandBackgroundDarker,y.rcss.minHeight(40)],ssoIconWrapper:[y.rcss.borderRadius(4)],ssoIcon:[y.rcss.width(20),y.rcss.height(20),{backgroundSize:"contain"}]}),eg=function(e){var r=e.id;return(0,a.jsx)(b.View,{css:eh.ssoIconWrapper,p:2,children:(0,a.jsx)("div",{style:{backgroundImage:"url(/public/images/".concat(r.replace(".com",""),".png)")},css:eh.ssoIcon})})},ev=function(e){var r=e.onClick,t=e.iconLeft,n=e.text,i=(0,em._)(e,["onClick","iconLeft","text"]);return(0,a.jsx)($.default,(0,h._)({css:eh.ssoButton,variant:"secondary",onClick:r,stretch:!0,iconLeft:t,text:n},i))};e.s(["SsoButton",()=>ev,"SsoIcon",()=>eg],683743);var ey=e.i(369948),ex=(0,v.cssRecord)({minimizedSection:[y.rcss.gap(8)],showMoreButton:[y.rcss.py(6)]}),eb=[p.GoogleProviderId,p.GitHubProviderId,p.XProviderId],ew=(0,o._)(eb).concat([p.FacebookProviderId,p.AppleProviderId]);function e_(e){var r=e.mode,t=e.onRedirectingChange,c=e.onSubmit,l=e.onEmailClick,d=e.replitAuthProps,f=(0,i._)((0,u.useState)(!1),2),m=f[0],h=f[1],g=(0,u.useMemo)(function(){var e;return null!=(e=null==d?void 0:d.minimizedProviders)?e:[]},[d]),v=g.includes("email")&&l&&m,y=g.includes("email"),x="login"===r?ew:eb,w=(0,u.useMemo)(function(){var e=function(e){return!!d&&"facebook.com"===e},r=x.filter(function(r){return g.includes(r.replace(".com",""))&&!e(r)}),t=x.filter(function(t){return!r.includes(t)&&!e(t)});return 0===t.length&&r.length>0&&(t.push.apply(t,(0,o._)(r)),r.length=0),{primaryProviders:t,minimizedProvidersList:r}},[x,g,d]),_=w.primaryProviders,C=w.minimizedProvidersList;return(0,a.jsxs)(a.Fragment,{children:[(0,o._)(_).concat((0,o._)(m?C:[])).map(function(e){return(0,a.jsx)(ev,{text:"Continue with ".concat((0,p.getOAuthProviderName)(e)),iconLeft:(0,a.jsx)(eg,{id:e}),onClick:function(){if("facebook.com"===e){window.confirm('Facebook login is no longer supported. Click "Ok" to continue to password reset using the connected email address.')&&(window.location.href="/forgot");return}(0,n._)(function(){var n;return(0,s._)(this,function(i){switch(i.label){case 0:return n=e.replace(".com",""),(0,D.track)(G.events.AUTH_FORM_SSO_REQUESTED,{provider:n,authenticationType:r,isTeacher:"false"}),[4,t(!0)];case 1:return i.sent(),[4,(0,B.signInWithProvider)({tenantId:void 0,provider:{type:"oauth",providerId:e}})];case 2:return"error"===i.sent().type&&c({error:B.signInWithProviderErrorMessage}),[2]}})})()}},e)}),(C.length>0||y)&&!m&&(0,a.jsx)(b.View,{css:ex.minimizedSection,children:(0,a.jsx)(eu.Button,{onClick:function(){return h(!0)},css:ex.showMoreButton,variant:"underlined",colorway:"grey",stretch:!0,text:"Other log in methods"})}),v&&(0,a.jsx)(eu.Button,{onClick:l,variant:"nofill",iconRight:(0,a.jsx)(ey.default,{}),text:"Continue with email"})]})}e.s(["SsoOptionsList",()=>e_],149797);var eC=e.i(216373),eS=e.i(355744),ej=e.i(245150),ek=(0,v.cssRecord)({mainControls:[y.rcss.width("100%"),y.rcss.px(12)],ssoContainer:[y.rcss.width("100%"),y.rcss.colWithGap(8)],samlLoginForm:[y.rcss.width("100%"),y.rcss.pb(32)],orText:[y.rcss.fontSize(S.tokens.fontSizeSmall)]});function eA(e){var r=e.mode,t=e.onRedirectingChange,n=e.onModeChange,i=e.onSubmit,o=e.tracking,s=e.seededEmail,c=e.isModal;return(0,a.jsxs)(a.Fragment,{children:["login"===r?(0,a.jsx)(eP,{onRedirectingChange:t,onSubmit:i,tracking:o}):(0,a.jsx)(eI,{onRedirectingChange:t,onSubmit:i,seededEmail:s,tracking:o}),(0,a.jsx)(E,{mode:r,isModal:c,onModeChange:n})]})}var eP=function(e){var r=e.onRedirectingChange,t=e.onSubmit,n=e.tracking,o=e.replitAuthProps,s=(0,i._)((0,u.useState)("password"),2),c=s[0],l=s[1],d=(0,ee.useFormField)("",ec.default.isValidEmail);return(0,a.jsxs)(a.Fragment,{children:["password"===c?(0,a.jsx)(J,{onSubmit:t,trackSource:n.from,emailField:d}):null,"saml"===c?(0,a.jsx)(b.View,{css:ek.samlLoginForm,children:(0,a.jsx)(X.default,{onSubmit:t,mode:"login",onRedirectingChange:r,seededEmail:d.value})}):null,(0,a.jsxs)(b.View,{css:ek.ssoContainer,children:[(0,a.jsx)(eE,{emailLoginType:c,setEmailLoginType:l}),(0,a.jsx)(e_,{mode:"login",onRedirectingChange:r,onSubmit:t,replitAuthProps:o})]})]})},eI=function(e){var r=e.onRedirectingChange,t=e.onSubmit,n=e.seededEmail,o=e.tracking,s=(0,i._)((0,u.useState)("initial"),2),c=s[0],l=s[1],d=(0,ee.useFormField)(n||"",ec.default.email);return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)(b.View,{css:ek.ssoContainer,align:"center",children:[(0,a.jsx)(e_,{mode:"signup",onRedirectingChange:r,onSubmit:t}),"initial"===c?(0,a.jsx)(x.Text,{css:ek.orText,children:"Or"}):(0,a.jsx)(j.DividerH,{}),(0,a.jsx)(eE,{emailLoginType:c,setEmailLoginType:l})]}),"password"===c?(0,a.jsx)(ep,{onSubmit:t,seededEmail:n,tracking:o,emailField:d}):null,"saml"===c?(0,a.jsx)(X.default,{onSubmit:t,mode:"signup",onRedirectingChange:r,seededEmail:d.value}):null]})},eE=function(e){var r=e.emailLoginType,t=e.setEmailLoginType;return"password"===r?(0,a.jsx)(ev,{onClick:function(){return t("saml")},iconLeft:(0,a.jsx)(eC.default,{size:20}),text:"Use SSO login"}):"saml"===r?(0,a.jsx)(ev,{onClick:function(){return t("password")},iconLeft:(0,a.jsx)(ej.default,{size:20}),text:"Use email login"}):(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)($.default,{dataCy:"auth-form-reveal-email",onClick:function(){return t("password")},iconLeft:(0,a.jsx)(eS.default,{size:20}),text:"Email & password",variant:"tertiary",stretch:!0}),(0,a.jsx)($.default,{onClick:function(){return t("saml")},iconLeft:(0,a.jsx)(eC.default,{size:20}),text:"Single sign-on (SSO)",variant:"tertiary",stretch:!0})]})};let eT=function(e){var r=e.children,t=e.customHeader,n=e.isModal,i=e.mode,o=e.onRedirectingChange,s=e.onSubmit,c=e.initialTenantId,l=e.tracking,d=e.privateDeployment,f=e.privateDevDomain,p=e.renderForm;return(0,u.useEffect)(function(){var e,r,t=n?"modal":"auth-page";"login"===i?(0,C.trackLoginView)({from:l.from,location:null!=(e=l.location)?e:"",authFormPlacement:t}):(0,C.trackSignupView)({from:l.from,location:null!=(r=l.location)?r:"",authFormPlacement:t})},[i,n,l.from,l.location]),(0,u.useEffect)(function(){void 0!==c&&(o(!0),(0,m.getAuthTenant)({type:"tenantId",tenantId:c}).then(function(e){"error"===e.type?s({error:e.message}):(0,B.signInWithProvider)({tenantId:e.tenantId,provider:{type:"saml",providerId:e.samlProviderId}}).then(function(e){if("error"===e.type)return void s({error:B.signInWithProviderErrorMessage})})}))},[c,o,s]),(0,a.jsxs)(a.Fragment,{children:[t?null:(0,a.jsx)(F,{mode:i,privateDeployment:d,privateDevDomain:f}),(0,a.jsxs)(b.View,{css:ek.mainControls,gap:12,children:[r,p?p(e):(0,a.jsx)(eA,(0,h._)({},e))]})]})};var eF=e.i(721281),eR=(0,v.cssRecord)({container:[(0,eF._)({margin:"auto"},y.media.max("mobileMax"),[y.rcss.pt(96)]),y.rcss.colWithGap(32)],button:[y.rcss.color.foregroundDimmest]});let eL=function(e){var r=e.email,t=e.providerId,n=e.onCancel,i=(0,p.getOAuthProviderName)(t);return i||(i="this provider",t===p.PasswordProviderId&&(i="your password")),(0,a.jsxs)(b.View,{css:eR.container,pt:128,children:[(0,a.jsx)(x.Header,{variant:"headerDefault",level:1,children:"Verification required"}),(0,a.jsxs)(b.View,{gap:16,children:[(0,a.jsxs)(x.Text,{variant:"subheadDefault",multiline:!0,children:["In order to log in with ",i,", you must verify"," ",r||"your email","."]}),(0,a.jsx)(x.Text,{multiline:!0,children:"We've sent an email with a verification link. If you don't see it, check your spam folder, or contact support for assistance."})]}),(0,a.jsx)(eu.Button,{size:"big",variant:"outlined",css:eR.button,onClick:function(){return n()},text:"Back to log in"})]})};var eM=e.i(68278),eU=e.i(956111),eD=e.i(624782),eO=e.i(396776),ez=[y.rcss.width(470),y.rcss.maxWidth("100%"),y.rcss.colWithGap(32),y.rcss.align.center,{margin:"auto","& *":[y.brandFontDefault]}],eV=(0,v.cssRecord)({error:[y.rcss.mb(16)],container:(0,o._)(ez).concat([y.rcss.p(24)]),containerModal:(0,o._)(ez),loadingText:[y.rcss.fontSize(16),y.rcss.flex.shrink(1)]}),eW="redirecting";function eB(e){var r=e.customHeader,t=e.isModal,o=e.mode,h=e.onModeChange,g=e.onSuccess,v=e.seededEmail,y=e.initialTenantId,w=e.tracking,_=e.privateDeployment,S=e.privateDevDomain,j=e.renderForm,k=e.replitAuthProps,A=e.signupCoupon,P=(0,d.useApolloClient)(),I=(0,c.useRouter)(),E=(0,eU.useQueryParam)(eW,"boolean"),T=(0,i._)((0,u.useState)(E?{type:"redirecting"}:{type:"form"}),2),R=T[0],L=T[1],M=(0,i._)((0,u.useState)(),2),U=M[0],D=M[1],O=(0,u.useCallback)(function(e){return(0,n._)(function(){return(0,s._)(this,function(r){switch(r.label){case 0:if(!e)return[3,2];return L({type:"redirecting"}),[4,(0,eU.updatePathWithQueryParams)({router:I,params:[{mode:"add",key:eW,value:"1"}]})];case 1:return r.sent(),[3,3];case 2:L({type:"form"}),(0,eU.updatePathWithQueryParams)({router:I,params:[{mode:"delete",key:eW}]}),r.label=3;case 3:return[2]}})})()},[I]),z=function(e){L({type:"redirecting",message:"SAML SSO required. Redirecting to the SSO login page..."}),setTimeout(function(){return(0,n._)(function(){return(0,s._)(this,function(r){switch(r.label){case 0:return[4,(0,B.signInWithProvider)({tenantId:e.tenantId,provider:{type:"saml",providerId:e.samlProviderId}})];case 1:return"error"===r.sent().type&&(D({message:"Something went wrong. Please try logging in again.",colorway:"negative"}),L({type:"form"})),[2]}})})()},3e3)},V=(0,u.useCallback)(function(e){return(0,n._)(function(){var r,t;return(0,s._)(this,function(n){switch(n.label){case 0:if(!("error"in e&&e.error))return[3,2];if(e.reauth)return z(e.reauth),[2];return D({message:e.error,colorway:null!=(r=e.colorway)?r:"negative"}),[4,O(!1)];case 1:return n.sent(),[2];case 2:if(!("user"in e&&e.user))throw Error("Expected error or user object");if(null!=(t=e.user.postLoginRedirectUrl)&&t.length>0)return window.location.href=t,[2];return e.isLogin||(0,C.attributeAcquisition)(e.user.id.toString()),g(e),[2]}})})()},[O,g,D]),H=(0,eM.useSaveUserAuth)();return(0,u.useEffect)(function(){(0,B.handlePotentialOAuthRedirect)().then(function(e){return(0,n._)(function(){var r,t,n,i;return(0,s._)(this,function(s){switch(s.label){case 0:if("success"!==e.type)return[3,13];if(null===e.result)return"redirecting"===R.type&&O(!1),[2];return"redirecting"!==R.type&&O(!0),[4,(0,m.setCookie)(e.result.user,{source:w.from,referrerId:w.referrerId})];case 1:switch((r=s.sent()).type){case"success":return[3,2];case"needs_email_verification":return[3,7];case"error":return[3,9]}return[3,11];case 2:if((null==(t=e.result)?void 0:t.providerId)!==p.GitHubProviderId)return[3,4];return[4,H({userCredential:e.result,oauthProviderId:p.GitHubProviderId,scopes:[]})];case 3:s.sent(),s.label=4;case 4:if(n=r.redirectUrl?W({redirectUrl:r.redirectUrl}):void 0)return window.location.href=n,[2];if(!(r.isNewUser&&e.result.providerId===p.GoogleProviderId))return[3,6];return[4,ea(r.userId.toString())];case 5:s.sent(),s.label=6;case 6:return g({user:{id:r.userId},isLogin:!r.isNewUser}),[3,12];case 7:return O(!1),L({type:"needs-email-verification",email:e.result.user.email,providerId:e.result.providerId}),[4,(0,B.signOut)(P)];case 8:case 10:return s.sent(),[3,12];case 9:if(r.reauth)return z(r.reauth),[2];return O(!1),D({message:r.message,colorway:"negative"}),[4,(0,B.signOut)(P)];case 11:(0,f.default)(r),s.label=12;case 12:return[2];case 13:switch(O(!1),e.treatment){case"requires-provider-link":return[3,14];case"credential-conflict":return[3,15];case"email-conflict":return[3,16];case"forbidden-operation":return[3,17];case"user-needs-email":return[3,18];case"timeout":case"unhandled":case"unknown":return[3,20]}return[3,21];case 14:return D({message:"Please log in to ".concat(e.context.email," with another method and link ").concat((0,p.getOAuthProviderName)(e.context.credential.providerId)," from the account page."),colorway:"negative"}),[3,22];case 15:return D({message:"This provider cannot be used, please try another method.",colorway:"negative"}),[3,22];case 16:return D({message:"This email cannot be used, please try another method.",colorway:"negative"}),[3,22];case 17:return D({message:"That action is not permitted",colorway:"negative"}),[3,22];case 18:return i=(0,p.getOAuthProviderName)(e.credential.providerId),D({message:"Your ".concat(i," account is missing an email address. To use it for Replit, you'll need to ").concat("login"===o?"log in":"sign up"," with another method and connect ").concat(i," from the account page."),colorway:"negative"}),[4,(0,B.signOut)(P)];case 19:return s.sent(),[3,22];case 20:return D({message:"Something unexpected happened, please try again.",colorway:"negative"}),[3,22];case 21:(0,f.default)(e),s.label=22;case 22:return[2]}})})()}).catch(function(e){return l.captureException(e)})},[]),(0,a.jsx)(b.View,{css:t?eV.containerModal:eV.container,children:"form"===R.type?(0,a.jsxs)(eT,{customHeader:r||!!A,isModal:t,mode:o,onModeChange:function(e){D(void 0),h(e)},onRedirectingChange:O,onSubmit:V,seededEmail:v,initialTenantId:y,tracking:w,privateDeployment:_,privateDevDomain:S,renderForm:j,replitAuthProps:k,children:[U?(0,a.jsx)(eO.StatusBanner,{css:eV.error,colorway:U.colorway,text:U.message}):null,A?(0,a.jsx)(a.Fragment,{children:(0,a.jsxs)(b.View,{gap:16,align:"center",pb:8,children:[(0,a.jsxs)(b.View,{row:!0,gap:8,align:"center",justify:"center",children:[(0,a.jsx)("div",{children:"Using code"}),(0,a.jsx)(eD.Pill,{colorway:"green",text:A.toUpperCase()})]}),(0,a.jsx)(F,{mode:"signup"})]})}):null]}):"needs-email-verification"===R.type?(0,a.jsx)(eL,{email:R.email,providerId:R.providerId,onCancel:function(){return L({type:"form"})}}):(0,a.jsxs)(b.View,{gap:8,align:"center",children:[(0,a.jsx)(K.default,{size:32}),R.message?(0,a.jsx)(x.Text,{multiline:!0,css:eV.loadingText,children:R.message}):null]})})}e.s(["default",()=>eB,"redirectingParam",()=>eW],192479)}]);

//# debugId=db18d1ba-8534-5319-bce3-f00ae23ee99e
//# sourceMappingURL=e84a5f2f7dd16a27.js.map