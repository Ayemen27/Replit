;!function(){try { var e="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof global?global:"undefined"!=typeof window?window:"undefined"!=typeof self?self:{},n=(new e.Error).stack;n&&((e._debugIds|| (e._debugIds={}))[n]="b0a562f8-de97-eea8-f5e5-67c64cd72d36")}catch(e){}}();
(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,83462,e=>{"use strict";var r,t=e.i(530658),n=e.i(276385),i=e.i(399528),s=e.i(389959),l=e.i(368964),o=e.i(878420),a=e.i(569384),c=e.i(973245),u=e.i(951262);function d(){var e=(0,a._)(["\n  mutation BanUserFromCommunity($username: String!, $reason: String!) {\n    banCommunityUser(username: $username, reason: $reason) {\n      ... on BannedBoardUser {\n        id\n      }\n      ... on UserError {\n        message\n      }\n    }\n  }\n"]);return d=function(){return e},e}var h={},p=(0,c.gql)(d()),x=e.i(222342),f=e.i(613355),g=e.i(140487),w=e.i(607278),m=e.i(960178),y=e.i(625484),j=e.i(71754),v=y.SpecializedView.form;function b(e){var r,i,l=e.username,a=e.onDone,c=(0,t._)((0,s.useState)(""),2),d=c[0],b=c[1],R=(0,x.default)(),k=R.showConfirm,_=R.showError,C=(0,t._)((r={onCompleted:function(e){var r=e.banCommunityUser;"UserError"===r.__typename?_(r.message):k("The user has been banned.")}},i=(0,o._)({},h,r),u.useMutation(p,i)),2),V=C[0],T=C[1].loading;return(0,n.jsxs)(y.View,{gap:24,children:[(0,n.jsx)(m.Header,{level:1,variant:"headerDefault",children:"Ban the author of the Repl?"}),(0,n.jsx)(m.Text,{children:"Are you sure you want to ban this user? All their Apps will be deleted and they will no longer be able to access their account."}),(0,n.jsxs)(v,{onSubmit:function(e){e.preventDefault(),d&&l?(V({variables:{username:l,reason:d}}),a()):_("Please provide a reason.")},css:[f.rcss.colWithGap(24)],children:[(0,n.jsx)(y.View,{gap:8,children:(0,n.jsx)(w.MultiLineInput,{placeholder:"Reason for banning the user",value:d,onChange:function(e){return b(e.currentTarget.value)},css:{resize:"none",minHeight:40}})}),(0,n.jsxs)(y.View,{row:!0,gap:8,justify:"end",children:[(0,n.jsx)(g.Button,{type:"button",text:"Cancel",onClick:function(){return a()}}),(0,n.jsx)(g.Button,{disabled:T,colorway:"negative",text:T?"Banning user...":"Yes, ban this user",type:"submit",iconLeft:(0,n.jsx)(j.default,{})})]})]})]})}var R=e.i(297083),k=e.i(817556),_=e.i(556511);function C(){var e=(0,a._)(["\n  mutation ReviewTemplateReview($input: ReviewTemplateInput!) {\n    reviewTemplate(input: $input) {\n      ... on TemplateReview {\n        id\n        repl {\n          id\n          ...ReplViewReplActionsPermissions\n        }\n      }\n      ... on UserError {\n        message\n      }\n      ... on UnauthorizedError {\n        message\n      }\n    }\n  }\n  ","\n"]);return C=function(){return e},e}var V={},T=(0,c.gql)(C(),_.ReplViewReplActionsPermissionsFragmentDoc),U=e.i(496019),F=e.i(608263),S=y.SpecializedView.form;function D(e){var r,i,s=e.replId,l=e.reviewType,a=e.onDone,c=(0,x.default)(),d=c.showConfirm,h=c.showError,p="Something went wrong ".concat("promote"===l?"promoting":"demoting"," this Template"),w=(0,t._)((r={variables:{input:{replId:s,shouldPromote:"promote"===l}},onError:function(e){h(e.message)},onCompleted:function(e){"TemplateReview"===e.reviewTemplate.__typename?(d("Template successfully ".concat("promote"===l?"promoted":"demoted")),a()):"UnauthorizedError"===e.reviewTemplate.__typename||"UserError"===e.reviewTemplate.__typename?h(e.reviewTemplate.message):h(p)}},i=(0,o._)({},V,r),u.useMutation(T,i)),2),j=w[0],v=w[1];return(0,n.jsxs)(y.View,{gap:24,children:[(0,n.jsx)(m.Header,{level:1,variant:"headerDefault",children:"promote"===l?"Promote Framework":"Demote Framework?"}),(0,n.jsxs)(S,{onSubmit:function(e){return(0,R._)(function(){return(0,k._)(this,function(r){return e.preventDefault(),j(),[2]})})()},css:[f.rcss.colWithGap(24)],children:["promote"===l?(0,n.jsx)(m.Text,{children:"Promoting a Template will show the Template in the Create App modal."}):(0,n.jsx)(m.Text,{children:"Demoting a Template will remove the Template from the Create App modal."}),(0,n.jsxs)(y.View,{row:!0,gap:8,justify:"end",children:[(0,n.jsx)(g.Button,{type:"button",text:"Cancel",onClick:function(){return a()}}),"promote"===l?(0,n.jsx)(g.Button,{type:"submit",disabled:v.loading,colorway:"primary",iconLeft:(0,n.jsx)(F.default,{}),text:v.loading?"Promoting Framework...":"Promote Framework"}):(0,n.jsx)(g.Button,{type:"submit",disabled:v.loading,colorway:"negative",iconLeft:(0,n.jsx)(U.default,{}),text:v.loading?"Demoting Framework...":"Demote Framework"})]})]})]})}var P=e.i(490048);function I(){var e=(0,a._)(["\n  mutation UnpublishTemplate($input: DeleteReplDeploymentInput!) {\n    deleteReplDeployment(input: $input) {\n      ... on Repl {\n        id\n        ...PublishReplData\n      }\n      ... on UserError {\n        message\n      }\n      ... on NotFoundError {\n        message\n      }\n    }\n  }\n  ","\n"]);return I=function(){return e},e}var A={},E=(0,c.gql)(I(),P.PublishReplDataFragmentDoc),M=e.i(90102),L=y.SpecializedView.form;function O(e){var r,i,s=e.replId,l=e.onDone,a=(0,x.default)(),c=a.showConfirm,d=a.showError,h=(0,t._)((r={variables:{input:{replId:s}}},i=(0,o._)({},A,r),u.useMutation(E,i)),2),p=h[0],w=h[1];return(0,n.jsxs)(y.View,{gap:24,children:[(0,n.jsx)(m.Header,{level:1,variant:"headerDefault",children:"Unpublish Template from Community?"}),(0,n.jsxs)(L,{onSubmit:function(e){return(0,R._)(function(){var r,t,n,i;return(0,k._)(this,function(s){switch(s.label){case 0:e.preventDefault(),s.label=1;case 1:return s.trys.push([1,3,,4]),[4,p()];case 2:return i=s.sent(),[3,4];case 3:return s.sent(),d("Something went wrong. Please try again."),[3,4];case 4:if((null==i||null==(r=i.data)?void 0:r.deleteReplDeployment.__typename)==="Repl")c("Template successfully unpublished");else if((null==i||null==(t=i.data)?void 0:t.deleteReplDeployment.__typename)==="NotFoundError"||(null==i||null==(n=i.data)?void 0:n.deleteReplDeployment.__typename)==="UserError")return d(i.data.deleteReplDeployment.message),[2];return l(),[2]}})})()},css:[f.rcss.colWithGap(24)],children:[(0,n.jsx)(m.Text,{children:"Unpublishing a Template will remove it from the Templates page. The Repl itself will not be deleted, and you can always re-publish the Template again later."}),(0,n.jsxs)(y.View,{row:!0,gap:8,justify:"end",children:[(0,n.jsx)(g.Button,{type:"button",text:"Cancel",onClick:function(){return l()}}),(0,n.jsx)(g.Button,{disabled:w.loading,colorway:"negative",text:w.loading?"Unpublishing Template...":"Yes, unpublish this Template",type:"submit",iconLeft:(0,n.jsx)(M.default,{})})]})]})]})}var z=e.i(754873),B=e.i(136540),q=e.i(601059),H=e.i(739521),G=e.i(185591),W=e.i(283023),$=e.i(196353),K=((r=K||{}).warnAuthor="warnAuthor",r.banAuthor="banAuthor",r.reportRepl="reportRepl",r.unpublish="unpublish",r.unpublishTemplate="unpublishTemplate",r.promoteTemplate="promoteTemplate",r.demoteTemplate="demoteTemplate",r.modUnpublish="modUnpublish",r);function N(e){var r,o,a=e.repl,c=e.currentUser,u=(0,t._)((0,s.useState)(null),2),d=u[0],h=u[1],p=new Map,x=(0,i.useRouter)(),f="/replEnvironmentDesktop"===x.pathname||"/replEnvironmentMobile"===x.pathname,g=(0,G.replLinkProps)(a);return(a.authorizations.editFileContents.isAuthorized&&!f&&p.set("edit",{label:"Edit App",onClick:function(){return x.push(g.href,g.as)},icon:(0,n.jsx)(W.default,{})}),(null==c?void 0:c.isModerator)&&p.set("banauthor",{label:"Ban author",isMod:!0,icon:(0,n.jsx)(j.default,{}),onClick:function(){return h("banAuthor")},isDestructive:!0}),(null==c?void 0:c.isAdmin)&&a.publishedAs===l.PublishedReplKind.Template&&((null==(o=a.templateReview)?void 0:o.promoted)?p.set("demote",{label:"Demote Framework",icon:(0,n.jsx)(U.default,{}),isDestructive:!0,onClick:function(){return h("demoteTemplate")}}):p.set("promote",{label:"Promote Framework",icon:(0,n.jsx)(F.default,{}),onClick:function(){return h("promoteTemplate")}})),a.publishedAs===l.PublishedReplKind.Template&&a.authorizations.publish.isAuthorized&&p.set("unpublishtemplate",{label:"Unpublish Template",icon:(0,n.jsx)(M.default,{}),isDestructive:!0,onClick:function(){return h("unpublishTemplate")}}),p.size)?(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(q.PopupMenu,{trigger:(0,n.jsx)(B.IconButton,{css:z.reactAriaInteractive.filled,size:32,alt:"More",children:(0,n.jsx)($.default,{size:16})}),onAction:function(e){var r;return null==(r=p.get(e))?void 0:r.onClick()},children:Array.from(p).map(function(e){var r=(0,t._)(e,2),i=r[0],s=r[1];return(0,n.jsx)(q.MenuItem,{isDestructive:s.isDestructive,label:s.label,icon:s.icon,id:i},i)})}),(0,n.jsx)(H.Modal,{isOpen:"banAuthor"===d,onRequestClose:function(){return h(null)},children:(0,n.jsx)(b,{username:null==(r=a.owner)?void 0:r.username,onDone:function(){return h(null)}})}),(0,n.jsx)(H.Modal,{isOpen:"unpublishTemplate"===d,onRequestClose:function(){return h(null)},children:(0,n.jsx)(O,{replId:a.id,onDone:function(){return h(null)}})}),(0,n.jsx)(H.Modal,{isOpen:"demoteTemplate"===d,onRequestClose:function(){return h(null)},children:(0,n.jsx)(D,{replId:a.id,reviewType:"demote",onDone:function(){return h(null)}})}),(0,n.jsx)(H.Modal,{isOpen:"promoteTemplate"===d,onRequestClose:function(){return h(null)},children:(0,n.jsx)(D,{replId:a.id,reviewType:"promote",onDone:function(){return h(null)}})})]}):null}e.s(["default",()=>N],83462)},199986,705590,e=>{"use strict";var r=e.i(878420),t=e.i(569384),n=e.i(973245),i=e.i(951262),s=e.i(279042),l=e.i(987143);function o(){var e=(0,t._)(["\n  fragment OwnerInfoUser on User {\n    id\n    image\n    username\n    ...UserLinkUser\n  }\n  ","\n"]);return o=function(){return e},e}function a(){var e=(0,t._)(["\n  fragment OwnerInfoOrg on OrgPublicInfo {\n    id\n    image\n    name\n    slug\n  }\n"]);return a=function(){return e},e}var c=(0,n.gql)(o(),l.UserLinkUserFragmentDoc);function u(){var e=(0,t._)(["\n  fragment ReplViewSidebarInfoTitleRepl on Repl {\n    id\n    title\n    iconUrl\n    imageUrl\n    templateInfo {\n      iconUrl\n      imageUrl\n    }\n    owner {\n      ... on User {\n        id\n        username\n      }\n      ... on Team {\n        id\n        username\n      }\n    }\n  }\n"]);return u=function(){return e},e}function d(){var e=(0,t._)(["\n  fragment ReplViewSourceRepl on Repl {\n    id\n    iconUrl\n    title\n    templateLabel\n    ...ReplLinkRepl\n    owner {\n      ... on Team {\n        id\n        username\n        url\n        image\n      }\n      ... on User {\n        id\n        username\n        url\n        image\n      }\n    }\n  }\n  ","\n"]);return d=function(){return e},e}function h(){var e=(0,t._)(["\n  fragment ReplViewSidebarInfo on Repl {\n    id\n    description\n    timeCreated\n    publishedAs\n    publicForkCount\n    isPrivate\n    initialAgentPrompt\n    deployment {\n      id\n      activeRelease {\n        id\n        timeCreated\n      }\n    }\n    owner {\n      ... on Team {\n        id\n        username\n        url\n        image\n      }\n      ... on User {\n        id\n        username\n        url\n        image\n      }\n    }\n    source {\n      release {\n        id\n      }\n      deployment {\n        id\n        repl {\n          id\n          ...ReplViewSourceRepl\n        }\n      }\n    }\n    origin {\n      id\n      ...ReplViewSourceRepl\n    }\n    orgPublicInfo {\n      ... on OrgPublicInfo {\n        id\n        slug\n      }\n    }\n    user {\n      ...OwnerInfoUser\n    }\n  }\n  ","\n  ","\n"]);return h=function(){return e},e}function p(){var e=(0,t._)(["\n  fragment ReplViewSidebarInfoCurrentUser on CurrentUser {\n    orgs(count: 1) {\n      ... on CurrentUserOrganizationConnection {\n        items {\n          org {\n            id\n          }\n        }\n      }\n    }\n  }\n"]);return p=function(){return e},e}function x(){var e=(0,t._)(["\n  mutation ReplViewSidebarInfoTitleUpdateRepl($input: UpdateReplInput!) {\n    updateRepl(input: $input) {\n      repl {\n        id\n        ...ReplViewSidebarInfoTitleRepl\n      }\n    }\n  }\n  ","\n"]);return x=function(){return e},e}(0,n.gql)(a());var f={},g=(0,n.gql)(u()),w=(0,n.gql)(d(),s.ReplLinkReplFragmentDoc),m=(0,n.gql)(h(),w,c),y=(0,n.gql)(p()),j=(0,n.gql)(x(),g);function v(e){var t=(0,r._)({},f,e);return i.useMutation(j,t)}e.s(["ReplViewSidebarInfoCurrentUserFragmentDoc",()=>y,"ReplViewSidebarInfoFragmentDoc",()=>m,"useReplViewSidebarInfoTitleUpdateReplMutation",()=>v],199986);var b=e.i(655366);function R(){var e=(0,t._)(["\n  fragment ReplViewerOutputOverlayRepl on Repl {\n    id\n    title\n    imageUrl\n    authorizations {\n      editMetadata {\n        isAuthorized\n      }\n    }\n  }\n"]);return R=function(){return e},e}function k(){var e=(0,t._)(["\n  mutation ReplViewerOutputOverlayUpdateRepl($input: UpdateReplInput!) {\n    updateRepl(input: $input) {\n      repl {\n        id\n        imageUrl\n      }\n    }\n  }\n"]);return k=function(){return e},e}var _=(0,n.gql)(R());function C(){var e=(0,t._)(["\n  fragment UseReplViewerRepl on Repl {\n    id\n    publishedAs\n    deployment {\n      id\n      activeRelease {\n        id\n        previewUrl: hostedUrl\n      }\n    }\n    replViewSettings {\n      id\n      defaultView\n      replFile\n    }\n    ...CrosisContextRepl\n  }\n  ","\n"]);return C=function(){return e},e}(0,n.gql)(k());var V=(0,n.gql)(C(),b.CrosisContextReplFragmentDoc);function T(){var e=(0,t._)(["\n  fragment ReplViewReplViewerRepl on Repl {\n    id\n    publishedAs\n    publicForkCount\n    releasesForkCount\n    nextPagePathname\n    ...ReplViewerOutputOverlayRepl\n    ...UseReplViewerRepl\n  }\n  ","\n  ","\n"]);return T=function(){return e},e}function U(){var e=(0,t._)(["\n  fragment ReplViewReplViewerCurrentUser on CurrentUser {\n    id\n    ...CrosisContextCurrentUser\n  }\n  ","\n"]);return U=function(){return e},e}var F=(0,n.gql)(T(),_,V),S=(0,n.gql)(U(),b.CrosisContextCurrentUserFragmentDoc);e.s(["ReplViewReplViewerCurrentUserFragmentDoc",()=>S,"ReplViewReplViewerReplFragmentDoc",()=>F],705590)},663689,709712,e=>{"use strict";var r=e.i(569384),t=e.i(973245),n=e.i(279042);function i(){var e=(0,r._)(["\n  fragment ReplStatsRepl on Repl {\n    id\n    likeCount\n    publicForkCount\n  }\n"]);return i=function(){return e},e}var s=(0,t.gql)(i());function l(){var e=(0,r._)(["\n  fragment ReplPostReplCardRepl on Repl {\n    id\n    iconUrl\n    title\n    description(plainText: true)\n    ...ReplStatsRepl\n    ...ReplLinkRepl\n    owner {\n      ... on Team {\n        id\n        username\n        url\n        image\n      }\n      ... on User {\n        id\n        username\n        url\n        image\n      }\n    }\n  }\n  ","\n  ","\n"]);return l=function(){return e},e}var o=(0,t.gql)(l(),s,n.ReplLinkReplFragmentDoc);e.s(["ReplPostReplCardReplFragmentDoc",()=>o],663689);var a=e.i(878420),c=e.i(64386),u=e.i(276385),d=e.i(412160),h=e.i(238804),p=e.i(228108),x=e.i(674918),f=e.i(967629),g=e.i(480028),w=e.i(754873),m=e.i(613355),y=e.i(714165),j=e.i(929872),v=e.i(960178),b=e.i(625484),R=e.i(185591),k=(0,f.css)([m.rcss.focusRingOnAfter,{"::after":{borderRadius:g.tokens.space8,content:'""',position:"absolute",top:0,right:0,bottom:0,left:0,display:"block",zIndex:1}}]);function _(e){var r=e.repl,t=e.showOwner,n=e.smallerTitle,i=e.onReplClick,s=r.owner;return(0,u.jsxs)(b.View,{css:[m.rcss.height("100%")],gap:16,justify:"space-between",children:[(0,u.jsxs)(b.View,{grow:!0,shrink:!0,row:!0,gap:8,align:"start",children:[(0,u.jsx)(p.default,{size:84,iconUrl:r.iconUrl,alt:r.title}),(0,u.jsxs)(b.View,{grow:!0,shrink:!0,gap:4,children:[(0,u.jsx)(d.default,(0,c._)((0,a._)({},(0,R.replViewLinkProps)(r)),{css:[m.rcss.viewStyle,{color:"inherit"},k],onClick:i,children:(0,u.jsx)(v.Text,{variant:n?"subheadDefault":"subheadBig",multiline:!1,children:r.title})})),t&&s?(0,u.jsx)(b.View,{css:[{maxWidth:"fit-content",zIndex:1}],children:(0,u.jsxs)(x.UserLink,{user:s,css:[m.rcss.viewStyle,{color:"inherit"},m.rcss.rowWithGap(4),m.rcss.align.center,m.rcss.focusRing,{"&:focus":{outlineOffset:2}},m.rcss.borderRadius(8)],children:[(0,u.jsx)(y.Avatar,{src:s.image,username:s.username,size:16,layout:"intrinsic"}),(0,u.jsx)(v.Text,{multiline:!1,children:s.username})]})}):null,r.description?(0,u.jsx)(v.Text,{color:"dimmer",maxLines:2,css:[m.rcss.maxWidth(450)],multiline:!1,children:r.description}):null]})]}),(0,u.jsx)(b.View,{css:[m.rcss.flex.wrap],row:!0,gap:8,justify:"space-between",children:(0,u.jsx)(h.default,{css:[m.rcss.pb(2)],repl:r})})]})}function C(e){var r=e.repl,t=e.showOwner,n=e.smallerTitle,i=e.onReplClick,s=e.dataCy;return(0,u.jsx)(j.Surface,{css:[m.rcss.borderRadius(8),m.rcss.p(8),m.rcss.position.relative,w.interactive.filledAndOutlined,{border:"1px solid "+g.tokens.outlineDimmest}],dataCy:s,children:(0,u.jsx)(_,{repl:r,showOwner:t,smallerTitle:n,onReplClick:i})})}e.s(["default",()=>C],709712)},986615,e=>{"use strict";var r="https://linkedin.com/sharing/share-offsite";function t(e){var t=e.url,n=e.text,i=new URLSearchParams;n&&i.append("text",n),t&&i.append("url",t);var s=i.toString();return s.length>0?"".concat(r,"?").concat(s):r}e.s(["default",()=>t,"linkedinShareEndpoint",()=>r])},899030,67924,e=>{"use strict";var r,t,n=e.i(569384),i=e.i(973245),s=e.i(279042),l=e.i(199986),o=e.i(732947),a=e.i(556511),c=e.i(878420);function u(){var e=(0,n._)(["\n  fragment ReplViewReplTitleRepl on Repl {\n    id\n    title\n    iconUrl\n    templateInfo {\n      iconUrl\n    }\n    owner {\n      ... on User {\n        id\n        username\n      }\n      ... on Team {\n        id\n        username\n      }\n    }\n    ...ReplViewReplActionsPermissions\n  }\n  ","\n"]);return u=function(){return e},e}function d(){var e=(0,n._)(["\n  mutation ReplViewReplTitleUpdateRepl($input: UpdateReplInput!) {\n    updateRepl(input: $input) {\n      repl {\n        id\n        ...ReplViewReplTitleRepl\n      }\n    }\n  }\n  ","\n"]);return d=function(){return e},e}e.i(951262);var h=(0,i.gql)(u(),a.ReplViewReplActionsPermissionsFragmentDoc);(0,i.gql)(d(),h);var p=e.i(705590);function x(){var e=(0,n._)(["\n  fragment ReplOrgMetadata on OrgPublicInfo {\n    id\n    name\n    image\n  }\n"]);return x=function(){return e},e}function f(){var e=(0,n._)(["\n  fragment ReplViewRepl on Repl {\n    id\n    title\n    timeCreated\n    imageUrl\n    iconUrl\n    templateInfo {\n      iconUrl\n      imageUrl\n    }\n    releasesForkCount\n    publicForkCount\n    config {\n      isAgentRepl\n    }\n    owner {\n      ... on Team {\n        id\n        username\n        url\n        image\n      }\n      ... on User {\n        id\n        username\n        url\n        image\n      }\n    }\n    authorizations {\n      fork {\n        isAuthorized\n      }\n      editFileContents {\n        isAuthorized\n      }\n      editMetadata {\n        isAuthorized\n      }\n      publish {\n        isAuthorized\n      }\n    }\n    publishedAs\n    isPrivate\n    deployment {\n      id\n      activeRelease {\n        id\n        timeCreated\n      }\n    }\n    deploymentMetadata {\n      ... on DeploymentMetadata {\n        id\n        url\n      }\n    }\n    org {\n      ...OrgMetadata\n    }\n    orgPublicInfo {\n      ...ReplOrgMetadata\n    }\n    ...ReplViewReplTitleRepl\n    ...ReplViewReplViewerRepl\n    ...ReplLinkRepl\n    ...ReplViewSidebarInfo\n  }\n  ","\n  ","\n  ","\n  ","\n  ","\n  ","\n"]);return f=function(){return e},e}function g(){var e=(0,n._)(["\n  fragment ReplViewCurrentUser on CurrentUser {\n    id\n    username\n    isSubscribed\n    ...ReplViewReplViewerCurrentUser\n    ...ReplViewReplActionsCurrentUser\n    ...ReplViewSidebarInfoCurrentUser\n  }\n  ","\n  ","\n  ","\n"]);return g=function(){return e},e}var w=(0,i.gql)(x()),m=(0,i.gql)(f(),o.OrgMetadataFragmentDoc,w,h,p.ReplViewReplViewerReplFragmentDoc,s.ReplLinkReplFragmentDoc,l.ReplViewSidebarInfoFragmentDoc),y=(0,i.gql)(g(),p.ReplViewReplViewerCurrentUserFragmentDoc,a.ReplViewReplActionsCurrentUserFragmentDoc,l.ReplViewSidebarInfoCurrentUserFragmentDoc);e.s(["ReplViewCurrentUserFragmentDoc",()=>y,"ReplViewReplFragmentDoc",()=>m],899030);var j=e.i(276385),v=e.i(530658),b=e.i(389959),R=e.i(480028),k=e.i(668044),_=e.i(446530),C=e.i(613355),V=e.i(140487),T=e.i(960178),U=e.i(625484),F=e.i(641536),S=e.i(978669),D=(0,_.cssRecord)({root:[C.rcss.height(44),C.rcss.display.grid,C.rcss.align.center,C.rcss.px(6),{gridTemplate:"1fr / 1fr max-content 1fr",borderBottom:"1px solid ".concat(R.tokens.backgroundRoot)}],run:[C.rcss.reset.button,(0,k.filledInteractive)("green"),C.rcss.display.flex,C.rcss.rowWithGap(8),C.rcss.align.center,C.rcss.height(32),C.rcss.px(8),C.rcss.borderRadius(6),C.rcss.cursor.pointer,{transition:"none",":not(:disabled)":[C.rcss.backgroundColor.greenDimmest,C.rcss.color.greenStrongest,C.rcss.hover([C.rcss.backgroundColor.greenDimmer,C.rcss.color.foregroundDefault])]}],runText:[C.rcss.fontWeight.medium]});function P(e){var r=e.repl,t=e.isFiletreeOpen,n=e.onToggleFiletree;return(0,j.jsxs)(U.View,{css:D.root,children:[(0,j.jsx)(U.View,{row:!0,children:(0,j.jsx)(V.Button,{text:t?"Hide files":"Show files",iconLeft:(0,j.jsx)(F.default,{}),variant:"nofill",stretch:!1,onClick:n})}),(0,j.jsx)(U.View,{row:!0,justify:"center",children:(0,j.jsxs)("a",{css:D.run,href:r.url,target:"_blank",children:[(0,j.jsx)(S.default,{size:12}),(0,j.jsx)(T.Text,{height:"singleLine",css:D.runText,children:"Open on Replit"})]})}),(0,j.jsx)(U.View,{row:!0,justify:"end"})]})}var I=e.i(721281),A=e.i(886513),E=e.i(221250),M=e.i(542101),L=e.i(61524);function O(e){var r=e.code,t=e.fontSize,n=e.hideGutter,i=(0,L.usePreferences)("indentSize","wrapping").preferences;return(0,j.jsx)("code",{css:[C.rcss.p(4),C.rcss.pl(4),C.rcss.pr(2),!n&&C.rcss.pl(64),C.rcss.font.code,C.rcss.fontSize(t||R.tokens.fontSizeDefault),{lineHeight:R.tokens.lineHeightSmall,overflowX:"auto",tabSize:i.indentSize},i.wrapping?{wordBreak:"break-word",whiteSpace:"break-spaces",overflowWrap:"anywhere"}:{whiteSpace:"pre"}],children:r})}function z(e){var r=e.code,t=(0,A._)(e,["code"]),n=(0,v._)((0,b.useState)(!1),2),i=n[0],s=n[1],l=(0,M.default)(),o=l.ref,a=l.view;(0,b.useEffect)(function(){if(a)return s(!0),function(){return s(!1)}},[a]),(0,b.useEffect)(function(){a&&a.dispatch({changes:{from:0,to:a.state.doc.length,insert:r}})},[r,a]);var u=!i;return(0,j.jsxs)(j.Fragment,{children:[(0,j.jsx)(E.default,(0,c._)({ref:o,css:{height:u?0:"auto"},initialDoc:r,readOnly:!0},t)),u&&(0,j.jsx)(O,(0,c._)({code:r},t))]})}var B=e.i(995683),q=e.i(205104),H=e.i(877249).BREAKPOINTS.tabletMin,G=e.i(297083),W=e.i(817556),$=e.i(864558),K=e.i(967629),N=e.i(703774),Y=(0,K.css)({cursor:"all-scroll",height:"100%",width:"100%",".excalidraw .App-toolbar-content":{display:"none"}}),X=(0,$.default)(function(){return(0,G._)(function(){return(0,W._)(this,function(r){return[2,e.A(532703).then(function(e){return e.Excalidraw})]})})()},{ssr:!1,loading:function(){return null}});function Q(e){var r=e.contents,t=e.key,n={scrollToContent:!0};try{n=(0,c._)({},n,JSON.parse(r||"{}"))}catch(e){}var i=(0,N.useTheme)().isDarkColorScheme;return(0,j.jsx)("div",{css:Y,children:(0,j.jsx)(X,{viewModeEnabled:!0,initialData:n,theme:i?"dark":"light"})},t)}var Z=e.i(603237);function J(e,r){return(0,c._)({},e,r)}var ee={isLoading:!1,result:null,error:null,fileViewerType:null},er=e.i(481088),et=(0,K.keyframes)({"0%":{opacity:0},"100%":{opacity:.5}}),en=(0,K.css)({overflow:"hidden",height:"100%",width:"100%","> svg":{opacity:0,animation:"".concat(et," 200ms 250ms linear forwards"),height:"100%","@media (prefers-reduced-motion: reduce)":{animationDuration:"0ms",animationDelay:"400ms"}}});function ei(){var e=(0,b.useId)();return(0,j.jsx)(U.View,{css:en,children:(0,j.jsxs)(er.default,{speed:2,backgroundColor:R.tokens.backgroundHighest,foregroundColor:R.tokens.backgroundHigher,uniqueKey:e,children:[(0,j.jsx)("rect",{rx:"2",ry:"2",x:"0",y:"0",width:"32",height:"15"}),(0,j.jsx)("rect",{rx:"2",ry:"2",x:"48",y:"0",width:"72",height:"15"}),(0,j.jsx)("rect",{rx:"2",ry:"2",x:"128",y:"0",width:"144",height:"15"}),(0,j.jsx)("rect",{rx:"2",ry:"2",x:"280",y:"0",width:"132",height:"15"}),(0,j.jsx)("rect",{rx:"2",ry:"2",x:"420",y:"0",width:"48",height:"15"}),(0,j.jsx)("rect",{rx:"2",ry:"2",x:"476",y:"0",width:"144",height:"15"}),(0,j.jsx)("rect",{rx:"2",ry:"2",x:"0",y:"20",width:"32",height:"15"}),(0,j.jsx)("rect",{rx:"2",ry:"2",x:"48",y:"20",width:"72",height:"15"}),(0,j.jsx)("rect",{rx:"2",ry:"2",x:"128",y:"20",width:"192",height:"15"}),(0,j.jsx)("rect",{rx:"2",ry:"2",x:"328",y:"20",width:"48",height:"15"}),(0,j.jsx)("rect",{rx:"2",ry:"2",x:"384",y:"20",width:"312",height:"15"}),(0,j.jsx)("rect",{rx:"2",ry:"2",x:"0",y:"40",width:"32",height:"15"}),(0,j.jsx)("rect",{rx:"2",ry:"2",x:"48",y:"40",width:"0",height:"15"}),(0,j.jsx)("rect",{rx:"2",ry:"2",x:"0",y:"60",width:"32",height:"15"}),(0,j.jsx)("rect",{rx:"2",ry:"2",x:"48",y:"60",width:"24",height:"15"}),(0,j.jsx)("rect",{rx:"2",ry:"2",x:"80",y:"60",width:"36",height:"15"}),(0,j.jsx)("rect",{rx:"2",ry:"2",x:"124",y:"60",width:"48",height:"15"}),(0,j.jsx)("rect",{rx:"2",ry:"2",x:"180",y:"60",width:"24",height:"15"}),(0,j.jsx)("rect",{rx:"2",ry:"2",x:"212",y:"60",width:"132",height:"15"}),(0,j.jsx)("rect",{rx:"2",ry:"2",x:"352",y:"60",width:"48",height:"15"}),(0,j.jsx)("rect",{rx:"2",ry:"2",x:"408",y:"60",width:"24",height:"15"}),(0,j.jsx)("rect",{rx:"2",ry:"2",x:"440",y:"60",width:"84",height:"15"}),(0,j.jsx)("rect",{rx:"2",ry:"2",x:"532",y:"60",width:"60",height:"15"}),(0,j.jsx)("rect",{rx:"2",ry:"2",x:"600",y:"60",width:"36",height:"15"}),(0,j.jsx)("rect",{rx:"2",ry:"2",x:"644",y:"60",width:"72",height:"15"}),(0,j.jsx)("rect",{rx:"2",ry:"2",x:"0",y:"80",width:"32",height:"15"}),(0,j.jsx)("rect",{rx:"2",ry:"2",x:"48",y:"80",width:"36",height:"15"}),(0,j.jsx)("rect",{rx:"2",ry:"2",x:"92",y:"80",width:"48",height:"15"}),(0,j.jsx)("rect",{rx:"2",ry:"2",x:"148",y:"80",width:"24",height:"15"}),(0,j.jsx)("rect",{rx:"2",ry:"2",x:"180",y:"80",width:"108",height:"15"}),(0,j.jsx)("rect",{rx:"2",ry:"2",x:"296",y:"80",width:"60",height:"15"}),(0,j.jsx)("rect",{rx:"2",ry:"2",x:"364",y:"80",width:"24",height:"15"}),(0,j.jsx)("rect",{rx:"2",ry:"2",x:"396",y:"80",width:"108",height:"15"}),(0,j.jsx)("rect",{rx:"2",ry:"2",x:"0",y:"100",width:"32",height:"15"}),(0,j.jsx)("rect",{rx:"2",ry:"2",x:"48",y:"100",width:"60",height:"15"}),(0,j.jsx)("rect",{rx:"2",ry:"2",x:"116",y:"100",width:"132",height:"15"}),(0,j.jsx)("rect",{rx:"2",ry:"2",x:"256",y:"100",width:"12",height:"15"}),(0,j.jsx)("rect",{rx:"2",ry:"2",x:"276",y:"100",width:"12",height:"15"}),(0,j.jsx)("rect",{rx:"2",ry:"2",x:"0",y:"120",width:"32",height:"15"}),(0,j.jsx)("rect",{rx:"2",ry:"2",x:"72",y:"120",width:"84",height:"15"}),(0,j.jsx)("rect",{rx:"2",ry:"2",x:"164",y:"120",width:"96",height:"15"}),(0,j.jsx)("rect",{rx:"2",ry:"2",x:"268",y:"120",width:"60",height:"15"}),(0,j.jsx)("rect",{rx:"2",ry:"2",x:"336",y:"120",width:"132",height:"15"}),(0,j.jsx)("rect",{rx:"2",ry:"2",x:"0",y:"140",width:"32",height:"15"}),(0,j.jsx)("rect",{rx:"2",ry:"2",x:"72",y:"140",width:"84",height:"15"}),(0,j.jsx)("rect",{rx:"2",ry:"2",x:"164",y:"140",width:"84",height:"15"}),(0,j.jsx)("rect",{rx:"2",ry:"2",x:"256",y:"140",width:"60",height:"15"}),(0,j.jsx)("rect",{rx:"2",ry:"2",x:"324",y:"140",width:"132",height:"15"}),(0,j.jsx)("rect",{rx:"2",ry:"2",x:"464",y:"140",width:"60",height:"15"}),(0,j.jsx)("rect",{rx:"2",ry:"2",x:"532",y:"140",width:"60",height:"15"}),(0,j.jsx)("rect",{rx:"2",ry:"2",x:"600",y:"140",width:"156",height:"15"}),(0,j.jsx)("rect",{rx:"2",ry:"2",x:"0",y:"160",width:"32",height:"15"}),(0,j.jsx)("rect",{rx:"2",ry:"2",x:"72",y:"160",width:"84",height:"15"}),(0,j.jsx)("rect",{rx:"2",ry:"2",x:"164",y:"160",width:"132",height:"15"}),(0,j.jsx)("rect",{rx:"2",ry:"2",x:"304",y:"160",width:"60",height:"15"}),(0,j.jsx)("rect",{rx:"2",ry:"2",x:"372",y:"160",width:"144",height:"15"}),(0,j.jsx)("rect",{rx:"2",ry:"2",x:"0",y:"180",width:"32",height:"15"}),(0,j.jsx)("rect",{rx:"2",ry:"2",x:"48",y:"180",width:"12",height:"15"}),(0,j.jsx)("rect",{rx:"2",ry:"2",x:"0",y:"200",width:"32",height:"15"}),(0,j.jsx)("rect",{rx:"2",ry:"2",x:"48",y:"200",width:"0",height:"15"}),(0,j.jsx)("rect",{rx:"2",ry:"2",x:"0",y:"220",width:"32",height:"15"}),(0,j.jsx)("rect",{rx:"2",ry:"2",x:"48",y:"220",width:"96",height:"15"}),(0,j.jsx)("rect",{rx:"2",ry:"2",x:"152",y:"220",width:"264",height:"15"}),(0,j.jsx)("rect",{rx:"2",ry:"2",x:"424",y:"220",width:"12",height:"15"}),(0,j.jsx)("rect",{rx:"2",ry:"2",x:"0",y:"240",width:"32",height:"15"}),(0,j.jsx)("rect",{rx:"2",ry:"2",x:"72",y:"240",width:"36",height:"15"}),(0,j.jsx)("rect",{rx:"2",ry:"2",x:"116",y:"240",width:"72",height:"15"}),(0,j.jsx)("rect",{rx:"2",ry:"2",x:"196",y:"240",width:"12",height:"15"}),(0,j.jsx)("rect",{rx:"2",ry:"2",x:"216",y:"240",width:"312",height:"15"}),(0,j.jsx)("rect",{rx:"2",ry:"2",x:"0",y:"260",width:"32",height:"15"}),(0,j.jsx)("rect",{rx:"2",ry:"2",x:"72",y:"260",width:"24",height:"15"}),(0,j.jsx)("rect",{rx:"2",ry:"2",x:"104",y:"260",width:"24",height:"15"}),(0,j.jsx)("rect",{rx:"2",ry:"2",x:"136",y:"260",width:"120",height:"15"}),(0,j.jsx)("rect",{rx:"2",ry:"2",x:"264",y:"260",width:"72",height:"15"}),(0,j.jsx)("rect",{rx:"2",ry:"2",x:"344",y:"260",width:"120",height:"15"}),(0,j.jsx)("rect",{rx:"2",ry:"2",x:"472",y:"260",width:"84",height:"15"}),(0,j.jsx)("rect",{rx:"2",ry:"2",x:"564",y:"260",width:"36",height:"15"}),(0,j.jsx)("rect",{rx:"2",ry:"2",x:"608",y:"260",width:"60",height:"15"}),(0,j.jsx)("rect",{rx:"2",ry:"2",x:"0",y:"280",width:"32",height:"15"}),(0,j.jsx)("rect",{rx:"2",ry:"2",x:"72",y:"280",width:"24",height:"15"}),(0,j.jsx)("rect",{rx:"2",ry:"2",x:"104",y:"280",width:"24",height:"15"}),(0,j.jsx)("rect",{rx:"2",ry:"2",x:"136",y:"280",width:"24",height:"15"}),(0,j.jsx)("rect",{rx:"2",ry:"2",x:"168",y:"280",width:"48",height:"15"}),(0,j.jsx)("rect",{rx:"2",ry:"2",x:"224",y:"280",width:"72",height:"15"}),(0,j.jsx)("rect",{rx:"2",ry:"2",x:"304",y:"280",width:"36",height:"15"}),(0,j.jsx)("rect",{rx:"2",ry:"2",x:"348",y:"280",width:"84",height:"15"}),(0,j.jsx)("rect",{rx:"2",ry:"2",x:"440",y:"280",width:"60",height:"15"}),(0,j.jsx)("rect",{rx:"2",ry:"2",x:"508",y:"280",width:"48",height:"15"}),(0,j.jsx)("rect",{rx:"2",ry:"2",x:"564",y:"280",width:"144",height:"15"}),(0,j.jsx)("rect",{rx:"2",ry:"2",x:"0",y:"300",width:"32",height:"15"}),(0,j.jsx)("rect",{rx:"2",ry:"2",x:"72",y:"300",width:"24",height:"15"}),(0,j.jsx)("rect",{rx:"2",ry:"2",x:"104",y:"300",width:"216",height:"15"}),(0,j.jsx)("rect",{rx:"2",ry:"2",x:"328",y:"300",width:"24",height:"15"}),(0,j.jsx)("rect",{rx:"2",ry:"2",x:"360",y:"300",width:"96",height:"15"}),(0,j.jsx)("rect",{rx:"2",ry:"2",x:"464",y:"300",width:"72",height:"15"}),(0,j.jsx)("rect",{rx:"2",ry:"2",x:"544",y:"300",width:"48",height:"15"}),(0,j.jsx)("rect",{rx:"2",ry:"2",x:"0",y:"320",width:"32",height:"15"}),(0,j.jsx)("rect",{rx:"2",ry:"2",x:"72",y:"320",width:"72",height:"15"}),(0,j.jsx)("rect",{rx:"2",ry:"2",x:"152",y:"320",width:"12",height:"15"}),(0,j.jsx)("rect",{rx:"2",ry:"2",x:"0",y:"340",width:"32",height:"15"}),(0,j.jsx)("rect",{rx:"2",ry:"2",x:"96",y:"340",width:"60",height:"15"}),(0,j.jsx)("rect",{rx:"2",ry:"2",x:"164",y:"340",width:"72",height:"15"}),(0,j.jsx)("rect",{rx:"2",ry:"2",x:"244",y:"340",width:"12",height:"15"}),(0,j.jsx)("rect",{rx:"2",ry:"2",x:"264",y:"340",width:"132",height:"15"}),(0,j.jsx)("rect",{rx:"2",ry:"2",x:"404",y:"340",width:"12",height:"15"}),(0,j.jsx)("rect",{rx:"2",ry:"2",x:"424",y:"340",width:"144",height:"15"}),(0,j.jsx)("rect",{rx:"2",ry:"2",x:"0",y:"360",width:"32",height:"15"}),(0,j.jsx)("rect",{rx:"2",ry:"2",x:"96",y:"360",width:"96",height:"15"}),(0,j.jsx)("rect",{rx:"2",ry:"2",x:"200",y:"360",width:"144",height:"15"}),(0,j.jsx)("rect",{rx:"2",ry:"2",x:"0",y:"380",width:"32",height:"15"}),(0,j.jsx)("rect",{rx:"2",ry:"2",x:"96",y:"380",width:"108",height:"15"}),(0,j.jsx)("rect",{rx:"2",ry:"2",x:"212",y:"380",width:"84",height:"15"}),(0,j.jsx)("rect",{rx:"2",ry:"2",x:"0",y:"400",width:"32",height:"15"}),(0,j.jsx)("rect",{rx:"2",ry:"2",x:"72",y:"400",width:"12",height:"15"}),(0,j.jsx)("rect",{rx:"2",ry:"2",x:"0",y:"420",width:"32",height:"15"}),(0,j.jsx)("rect",{rx:"2",ry:"2",x:"48",y:"420",width:"12",height:"15"}),(0,j.jsx)("rect",{rx:"2",ry:"2",x:"0",y:"440",width:"32",height:"15"}),(0,j.jsx)("rect",{rx:"2",ry:"2",x:"48",y:"440",width:"0",height:"15"}),(0,j.jsx)("rect",{rx:"2",ry:"2",x:"0",y:"460",width:"32",height:"15"}),(0,j.jsx)("rect",{rx:"2",ry:"2",x:"48",y:"460",width:"36",height:"15"}),(0,j.jsx)("rect",{rx:"2",ry:"2",x:"92",y:"460",width:"48",height:"15"}),(0,j.jsx)("rect",{rx:"2",ry:"2",x:"148",y:"460",width:"12",height:"15"}),(0,j.jsx)("rect",{rx:"2",ry:"2",x:"168",y:"460",width:"36",height:"15"}),(0,j.jsx)("rect",{rx:"2",ry:"2",x:"212",y:"460",width:"144",height:"15"}),(0,j.jsx)("rect",{rx:"2",ry:"2",x:"0",y:"480",width:"32",height:"15"}),(0,j.jsx)("rect",{rx:"2",ry:"2",x:"72",y:"480",width:"48",height:"15"}),(0,j.jsx)("rect",{rx:"2",ry:"2",x:"128",y:"480",width:"36",height:"15"}),(0,j.jsx)("rect",{rx:"2",ry:"2",x:"172",y:"480",width:"48",height:"15"}),(0,j.jsx)("rect",{rx:"2",ry:"2",x:"228",y:"480",width:"12",height:"15"}),(0,j.jsx)("rect",{rx:"2",ry:"2",x:"248",y:"480",width:"84",height:"15"}),(0,j.jsx)("rect",{rx:"2",ry:"2",x:"0",y:"500",width:"32",height:"15"}),(0,j.jsx)("rect",{rx:"2",ry:"2",x:"72",y:"500",width:"132",height:"15"}),(0,j.jsx)("rect",{rx:"2",ry:"2",x:"212",y:"500",width:"12",height:"15"}),(0,j.jsx)("rect",{rx:"2",ry:"2",x:"0",y:"520",width:"32",height:"15"}),(0,j.jsx)("rect",{rx:"2",ry:"2",x:"96",y:"520",width:"132",height:"15"}),(0,j.jsx)("rect",{rx:"2",ry:"2",x:"0",y:"540",width:"32",height:"15"}),(0,j.jsx)("rect",{rx:"2",ry:"2",x:"96",y:"540",width:"300",height:"15"}),(0,j.jsx)("rect",{rx:"2",ry:"2",x:"404",y:"540",width:"204",height:"15"}),(0,j.jsx)("rect",{rx:"2",ry:"2",x:"0",y:"560",width:"32",height:"15"}),(0,j.jsx)("rect",{rx:"2",ry:"2",x:"72",y:"560",width:"24",height:"15"}),(0,j.jsx)("rect",{rx:"2",ry:"2",x:"0",y:"580",width:"32",height:"15"}),(0,j.jsx)("rect",{rx:"2",ry:"2",x:"72",y:"580",width:"84",height:"15"}),(0,j.jsx)("rect",{rx:"2",ry:"2",x:"164",y:"580",width:"156",height:"15"}),(0,j.jsx)("rect",{rx:"2",ry:"2",x:"0",y:"600",width:"32",height:"15"}),(0,j.jsx)("rect",{rx:"2",ry:"2",x:"48",y:"600",width:"24",height:"15"})]})})}var es=e.i(411928),el=e.i(296223),eo=(0,K.keyframes)({"0%":{opacity:0},"100%":{opacity:1}}),ea=(0,_.cssRecord)({root:{position:"absolute",top:0,left:0,display:"flex",justifyContent:"space-between",align:"stretch",height:"100%",width:"100%"},markdown:[C.rcss.p(16),{wordBreak:"break-word",maxWidth:"840px",margin:"0 auto",overflowY:"auto",position:"relative",height:"100%"}],draw:{height:"100%",width:"100%"},"file-tree":[C.rcss.backgroundColor.backgroundRoot,C.rcss.borderRadius(4),(0,I._)({overflow:"auto",display:"none"},"@media screen and (min-width: ".concat(H,"px)"),{display:"block",width:"260px"})],content:{flex:"1 1 auto",width:"100%",height:"100%",overflowY:"auto",position:"relative"},fileLoader:[C.rcss.p(16),{width:"100%",position:"absolute",top:0,left:0,zIndex:100,opacity:0,animation:"".concat(eo," ease 0s forwards"),animationDelay:"200ms"}],media:{display:"flex",alignItems:"center",justifyContent:"center",width:"100%",height:"100%"},error:{display:"flex",alignItems:"center",justifyContent:"center",width:"100%",height:"100%"}});function ec(e){var r,t,n,i,s,l,o=e.fs,a=e.deeplink,c=(t=(r={fs:o,path:null==a?void 0:a.path}).fs,n=r.path,s=(i=(0,v._)((0,b.useReducer)(J,ee),2))[0],l=i[1],(0,b.useEffect)(function(){if(!n)return void l(ee);var e=!1,r=(0,Z.getFileViewerType)(n);return l({isLoading:!0,fileViewerType:r}),t.readFile(n).then(function(t){if(!e){if(t.error)return void l({isLoading:!1,result:null,error:{path:n,fileViewerType:r,error:t.error}});l({isLoading:!1,result:{path:n,fileViewerType:r,content:t.content},error:null})}}),function(){e=!0}},[t,n]),s);return(0,j.jsx)("div",{css:ea.root,children:(0,j.jsxs)("div",{css:ea.content,children:[!c.isLoading&&c.result&&c.result.fileViewerType===Z.FileViewerType.Media?(0,j.jsx)("div",{css:ea.media,children:(0,j.jsx)(el.Viewer,{src:(0,el.getMediaSrc)(B.default.from(c.result.content).toString("base64"),(0,q.getMediaMime)(c.result.path)),mime:(0,q.getMediaMime)(c.result.path),fileName:(0,q.getFileName)(c.result.path)})}):null,c.isLoading&&c.fileViewerType===Z.FileViewerType.Media?(0,j.jsx)("div",{css:ea.fileLoader,children:(0,j.jsx)(ei,{})}):null,!c.isLoading&&c.result&&c.result.fileViewerType===Z.FileViewerType.Markdown?(0,j.jsx)("div",{css:ea.markdown,children:(0,j.jsx)(es.default,{path:c.result.path,source:c.result.content.toString(),fs:o,sourcePos:!1})}):null,c.isLoading&&c.fileViewerType===Z.FileViewerType.Markdown?(0,j.jsx)("div",{css:ea.fileLoader,children:(0,j.jsx)(ei,{})}):null,!c.isLoading&&c.result&&c.result.fileViewerType===Z.FileViewerType.Draw?(0,j.jsx)("div",{css:ea.draw,children:(0,j.jsx)(Q,{contents:c.result.content.toString()},c.result.path)}):null,c.isLoading&&c.fileViewerType===Z.FileViewerType.Draw?(0,j.jsx)("div",{css:ea.fileLoader,children:(0,j.jsx)(ei,{})}):null,!c.isLoading&&c.result&&c.result.fileViewerType===Z.FileViewerType.Code?(0,j.jsx)(z,{filePath:c.result.path,code:c.result.content.toString(),fontSize:14}):null,c.isLoading&&c.fileViewerType===Z.FileViewerType.Code?(0,j.jsx)("div",{css:ea.fileLoader,children:(0,j.jsx)(ei,{})}):null,!c.isLoading&&c.error?(0,j.jsx)("div",{css:ea.error,children:(0,j.jsxs)("div",{children:["Could not load ",c.error.path]})}):null]})})}var eu=e.i(144619),ed=e.i(929872),eh=(0,_.cssRecord)({root:[C.rcss.display.flex,C.rcss.colWithGap(2),C.rcss.flex.growAndShrink(1),C.rcss.position.relative,C.rcss.overflow("hidden")],breadcrumbs:[{borderBottom:"1px solid ".concat(R.tokens.backgroundHigher)}],code:[C.rcss.position.relative]});function ep(e){var r=e.deeplink,t=e.fs;return(0,j.jsxs)(ed.Surface,{css:eh.root,children:[(0,j.jsx)(U.View,{css:eh.breadcrumbs,shrink:0,px:2,py:6,children:(0,j.jsx)(eu.FileBreadcrumbs,{path:r.path,onFileClick:function(){},expandable:!1})}),(0,j.jsx)(U.View,{css:eh.code,grow:!0,children:(0,j.jsx)(ec,{fs:t,deeplink:r})})]})}var ex=(0,_.cssRecord)({root:[C.rcss.display.flex,C.rcss.colWithGap(2),C.rcss.flex.growAndShrink(1),C.rcss.position.relative,C.rcss.borderRadius(4),C.rcss.overflow("hidden")],code:[C.rcss.position.relative]});function ef(){return(0,j.jsx)(ed.Surface,{css:ex.root,elevated:!0,children:(0,j.jsx)(U.View,{css:ex.code,grow:!0})})}e.i(694906);var eg=e.i(55449),ew=e.i(160290);function em(e){var r=e.fs,t=e.onFileSelect,n=(0,ew.useFiletree)({readOnly:!0,fs:r,onFileSelect:t,filter:function(e){return!(0,eg.isHiddenFile)(e.filename)}});return(0,j.jsx)(ew.Filetree,{store:n.store})}var ey=(0,_.cssRecord)({root:[C.rcss.position.relative,C.rcss.flex.grow(1),C.rcss.flex.row],filetree:[C.rcss.position.absolute,C.rcss.width(200),C.rcss.height("100%"),C.rcss.top(0),C.rcss.right("100%"),C.rcss.backgroundColor.backgroundRoot,C.rcss.px(6),(0,I._)({transform:"translateX(0)",zIndex:1,transition:"transform 0.2s ease"},C.media.min("tabletMin"),[C.rcss.width(240)])],filetreeOpen:{transform:"translateX(100%)"}});function ej(e){var r,t=e.isFiletreeOpen,n=e.onToggleFiletree,i=e.viewer;return(0,j.jsxs)(U.View,{css:ey.root,children:[(0,j.jsx)(U.View,{css:[ey.filetree,t&&ey.filetreeOpen],children:(0,j.jsx)(em,{fs:i.fs,onFileSelect:function(e){i.openFile({path:e.path}),n()}})}),(0,j.jsx)(U.View,{grow:!0,children:(null==(r=i.viewState)?void 0:r.deeplink)?(0,j.jsx)(ep,{deeplink:i.viewState.deeplink,fs:i.viewState.fs}):(0,j.jsx)(ef,{})})]})}var ev=(0,_.cssRecord)({root:[C.rcss.backgroundColor.backgroundDefault,{"&&":[C.rcss.pt(0),C.rcss.borderRadius(8),C.rcss.border({width:1,color:R.tokens.backgroundRoot}),C.rcss.overflow("hidden")]}]});function eb(e){var r=e.repl,t=e.viewer,n=(0,v._)((0,b.useState)(!1),2),i=n[0],s=n[1],l=function(){s(function(e){return!e})};return(0,j.jsxs)(U.View,{css:ev.root,children:[(0,j.jsx)(P,{repl:r,isFiletreeOpen:i,onToggleFiletree:l}),(0,j.jsx)(ej,{viewer:t,isFiletreeOpen:i,onToggleFiletree:l})]})}var eR=e.i(717215),ek=e.i(349597),e_=e.i(64386),eC=e.i(368964),eV=e.i(709485),eT=e.i(858248),eU=e.i(976606),eF=e.i(91720),eS=e.i(243914);function eD(e){var r=e.replId,t=e.deploymentMetadata,n=e.size,i=(0,eU.default)().trackAppOpen;return t&&"DeploymentMetadata"===t.__typename?(0,j.jsx)(eF.ButtonLink,{size:void 0===n?"default":n,variant:"outlined",text:"View live app",iconLeft:(0,j.jsx)(eS.default,{}),href:new URL(t.url),target:"_blank",onClick:function(){(0,eT.track)(eV.events.COVER_PAGE,{action:"view_live_app_clicked",surface:"cover_page"}),i(r)}}):null}var eP=e.i(222342),eI=e.i(610357),eA=e.i(986615),eE=e.i(482206),eM=e.i(346715),eL=e.i(304277);e.i(566901);var eO=e.i(663689);function ez(){var e=(0,n._)(["\n  query PublicForks(\n    $replId: String!\n    $count: Int!\n    $after: String\n    $search: String\n  ) {\n    getRepl(id: $replId) {\n      ... on Repl {\n        id\n        publicForkCount\n        releasesForkCount\n        publishedAs\n        publicForks(count: $count, after: $after, search: $search) {\n          items {\n            id\n            ...ReplPostReplCardRepl\n          }\n          pageInfo {\n            nextCursor\n          }\n        }\n      }\n    }\n  }\n  ","\n"]);return ez=function(){return e},e}var eB={},eq=(0,i.gql)(ez(),eO.ReplPostReplCardReplFragmentDoc),eH=e.i(546284),eG=e.i(709712);function eW(e){var r,t,n=(r={variables:{replId:e.replId,count:10}},t=(0,c._)({},eB,r),eL.useQuery(eq,t)),i=n.data,s=n.fetchMore,l=n.loading,o=(null==i?void 0:i.getRepl.__typename)==="Repl"?i.getRepl:null;if(!o)return(0,j.jsx)(U.View,{gap:8,children:(0,j.jsx)(U.View,{children:l?(0,j.jsx)(T.Text,{color:"dimmest",variant:"subheadDefault",multiline:!1,children:"Loading remixes..."}):null})});var a=o.publishedAs===eC.PublishedReplKind.Template,u=o.publicForks,d=a?o.releasesForkCount:o.publicForkCount,h=u.items.length||0;return(0,j.jsxs)(U.View,{gap:8,children:[(0,j.jsxs)(U.View,{children:[null!==d?(0,j.jsxs)(U.View,{gap:12,children:[(0,j.jsxs)(U.View,{css:[C.rcss.display.block],children:[(0,j.jsx)(T.Text,{variant:"subheadDefault",multiline:!1,children:d})," ",(0,j.jsxs)(T.Text,{color:"dimmest",variant:"subheadDefault",multiline:!1,children:[(0,eH.default)("remix",d),d!==h?" total":null]})]}),d>0&&h>0?(0,j.jsx)(T.Text,{variant:"subheadBig",multiline:!1,children:"Public remixes"}):null,d>0&&0===h?(0,j.jsx)(T.Text,{variant:"subheadBig",multiline:!1,children:"No public remixes"}):null]}):null,l?(0,j.jsx)(T.Text,{color:"dimmest",variant:"subheadDefault",multiline:!1,children:"Loading remixes..."}):null]}),(0,j.jsxs)(U.View,{grow:!0,shrink:!0,gap:24,children:[(0,j.jsx)(U.View,{css:[{display:"grid",gridTemplateColumns:"repeat(auto-fill, minmax(300px, 1fr))",gap:R.tokens.space16,gridAutoFlow:"dense"}],children:u?u.items.map(function(e){return(0,j.jsx)(ed.Surface,{background:"default",css:[C.rcss.borderRadius(8)],children:(0,j.jsx)(eG.default,{showOwner:!0,repl:e})},e.id)}):null}),(null==u?void 0:u.pageInfo.nextCursor)?(0,j.jsx)(V.Button,{disabled:l,text:l?"Loading...":"Load more",onClick:function(){l||s({variables:{after:u.pageInfo.nextCursor},updateQuery:function(e,r){if(!r||!r.fetchMoreResult)return e;var t="Repl"===e.getRepl.__typename?e.getRepl:null;if(!t)return e;var n=r.fetchMoreResult,i="Repl"===n.getRepl.__typename?n.getRepl:null;return i?(0,e_._)((0,c._)({},n),{getRepl:(0,e_._)((0,c._)({},i),{publicForks:(0,e_._)((0,c._)({},i.publicForks),{items:(0,eM._)(t.publicForks.items).concat((0,eM._)(i.publicForks.items))})})}):e}})}}):null]})]})}var e$=e.i(83462),eK=e.i(739521),eN=e.i(629248),eY=(0,_.cssRecord)({containerStretch:[C.rcss.rowWithGap(1),C.rcss.flex.growAndShrink(1)],containerShrink:C.rcss.rowWithGap(1),ctaStretch:[C.rcss.borderRadius("default",0,0,"default"),C.rcss.flex.growAndShrink(1)],ctaShrink:C.rcss.borderRadius("default",0,0,"default"),count:C.rcss.borderRadius(0,"default","default",0)});let eX=function(e){return(0,j.jsxs)(U.View,{css:[e.stretch?eY.containerStretch:eY.containerShrink,e.css],children:[(0,j.jsx)(V.Button,{dataCy:"fork-button",colorway:e.colorway,iconLeft:e.icon,stretch:e.stretch,size:e.size,onClick:e.onClick,text:e.text,css:e.stretch?eY.ctaStretch:eY.ctaShrink}),(0,j.jsx)(V.Button,{colorway:e.colorway,onClick:e.onCountClick,text:(0,eN.abbreviateNumber)(e.count),css:eY.count,size:e.size})]})};var eQ=e.i(464092),eZ=e.i(292642),eJ=e.i(521684),e0=e.i(592877),e2=e.i(690472),e1=(0,_.cssRecord)({actionButtons:[C.rcss.flex.wrap,C.rcss.width("100%"),C.rcss.gap(8),(0,I._)({"& > *":{flexGrow:1,"@supports (grid-template-rows: masonry)":{"&:first-child:nth-last-child(3), &:first-child:nth-last-child(3) ~ *":{flexGrow:1,flexBasis:"40%","&:last-child:nth-child(3)":{flexGrow:1,flexBasis:"100%"}}}}},C.media.max("mobileMax"),{flexDirection:"column","& > *":{width:"100%"}})],primaryButtons:[{width:"100%",minWidth:0,flex:1}],cta:[{minWidth:0}]});function e4(e){var r,t=e.repl,n=e.currentUser,i=(0,eQ.useForkContext)(),s=(0,eP.default)(),l=(0,v._)((0,b.useState)(!1),2),o=l[0],a=l[1],u="".concat(window.location.origin).concat(t.url),d=t.publishedAs===eC.PublishedReplKind.Template,h=d?t.releasesForkCount:t.publicForkCount,p=t.isPrivate||(null==(r=t.deploymentMetadata)?void 0:r.__typename)==="UnauthorizedError",x=d?{text:i.isForking?"Remixing...":"Remix",icon:(0,j.jsx)(e0.default,{}),count:h}:{text:i.isForking?"Remixing...":"Remix this app",icon:(0,j.jsx)(e0.default,{}),count:h},f="Check out what I built on Replit!",g=(0,eE.default)({text:f,url:u}),w=(0,eA.default)({text:f,url:u});return(0,j.jsxs)(U.View,{pt:32,gap:12,children:[(0,j.jsx)(eD,{replId:t.id,deploymentMetadata:t.deploymentMetadata}),(0,j.jsxs)(U.View,{row:!0,gap:8,align:"center",children:[(0,j.jsx)(U.View,{css:e1.primaryButtons,children:(0,j.jsx)(eX,(0,e_._)((0,c._)({},x),{css:e1.cta,stretch:!0,colorway:"blurple",size:"big",onClick:function(){(0,eT.track)(eV.events.COVER_PAGE,{action:"remix_clicked",surface:"cover_page"}),i.isForking||i.fork()},onCountClick:function(){(0,eT.track)(eV.events.COVER_PAGE,{action:"remix_count_clicked",surface:"cover_page"}),a(!0)}}))}),(0,j.jsx)(e$.default,{repl:t,currentUser:n})]}),p?null:(0,j.jsxs)(U.View,{css:e1.actionButtons,row:!0,gap:8,align:"center",children:[(0,j.jsx)(V.Button,{text:"Copy",stretch:!0,iconLeft:(0,j.jsx)(eZ.default,{}),onClick:function(){return(0,G._)(function(){return(0,W._)(this,function(e){switch(e.label){case 0:(0,eT.track)(eV.events.COVER_PAGE,{action:"copy_link_clicked",surface:"cover_page"}),e.label=1;case 1:return e.trys.push([1,3,,4]),[4,(0,eI.default)(u)];case 2:return e.sent(),s.showConfirm("App link copied to clipboard!"),[3,4];case 3:return e.sent(),s.showError("Failed to copy App link to clipboard"),[3,4];case 4:return[2]}})})()}}),(0,j.jsx)(eF.ButtonLink,{prefetch:!1,stretch:!0,href:g,iconLeft:(0,j.jsx)(e2.default,{}),text:"Share on X",target:"_blank",onClick:function(){(0,eT.track)(eV.events.COVER_PAGE,{action:"share_on_x_clicked",surface:"cover_page"})}}),(0,j.jsx)(eF.ButtonLink,{prefetch:!1,stretch:!0,href:w,iconLeft:(0,j.jsx)(eJ.default,{}),text:"Share on LinkedIn",target:"_blank",onClick:function(){(0,eT.track)(eV.events.COVER_PAGE,{action:"share_on_linkedin_clicked",surface:"cover_page"})}})]}),o?(0,j.jsx)(eK.Modal,{maxWidth:512,isOpen:o,onRequestClose:function(){a(!1)},children:(0,j.jsx)(eW,{replId:t.id})}):null]})}var e5=e.i(988676),e6=e.i(210975),e8=(0,_.cssRecord)({divider:[]});function e3(e){var r=e.repl,t=e.currentUser;return(null==t?void 0:t.isAdmin)&&window.location.search.includes("debug=1")?(0,j.jsxs)(j.Fragment,{children:[(0,j.jsx)(e5.DividerH,{css:e8.divider}),(0,j.jsx)(U.View,{gap:8,children:(0,j.jsx)(e6.default,{replId:r.id,showFlag:!0,buttonsOnly:!0})})]}):null}var e9=e.i(412160),e7=e.i(341126),re=e.i(674918),rr=e.i(907371),rt=e.i(714165);function rn(e){var r=e.src,t=e.name,n=e.small,i=(0,A._)(e,["src","name","small"]);return(0,j.jsxs)(U.View,(0,e_._)((0,c._)({row:!0,gap:8,align:"center",shrink:!0},i),{children:[(0,j.jsx)(rt.Avatar,{src:r,username:t,size:n?24:32,layout:"intrinsic",isOrg:!0}),(0,j.jsx)(U.View,{grow:!0,shrink:!0,row:!0,gap:4,align:"center",children:(0,j.jsx)(T.Text,{multiline:!1,children:t})})]}))}var ri=e.i(367861);let rs=function(e){var r=e.user,t=e.org,n=(0,rr.useCreateInteractive)({variant:"underlinedOnHover"});if(t){var i=(0,e7.orgLinks)(t).profile;return(0,j.jsx)(j.Fragment,{children:(0,j.jsxs)(U.View,{row:!0,align:"center",gap:8,wrap:!0,dataCy:"cover-page-org",children:[(0,j.jsx)(T.Text,{children:"Created by "}),(0,j.jsx)(e9.default,(0,e_._)((0,c._)({clsx:n.clsx,style:n.style},i),{children:(0,j.jsx)(rn,{name:t.name,src:t.image||null,small:!0})}))]})})}return r?(0,j.jsxs)(U.View,{row:!0,align:"center",gap:8,wrap:!0,dataCy:"cover-page-user",children:[(0,j.jsx)(T.Text,{children:"Created by "}),(0,j.jsx)(re.UserLink,{user:r,children:(0,j.jsx)(ri.User,{clsx:n.clsx,style:n.style,username:r.username,src:(null==r?void 0:r.image)||null,small:!0})})]}):(0,j.jsx)(ri.User,{small:!0,src:null,username:"[deleted]"})};var rl=e.i(211397),ro=(0,K.css)([C.rcss.overflow("hidden"),C.rcss.position.relative]),ra={16:4,20:4,24:4,32:4,64:8,84:16};function rc(e){var r=e.alt,t=e.iconUrl,n=e.size,i=void 0===n?32:n,s=(0,A._)(e,["alt","iconUrl","size"]),l=i<32?4:8;function o(){return(0,j.jsx)(U.View,{css:{position:"absolute",top:0,left:0,width:"100%",height:"100%",boxShadow:"inset 0px 0px 0px 1px #80808040",borderRadius:l}})}if(t.endsWith(".svg")){var a=ra[i],u=i-2*a;return(0,j.jsxs)(ed.Surface,(0,e_._)((0,c._)({elevated:!0,css:[C.rcss.p(a),C.rcss.borderRadius(l),ro,C.rcss.width(i),C.rcss.height(i)]},s),{children:[(0,j.jsx)(U.View,{css:[C.rcss.position.relative,C.rcss.width(u),C.rcss.height(u)],children:(0,j.jsx)(rl.default,{alt:r,src:t,objectFit:"contain",layout:"fill"})}),(0,j.jsx)(o,{})]}))}return(0,j.jsxs)(ed.Surface,{elevated:!0,css:[ro,C.rcss.borderRadius(l),C.rcss.width(i),C.rcss.height(i)],children:[(0,j.jsx)(rl.default,{alt:r,src:t,width:i,height:i,objectFit:"cover"}),(0,j.jsx)(o,{})]})}var ru=e.i(422025),rd=e.i(971072),rh=e.i(228108),rp=e.i(283023),rx=e.i(940745),rf=e.i(759097);function rg(e){var r=(0,b.useRef)(null),t=e.size||48;return(0,j.jsxs)(U.View,{css:[C.rcss.position.relative,{cursor:"pointer","&:hover .surface":{opacity:.8},"&:hover .icon":{opacity:1}}],onClick:function(){var e;null==(e=r.current)||e.click()},"aria-label":e.value?"Change icon":"Upload an icon","data-microtip-position":"right",role:"tooltip",children:[e.value?(0,j.jsxs)(j.Fragment,{children:[(0,j.jsx)(rh.default,{iconUrl:e.value,size:e.size,alt:"icon"}),(0,j.jsx)(ed.Surface,{className:"surface",elevated:!0,css:[C.rcss.borderRadius(8),C.rcss.coverContainer,{opacity:.8*!!e.isUploading}]}),(0,j.jsx)(U.View,{className:"icon",css:[C.rcss.coverContainer,C.rcss.center,C.rcss.color.accentPrimaryDefault,{overflow:"hidden",opacity:+!!e.isUploading}],children:e.isUploading?(0,j.jsx)(rx.default,{}):(0,j.jsx)(rp.default,{})})]}):(0,j.jsx)(U.View,{css:[C.rcss.center,C.rcss.width(t),C.rcss.height(t),C.rcss.borderRadius(8),C.rcss.color.foregroundDimmer,{border:"1px dashed "+R.tokens.outlineDefault,"&:hover":{color:R.tokens.accentPrimaryDefault,borderColor:R.tokens.accentPrimaryDefault}}],children:(0,j.jsx)(rf.default,{})}),(0,j.jsx)("input",{css:[[C.rcss.coverContainer,{opacity:0,zIndex:-1}]],ref:r,accept:rd.ACCEPTABLE_IMAGE_UPLOAD_TYPES.join(","),type:"file",onChange:function(r){var t=r.target,n=t.validity,i=t.files;if(n.valid){var s=i?i[0]:null;s&&e.onUpload(s)}}})]})}var rw=e.i(396776),rm=e.i(649960),ry=e.i(965153),rj=e.i(644826),rv=U.SpecializedView.div,rb=(0,_.cssRecord)({contentContainer:[C.rcss.position.relative]});function rR(e){var r=e.children,t=e.collapsedHeight,n=(0,v._)((0,b.useState)(!1),2),i=n[0],s=n[1],l=(0,b.useId)(),o="".concat("ExpandableContent"+l),a="".concat("ExpandableContent"+l),c=(0,ry.useDisclosureState)({defaultExpanded:!1}),u=c.isExpanded,d=c.toggle,h=(0,rm.default)(function(e){var r=e.height;void 0!==r&&s(r>t)});return(0,j.jsxs)(U.View,{gap:8,children:[(0,j.jsx)(U.View,{css:rb.contentContainer,children:(0,j.jsx)(U.View,{id:a,"aria-labelledby":i?o:void 0,css:!u&&i?{height:t,overflow:"hidden",maskImage:"linear-gradient(to top, transparent, black 64px, black)"}:void 0,children:(0,j.jsx)(rv,{ref:h,children:r})})}),i?(0,j.jsx)(U.View,{align:"start",children:(0,j.jsx)(V.Button,{stretch:!1,size:"small",onClick:d,text:"Show ".concat(u?"Less":"More"),iconRight:(0,j.jsx)(rj.default,{rotate:180*!!u}),id:o,"aria-expanded":u,"aria-controls":a})}):null]})}var rk=e.i(916271),r_=e.i(185591),rC=e.i(626729),rV=e.i(42458),rT=(0,_.cssRecord)({iconEdit:[C.rcss.width(64),C.rcss.height(64)],title:[C.rcss.flex.growAndShrink(1),C.rcss.pt(8),{wordBreak:"break-all"}],privateBanner:[C.rcss.maxWidth("100%"),C.rcss.backgroundColor.backgroundDefault,C.rcss.rowWithGap(12),C.rcss.borderRadius(4),C.rcss.p(8),C.rcss.align.center],privateTitle:[C.rcss.fontWeight.medium],info:[C.rcss.display.block,C.rcss.flex.wrap,C.rcss.pb(4),C.rcss.flex.grow(1)],forkedUser:[C.rcss.display.inline],forkedUserLink:[C.rcss.color.foregroundDefault]}),rU=function(e){var r,t,n,i,s,o,a,u,d,h=e.repl,p=e.iconEditable,x=(0,v._)((0,l.useReplViewSidebarInfoTitleUpdateReplMutation)(),1)[0],f=(r=function(e){return x({variables:{input:{id:h.id,iconUrl:e}},optimisticResponse:{__typename:"RootMutationType",updateRepl:{__typename:"UpdateReplPayload",repl:(0,e_._)((0,c._)({},h),{iconUrl:e})}}})},n=(t=(0,v._)((0,b.useState)(null),2))[0],i=t[1],o=(s=(0,v._)((0,b.useState)(null),2))[0],a=s[1],u=(0,ru.default)({onUpload:function(e){var t=e.url;i(null),r(t)},onUploadPreview:function(e){var r=e.dataUrl;a(null),i(r)},onError:function(e){i(null),a(e.message)}}),d=(0,b.useCallback)(function(){return a(null)},[]),(0,e_._)((0,c._)({},u),{error:o,clearError:d,previewUrl:n}));return(0,j.jsxs)(U.View,{gap:8,children:[(0,j.jsxs)(U.View,{gap:8,children:[p?null:(0,j.jsx)(rc,{iconUrl:h.iconUrl,alt:"",size:64}),p?(0,j.jsx)(U.View,{css:rT.iconEdit,children:(0,j.jsx)(rg,{size:64,value:f.previewUrl||h.iconUrl,onUpload:function(e){return f.uploadImage(e,ek.ImageUploadContexts.ReplIcon)},isUploading:!!f.previewUrl})}):null,(0,j.jsx)(T.Header,{variant:"headerDefault",level:1,css:rT.title,children:h.title})]}),f.error?(0,j.jsx)(U.View,{align:"start",children:(0,j.jsx)(rw.StatusBanner,{icon:(0,j.jsx)(rV.default,{}),colorway:"negative",text:f.error,closable:!0,closeAction:f.clearError})}):null]})},rF=function(e){var r,t=e.repl,n=t.user,i=t.orgPublicInfo,s="OrgPublicInfo"===i.__typename?i:void 0;return(0,j.jsxs)(U.View,{gap:8,children:[(0,j.jsx)(U.View,{row:!0,gap:8,children:(0,j.jsx)(rs,{user:n,org:s})}),(0,j.jsx)(U.View,{css:rT.info,row:!0,children:(null==(r=t.origin)?void 0:r.owner)?(0,j.jsxs)(T.Text,{color:"dimmer",multiline:!0,variant:"small",children:["Remixed from"," ",(0,j.jsx)(U.View,{css:rT.forkedUser,row:!0,gap:2,children:(0,j.jsxs)(e9.default,(0,e_._)((0,c._)({},(0,r_.replLinkProps)(t.origin)),{css:rT.forkedUserLink,children:[t.origin.owner.username,"/",t.origin.title]}))})]}):null}),t.description?(0,j.jsx)(rR,{collapsedHeight:116,children:(0,j.jsx)(rk.default,{children:t.description})}):null,s&&t.isPrivate?(0,j.jsxs)(U.View,{css:rT.privateBanner,children:[(0,j.jsx)(rC.default,{color:R.tokens.foregroundDimmer}),(0,j.jsxs)(U.View,{grow:!0,shrink:!0,children:[(0,j.jsxs)(T.Text,{color:"dimmer",css:rT.privateTitle,children:["Internal to ",s.name]}),(0,j.jsxs)(T.Text,{variant:"small",color:"dimmest",children:["Only members of ",s.name," can see this page."]})]})]}):null]})};function rS(e){var r=e.repl;return(0,j.jsxs)(U.View,{gap:8,children:[(0,j.jsx)(rU,{repl:r,iconEditable:r.authorizations.editMetadata.isAuthorized}),(0,j.jsx)(rF,{repl:r})]})}var rD=(0,_.cssRecord)({root:[C.rcss.width("30%"),C.rcss.overflowX("hidden"),C.rcss.overflowY("auto"),C.rcss.pt(64),(0,I._)({},C.media.max("tabletMax"),[C.rcss.width("100%"),C.rcss.pt(24)])],container:[C.rcss.width("100%"),C.rcss.flex.growAndShrink(1),(r={},(0,I._)(r,C.media.min("mobileMax"),[C.rcss.maxWidth("75%"),{margin:"0 auto"}]),(0,I._)(r,C.media.min("tabletMin"),[C.rcss.width("100%")]),(0,I._)(r,C.media.min(1400),[C.rcss.maxWidth(356),{margin:"0 auto"}]),r)]});function rP(e){var r=e.repl,t=e.currentUser;return(0,j.jsx)(U.View,{css:rD.root,gap:12,children:(0,j.jsxs)(U.View,{css:rD.container,children:[(0,j.jsx)(rS,{repl:r}),(0,j.jsx)(e4,{repl:r,currentUser:t}),(0,j.jsx)(e3,{repl:r,currentUser:t})]})})}var rI=(0,_.cssRecord)({root:[C.rcss.borderRadius(6),C.rcss.overflow("hidden"),(0,I._)({},C.media.max("tabletMax"),[{aspectRatio:"16 / 9"}])],filetree:[C.rcss.width(200),C.rcss.display.none,C.rcss.colorMixBg(R.tokens.backgroundRoot,R.tokens.backgroundDefault),C.rcss.px(6),(t={},(0,I._)(t,C.media.min("mobileMax"),[C.rcss.display.flex]),(0,I._)(t,C.media.min("tabletMin"),[C.rcss.width(240)]),t)]});function rA(e){var r,t=e.viewer;return(0,j.jsxs)(U.View,{css:rI.root,grow:!0,shrink:!0,row:!0,children:[(0,j.jsx)(U.View,{css:rI.filetree,children:(0,j.jsx)(em,{fs:t.fs,onFileSelect:function(e){t.openFile({path:e.path})}})}),(0,j.jsx)(U.View,{grow:!0,children:(null==(r=t.viewState)?void 0:r.deeplink)?(0,j.jsx)(ep,{deeplink:t.viewState.deeplink,fs:t.viewState.fs}):(0,j.jsx)(ef,{})})]})}var rE=e.i(721321),rM=e.i(812432),rL=e.i(841691),rO=e.i(476891),rz=(0,_.cssRecord)({root:[C.rcss.width("100%"),(0,I._)({},C.media.min("tabletMax"),[C.rcss.height("90vh"),C.rcss.rowWithGap(12)])],mainPage:[C.rcss.border({direction:"full",width:1,color:R.tokens.outlineDimmest}),C.rcss.borderRadius(8),{margin:"2% 0",overflow:"hidden"}],header:[C.rcss.height(48),C.rcss.display.flex,C.rcss.justify.spaceBetween,C.rcss.border({direction:"bottom",width:1,color:R.tokens.outlineDimmest}),{padding:"0 16px"}],headerSide:[C.rcss.width(200),C.rcss.display.flex,C.rcss.justify.end,(0,I._)({},C.media.max("tabletMin"),[C.rcss.visuallyHidden])],toggle:[(0,I._)({},C.media.max("tabletMin"),[C.rcss.width("full"),C.rcss.justify.center,{margin:"0 auto"}])],imageContainer:[C.rcss.width("100%"),C.rcss.height("90%")],img:[C.rcss.width("100%"),C.rcss.height("100%"),C.rcss.position.relative,(0,I._)({},C.media.max("tabletMax"),[{height:"300px",minHeight:"300px"}])]}),rB=function(e){var r,t,n=e.repl,i=null!=(t=n.imageUrl)?t:null==(r=n.templateInfo)?void 0:r.imageUrl;return i?(0,j.jsx)(U.View,{css:rz.imageContainer,p:12,children:(0,j.jsx)(U.View,{css:rz.img,children:(0,j.jsx)(eR.default,{src:i,alt:"Preview",layout:"fill",objectFit:"contain",priority:!0})})}):null};function rq(e){var r,t,n,i=e.repl,s=e.currentUser,l=e.viewer,o=!!(null==(r=i.config)?void 0:r.isAgentRepl),a=(0,v._)((0,b.useState)("preview"),2),c=a[0],u=a[1],d=null!=(n=i.imageUrl)?n:null==(t=i.templateInfo)?void 0:t.imageUrl,h=!d||d===ek.DEFAULT_REPL_IMAGE;return(0,b.useEffect)(function(){h&&u("code")},[h]),(0,j.jsxs)(U.View,{css:rz.root,grow:!0,px:12,pb:4,pt:24,gap:12,children:[(0,j.jsx)(rP,{repl:i,currentUser:s}),(0,j.jsxs)(U.View,{css:rz.mainPage,grow:!0,shrink:!0,children:[(0,j.jsxs)(U.View,{row:!0,css:rz.header,align:"center",children:[(0,j.jsx)(U.View,{css:rz.headerSide,children:o?(0,j.jsxs)(U.View,{row:!0,align:"center",gap:8,children:[(0,j.jsx)(rM.default,{}),(0,j.jsx)(T.Text,{color:"dimmest",children:"Generated by Replit Agent"})]}):null}),(0,j.jsx)(U.View,{css:rz.toggle,children:(0,j.jsxs)(rE.ButtonGroup,{name:"view-mode",value:c,onChange:function(e){return u(e)},row:!0,children:[!h&&(0,j.jsx)(rE.ButtonGroupItem,{id:"view-mode-preview",value:"preview",text:"Preview",icon:(0,j.jsx)(rL.default,{})}),(0,j.jsx)(rE.ButtonGroupItem,{id:"view-mode-code",value:"code",text:"Code",icon:(0,j.jsx)(rO.default,{})})]})}),(0,j.jsx)(U.View,{css:rz.headerSide,children:(0,j.jsx)(eD,{replId:i.id,deploymentMetadata:i.deploymentMetadata,size:"small"})})]}),"code"===c?(0,j.jsx)(rA,{viewer:l}):(0,j.jsx)(rB,{repl:i})]})]})}var rH=e.i(714260),rG=e.i(788124);function rW(e){var r,t,n=e.repl,i=e.children;return(0,j.jsx)(rH.default.Provider,{value:n.id,children:(0,j.jsx)(rG.default,{children:(0,j.jsx)(eQ.ForkContextProvider,{repl:n,template:n.publishedAs===eC.PublishedReplKind.Template,forkParams:{replReleaseId:(null==(t=n.deployment)||null==(r=t.activeRelease)?void 0:r.id)||void 0,trackingData:{forkSource:"coverPage",isApp:n.publishedAs===eC.PublishedReplKind.App,isTemplate:n.publishedAs===eC.PublishedReplKind.Template}},children:i})})})}e.i(759130);var r$=e.i(214007),rK=e.i(33699),rN=e.i(399528),rY=e.i(629712),rX=e.i(294426),rQ=e.i(501005),rZ=!!rK.default.env.CAPTCHA_EMBEDS,rJ=e.i(736318),r0=e.i(494065),r2=e.i(240913),r1=e.i(903381);function r4(e){var r,t,n,i,s,l,o,a,c,u,d,h,p,x,f,g,w,m,y,R,k,_,C,V,T,U,F,S,D,P,I,A,E,M,L,O,z,B=e.repl,H=e.embedded,$=e.currentUser,K=(n=(r={enableDeeplinks:!0,repl:B,currentUser:$}).currentUser,i=r.repl,s=r.enableDeeplinks,l=(0,v._)((0,b.useState)(function(){var e,r,t;return r=(e={isLoggedIn:void 0!==n,replId:i.id}).isLoggedIn,t=e.replId,{fs:(0,rY.createZipperFsService)({replId:t,getCaptcha:function(){return(0,G._)(function(){var e,t,n;return(0,W._)(this,function(i){switch(i.label){case 0:if(n=!!(rN.default.query.lite||rN.default.query.embed),r||n&&!rZ)return[3,5];i.label=1;case 1:return i.trys.push([1,3,,5]),[4,(0,rX.getRecaptchaToken)({action:"genZipperToken"})];case 2:return t=i.sent(),[3,5];case 3:return i.sent(),[4,(0,rQ.default)()];case 4:return e=i.sent(),[3,5];case 5:return[2,{isEmbed:n,recaptchaToken:t,captcha:e,hCaptchaSiteKey:rQ.HCAPTCHA_SITE_KEY}]}})})()}})}}),1)[0].fs,o=(0,b.useRef)((0,rJ.hasHash)()),a=(null==(t=i.replViewSettings)?void 0:t.defaultView)===eC.Repl_View_SettingsdefaultViewEnumType.ReplFile&&i.replViewSettings.replFile?i.replViewSettings.replFile:void 0,c={type:"Readme"},a&&(c={type:"FilePath",path:a}),d=(u=(0,v._)((0,b.useState)(function(){return{fs:l}}),2))[0],h=u[1],x=(p=(0,v._)((0,b.useState)(o.current),2))[0],f=p[1],g=!!(!(null==d?void 0:d.deeplink)&&!o.current),w=(0,b.useCallback)(function(){return(0,G._)(function(){var e,r,t;return(0,W._)(this,function(n){switch(n.label){case 0:return[4,l.readFile(".replit")];case 1:if((e=n.sent()).error)return[2,null];try{return r=(0,r$.parse)(e.content.toString()),[2,null!=(t=r.entrypoint)?t:null]}catch(e){return[2,null]}}})})()},[l]),y=(m={fs:l,getEntrypoint:w,preferredFile:c,skip:!g}).fs,R=m.getEntrypoint,k=m.skip,_=m.preferredFile,V=(C=(0,v._)((0,b.useState)(null),2))[0],T=C[1],(0,b.useEffect)(function(){if(!k){var e=!1;return Promise.all([function(e){return(0,G._)(function(e){var r,t,n,i,s,l,o,a,c;return(0,W._)(this,function(u){switch(u.label){case 0:return r=e.dotReplit,[4,Promise.all([(t=e.fs).readDir(r2.ROOT_PATH),(0,G._)(function(){var e;return(0,W._)(this,function(t){switch(t.label){case 0:if("function"==typeof r)return[2,r()];return[4,r.getConfig()];case 1:return[2,null==(e=t.sent().config)?void 0:e.entrypoint]}})})()])];case 1:if(i=(n=v._.apply(void 0,[u.sent(),2]))[0],s=n[1],!i||i.error)throw Error("Could not read files");return o=(l=i.children).find(function(e){return e.type===r1.FileType.File&&e.filename.toLowerCase().endsWith("readme.md")}),a=l.filter(function(e){return e.type===r1.FileType.File}).map(function(e){return e.filename}),[4,(0,G._)(function(){var e,r;return(0,W._)(this,function(n){switch(n.label){case 0:if(!(e=s))return[2,null];if(!(0,q.getParentPath)(e))return[2,a.includes(e)?e:null];return[4,t.stat(e)];case 1:return[2,(r=n.sent()).exists&&r.type===r1.FileType.File?e:null]}})})()];case 2:if(c=u.sent())return[2,{entrypoint:c,readmeFile:null==o?void 0:o.filename}];return[2,{entrypoint:function(e){var r=e.find(function(e){return e.toLowerCase().endsWith("readme.md")});if(r)return r;if(e.includes("Makefile"))return"Makefile";var t=e.find(q.isMarkdownFile);return t||e.find(function(e){return![".replit","replit.nix"].includes(e)&&!(0,r0.isHiddenFile)(e)&&!(0,r0.isDotFile)(e)})}(a),readmeFile:null==o?void 0:o.filename}]}})}).apply(this,arguments)}({dotReplit:R,fs:y}),(null==_?void 0:_.type)==="FilePath"?y.stat(_.path):null]).then(function(r){var t=(0,v._)(r,2),n=t[0],i=n.entrypoint,s=n.readmeFile,l=t[1];if(!e){if((null==_?void 0:_.type)==="FilePath"&&l&&l.exists&&l.type===r1.FileType.File)return void T(_.path);if(i)T(i);else if((null==_?void 0:_.type)==="Readme"&&s)return void T(s)}}),function(){e=!0}}},[y,R,k,_]),U=V,S=(F={fs:l,currentDeeplink:null==d?void 0:d.deeplink,onChange:function(e){h({deeplink:null!=e?e:void 0,fs:l})},enabled:s}).currentDeeplink,D=F.onChange,P=F.fs,I=F.enabled,A=(0,b.useRef)(!1),E=(0,rN.useRouter)(),M=(0,b.useCallback)(function(){return(0,G._)(function(){var e,r,t,n;return(0,W._)(this,function(i){switch(i.label){case 0:if(A.current)return[2];return[4,(0,rJ.parseHash)(P)];case 1:if(r=(e=i.sent()).path,t=e.line,n=e.col,!r)return D(null),[2];return D({path:r,line:t,col:n}),[2]}})})()},[P,D]),O=(L=(0,v._)((0,b.useState)(!1),2))[0],z=L[1],(0,b.useEffect)(function(){O||M().then(function(){return z(!0)})}),(0,b.useEffect)(function(){if(I)return window.addEventListener("hashchange",M),function(){window.removeEventListener("hashchange",M)}},[I,M]),(0,b.useEffect)(function(){if(I&&S&&E.isReady){var e=(0,rJ.deeplinkToHash)(S),r=E.asPath;try{r=window.decodeURI(r)}catch(e){}if(!r.endsWith(e)){var t=E.asPath.includes("#")?E.asPath.slice(0,E.asPath.indexOf("#")):E.asPath;A.current=!0,E.replace({pathname:E.pathname,query:E.query},"".concat(t).concat(e),{shallow:!0}),A.current=!1}}},[P,S,I]),(0,b.useEffect)(function(){if((0,rJ.hasHash)()){var e=!1;return(0,rJ.parseHash)(l).then(function(r){var t=r.path,n=r.line,i=r.col;e||t&&h({fs:l,deeplink:{path:t,line:n,col:i}})}),function(){e=!0}}},[l]),(0,b.useEffect)(function(){!g||U&&h({fs:l,deeplink:{path:U}})},[g,U,l]),{fs:l,openFile:function(e){h({fs:l,deeplink:e})},viewState:d,isFileTreeOpen:x,setIsFileTreeOpen:f});return(0,j.jsx)(rW,{repl:B,children:H?(0,j.jsx)(eb,{viewer:K,repl:B}):(0,j.jsx)(rq,{viewer:K,repl:B,currentUser:$})})}e.s(["default",()=>r4],67924)}]);

//# debugId=b0a562f8-de97-eea8-f5e5-67c64cd72d36
//# sourceMappingURL=c83bddb5623efe5c.js.map