# ðŸ“˜ Ø¯Ù„ÙŠÙ„ Code Executor Agent - Phase 3.2

**Ø§Ù„Ø¥ØµØ¯Ø§Ø±:** 1.0  
**ØªØ§Ø±ÙŠØ® Ø§Ù„Ø¥Ù†Ø´Ø§Ø¡:** 15 Ù†ÙˆÙÙ…Ø¨Ø± 2025  
**Ø§Ù„Ø­Ø§Ù„Ø©:** âœ… Ù…ÙƒØªÙ…Ù„  
**Ø§Ù„Ù…Ø±Ø­Ù„Ø©:** Phase 3.2 - Code Executor Agent Development

---

## ðŸ“‹ Ù†Ø¸Ø±Ø© Ø¹Ø§Ù…Ø©

**Code Executor Agent** Ù‡Ùˆ Ø§Ù„ÙˆÙƒÙŠÙ„ Ø§Ù„Ù…Ø³Ø¤ÙˆÙ„ Ø¹Ù† ØªÙˆÙ„ÙŠØ¯ Ø§Ù„Ø£ÙƒÙˆØ§Ø¯ØŒ Ø¥Ù†Ø´Ø§Ø¡ Ù‡ÙŠØ§ÙƒÙ„ Ø§Ù„Ù…Ø´Ø§Ø±ÙŠØ¹ØŒ Ø¥Ø¯Ø§Ø±Ø© Ø§Ù„Ø§Ø¹ØªÙ…Ø§Ø¯ÙŠØ§ØªØŒ ÙˆØ¥ØµÙ„Ø§Ø­ Ø§Ù„Ø£Ø®Ø·Ø§Ø¡ ÙÙŠ Ø§Ù„Ù…Ù†ØµØ©. ÙŠØªÙƒØ§Ù…Ù„ Ø¨Ø³Ù„Ø§Ø³Ø© Ù…Ø¹ **Planner Agent** Ù„ØªÙ†ÙÙŠØ° Ø§Ù„Ù…Ù‡Ø§Ù… Ø§Ù„Ø¨Ø±Ù…Ø¬ÙŠØ©.

### Ø§Ù„Ù…Ø³Ø¤ÙˆÙ„ÙŠØ§Øª Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠØ©

1. **ØªÙˆÙ„ÙŠØ¯ Ø§Ù„Ø£ÙƒÙˆØ§Ø¯:** Ø§Ø³ØªØ®Ø¯Ø§Ù… AI Ù„ØªÙˆÙ„ÙŠØ¯ Ø£ÙƒÙˆØ§Ø¯ Ø¹Ø§Ù„ÙŠØ© Ø§Ù„Ø¬ÙˆØ¯Ø© Ø¨Ù„ØºØ§Øª Ù…ØªØ¹Ø¯Ø¯Ø©
2. **Ø¥Ù†Ø´Ø§Ø¡ Ø§Ù„Ù…Ø´Ø§Ø±ÙŠØ¹:** Ø¥Ù†Ø´Ø§Ø¡ Ù‡ÙŠØ§ÙƒÙ„ Ø§Ù„Ù…Ù„ÙØ§Øª ÙˆØ§Ù„Ù…Ø¬Ù„Ø¯Ø§Øª Ù„Ù„Ù…Ø´Ø§Ø±ÙŠØ¹
3. **Ø¥Ø¯Ø§Ø±Ø© Ø§Ù„Ø§Ø¹ØªÙ…Ø§Ø¯ÙŠØ§Øª:** ØªØ«Ø¨ÙŠØª ÙˆØ¥Ø¯Ø§Ø±Ø© packages (pip, npm, etc.)
4. **Ø¥ØµÙ„Ø§Ø­ Ø§Ù„Ø£Ø®Ø·Ø§Ø¡:** Ø¥ØµÙ„Ø§Ø­ Ø§Ù„Ø£ÙƒÙˆØ§Ø¯ ØªÙ„Ù‚Ø§Ø¦ÙŠØ§Ù‹ Ø¨Ø§Ø³ØªØ®Ø¯Ø§Ù… AI
5. **ØªÙ†ÙÙŠØ° Ø§Ù„Ø£ÙƒÙˆØ§Ø¯:** ØªØ´ØºÙŠÙ„ Python/Bash scripts

### Ø§Ù„Ù…ÙŠØ²Ø§Øª Ø§Ù„Ø¬Ø¯ÙŠØ¯Ø© (Phase 3.2)

- âœ… **ØªÙˆÙ„ÙŠØ¯ Ø£ÙƒÙˆØ§Ø¯ Ø°ÙƒÙŠ:** AI-powered code generation Ù„Ù€ 8 Ù„ØºØ§Øª
- âœ… **Ù…Ø¹Ø§Ù„Ø¬Ø© Ø§Ù„ØªØ¹Ø§Ø±Ø¶Ø§Øª:** Conflict handling Ù…Ø¹ backup ØªÙ„Ù‚Ø§Ø¦ÙŠ
- âœ… **Rollback Ø¢Ù„ÙŠ:** Ø§Ù„ØªØ±Ø§Ø¬Ø¹ Ø§Ù„ØªÙ„Ù‚Ø§Ø¦ÙŠ Ø¹Ù†Ø¯ Ø­Ø¯ÙˆØ« Ø£Ø®Ø·Ø§Ø¡
- âœ… **Package installation:** ØªØ«Ø¨ÙŠØª Ø­Ù‚ÙŠÙ‚ÙŠ Ù„Ù„Ù€ dependencies
- âœ… **Input validation:** Ø§Ù„ØªØ­Ù‚Ù‚ Ù…Ù† ØµØ­Ø© Ø§Ù„Ù…Ø¯Ø®Ù„Ø§Øª
- âœ… **Error recovery:** Ø¥ØµÙ„Ø§Ø­ ØªÙ„Ù‚Ø§Ø¦ÙŠ Ù„Ù„Ø£Ø®Ø·Ø§Ø¡ Ù…Ø¹ retry logic

---

## ðŸ—ï¸ Ø§Ù„Ø¨Ù†ÙŠØ© Ø§Ù„Ù…Ø¹Ù…Ø§Ø±ÙŠØ©

### Ø§Ù„Ù…Ù„ÙØ§Øª Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠØ©

```
dev_platform/
â”œâ”€â”€ agents/
â”‚   â”œâ”€â”€ code_executor_agent.py     # Ø§Ù„ÙˆÙƒÙŠÙ„ Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠ (793 lines)
â”‚   â””â”€â”€ schemas.py                 # Schemas (CodeArtifact, DependencyConfig, etc.)
â”œâ”€â”€ tools/
â”‚   â”œâ”€â”€ code_generator.py          # ØªÙˆÙ„ÙŠØ¯ Ø§Ù„Ø£ÙƒÙˆØ§Ø¯ (115 lines, 89% coverage)
â”‚   â””â”€â”€ dependency_manager.py      # Ø¥Ø¯Ø§Ø±Ø© Ø§Ù„Ø§Ø¹ØªÙ…Ø§Ø¯ÙŠØ§Øª (112 lines, 91% coverage)
â””â”€â”€ tests/
    â”œâ”€â”€ unit/test_code_generator.py
    â”œâ”€â”€ unit/test_dependency_manager.py
    â”œâ”€â”€ unit/test_code_executor_async.py
    â””â”€â”€ integration/test_code_executor_integration.py
```

### Ø§Ù„Ù…ÙƒÙˆÙ†Ø§Øª Ø§Ù„Ø£Ø³Ø§Ø³ÙŠØ©

```mermaid
graph TD
    A[CodeExecutorAgent] --> B[CodeGenerator]
    A --> C[DependencyManager]
    A --> D[BaseAgent]
    B --> E[ModelRouter]
    A --> F[WorkflowStorage]
```

---

## ðŸ“Š Schemas Ø§Ù„Ø£Ø³Ø§Ø³ÙŠØ©

### 1. CodeArtifact

```python
class CodeArtifact(BaseModel):
    """Ù…Ø®Ø±Ø¬Ø§Øª ØªÙˆÙ„ÙŠØ¯ Ø§Ù„ÙƒÙˆØ¯"""
    language: CodeLanguage         # Ø§Ù„Ù„ØºØ© Ø§Ù„Ø¨Ø±Ù…Ø¬ÙŠØ©
    file_path: str                 # Ù…Ø³Ø§Ø± Ø§Ù„Ù…Ù„Ù (Ù†Ø³Ø¨ÙŠ)
    content: str                   # Ù…Ø­ØªÙˆÙ‰ Ø§Ù„ÙƒÙˆØ¯
    description: Optional[str]     # ÙˆØµÙ Ø§Ù„ÙƒÙˆØ¯
    dependencies: List[str]        # Ø§Ù„Ø§Ø¹ØªÙ…Ø§Ø¯ÙŠØ§Øª Ø§Ù„Ù…Ø·Ù„ÙˆØ¨Ø©
    task_id: Optional[int]         # Ø±Ù‚Ù… Ø§Ù„Ù…Ù‡Ù…Ø©
    is_entry_point: bool           # Ù‡Ù„ Ù‡Ùˆ entry pointØŸ
```

**Ø§Ù„Ù„ØºØ§Øª Ø§Ù„Ù…Ø¯Ø¹ÙˆÙ…Ø©:**
- Python, JavaScript, TypeScript
- HTML, CSS
- JSON, YAML, Markdown

### 2. DependencyConfig

```python
class DependencyConfig(BaseModel):
    """Ø¥Ø¹Ø¯Ø§Ø¯Ø§Øª Ø§Ù„Ø§Ø¹ØªÙ…Ø§Ø¯ÙŠØ§Øª"""
    language: str                  # python, node, etc.
    packages: List[str]            # Ø§Ù„Ù‚ÙˆØ§Ø¦Ù… Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠØ©
    dev_packages: List[str]        # Ù‚ÙˆØ§Ø¦Ù… Ø§Ù„ØªØ·ÙˆÙŠØ±
    config_file: str               # requirements.txt, package.json
    install_command: str           # pip install -r, npm install
```

### 3. CodeGenerationRequest

```python
class CodeGenerationRequest(BaseModel):
    """Ø·Ù„Ø¨ ØªÙˆÙ„ÙŠØ¯ ÙƒÙˆØ¯"""
    task: Task                     # Ø§Ù„Ù…Ù‡Ù…Ø© Ø§Ù„Ù…Ø±Ø§Ø¯ ØªÙ†ÙÙŠØ°Ù‡Ø§
    project_context: Dict          # Ø³ÙŠØ§Ù‚ Ø§Ù„Ù…Ø´Ø±ÙˆØ¹
    template_name: Optional[str]   # Template Ø§Ø®ØªÙŠØ§Ø±ÙŠ
    target_directory: str          # Ø§Ù„Ù…Ø¬Ù„Ø¯ Ø§Ù„Ù‡Ø¯Ù
```

### 4. CodeGenerationResult

```python
class CodeGenerationResult(BaseModel):
    """Ù†ØªÙŠØ¬Ø© ØªÙˆÙ„ÙŠØ¯ Ø§Ù„ÙƒÙˆØ¯"""
    success: bool
    artifacts: List[CodeArtifact]  # Ø§Ù„Ø£ÙƒÙˆØ§Ø¯ Ø§Ù„Ù…ÙˆÙ„Ø¯Ø©
    dependencies: Optional[DependencyConfig]
    errors: List[str]
    warnings: List[str]
    files_created: List[str]
    execution_time_seconds: float
```

### 5. ExecutionError

```python
class ExecutionError(BaseModel):
    """Ø®Ø·Ø£ ÙÙŠ Ø§Ù„ØªÙ†ÙÙŠØ°"""
    error_type: str                # syntax, runtime, import, etc.
    message: str
    line_number: Optional[int]
    column_number: Optional[int]
    file_path: Optional[str]
    severity: ErrorSeverity        # INFO, WARNING, ERROR, CRITICAL
    stack_trace: Optional[str]
    suggested_fix: Optional[str]
    timestamp: str
```

---

## ðŸ”§ Async API Methods

### 1. generate_code()

```python
async def generate_code(
    self,
    request: CodeGenerationRequest
) -> CodeGenerationResult
```

**Ø§Ù„ÙˆØµÙ:** ØªÙˆÙ„ÙŠØ¯ ÙƒÙˆØ¯ Ø¨Ø§Ø³ØªØ®Ø¯Ø§Ù… AI Ø¨Ù†Ø§Ø¡Ù‹ Ø¹Ù„Ù‰ Ù…Ù‡Ù…Ø© Ù…Ø¹ÙŠÙ†Ø©

**Parameters:**
- `request`: CodeGenerationRequest Ù…Ø¹ Task Ùˆcontext

**Returns:** CodeGenerationResult Ù…Ø¹ artifacts ÙˆØ§Ù„Ø§Ø¹ØªÙ…Ø§Ø¯ÙŠØ§Øª

**Ù…Ø«Ø§Ù„:**

```python
from dev_platform.agents.schemas import Task, CodeGenerationRequest

# Ø¥Ù†Ø´Ø§Ø¡ Ù…Ù‡Ù…Ø©
task = Task(
    id=1,
    title="Create Flask API endpoint",
    description="Create a RESTful API endpoint for user registration",
    status="pending"
)

# Ø¥Ù†Ø´Ø§Ø¡ Ø·Ù„Ø¨
request = CodeGenerationRequest(
    task=task,
    project_context={
        "project_name": "my_api",
        "project_type": "api",
        "technologies": ["python", "flask"]
    }
)

# ØªÙˆÙ„ÙŠØ¯ Ø§Ù„ÙƒÙˆØ¯
result = await code_executor.generate_code(request)

if result.success:
    print(f"âœ“ Generated {len(result.artifacts)} files")
    for artifact in result.artifacts:
        print(f"  - {artifact.file_path}: {len(artifact.content)} chars")
else:
    print(f"âœ— Errors: {result.errors}")
```

**Ø§Ù„Ù…ÙŠØ²Ø§Øª:**
- âœ… Validation Ù„Ù„Ù…Ø¯Ø®Ù„Ø§Øª (ÙŠØ¬Ø¨ Ø£Ù† ÙŠÙƒÙˆÙ† Ù„Ù„Ù…Ù‡Ù…Ø© title Ø£Ùˆ description)
- âœ… ØªØ­ÙˆÙŠÙ„ ØªÙ„Ù‚Ø§Ø¦ÙŠ Ù„Ù€ language Ø¥Ù„Ù‰ CodeLanguage enum
- âœ… Ø§Ø³ØªØ®Ø±Ø§Ø¬ Ø§Ù„Ø§Ø¹ØªÙ…Ø§Ø¯ÙŠØ§Øª ØªÙ„Ù‚Ø§Ø¦ÙŠØ§Ù‹
- âœ… Error handling Ø´Ø§Ù…Ù„

---

### 2. create_file_structure()

```python
async def create_file_structure(
    self,
    structure: ProjectStructure,
    base_path: str = ".",
    overwrite: bool = False,
    backup: bool = True
) -> Dict
```

**Ø§Ù„ÙˆØµÙ:** Ø¥Ù†Ø´Ø§Ø¡ Ù‡ÙŠÙƒÙ„ Ù…Ù„ÙØ§Øª Ø§Ù„Ù…Ø´Ø±ÙˆØ¹ Ù…Ø¹ Ù…Ø¹Ø§Ù„Ø¬Ø© Ø§Ù„ØªØ¹Ø§Ø±Ø¶Ø§Øª

**Parameters:**
- `structure`: ProjectStructure Ù…Ø¹ Ø§Ù„Ù…Ù„ÙØ§Øª ÙˆØ§Ù„Ù…Ø¬Ù„Ø¯Ø§Øª
- `base_path`: Ø§Ù„Ù…Ø³Ø§Ø± Ø§Ù„Ø£Ø³Ø§Ø³ÙŠ (Ø§ÙØªØ±Ø§Ø¶ÙŠ: ".")
- `overwrite`: Ø§Ù„Ø³Ù…Ø§Ø­ Ø¨Ø§Ù„ÙƒØªØ§Ø¨Ø© ÙÙˆÙ‚ Ø§Ù„Ù…Ù„ÙØ§Øª Ø§Ù„Ù…ÙˆØ¬ÙˆØ¯Ø©
- `backup`: Ø¥Ù†Ø´Ø§Ø¡ Ù†Ø³Ø® Ø§Ø­ØªÙŠØ§Ø·ÙŠØ© Ù‚Ø¨Ù„ Ø§Ù„ÙƒØªØ§Ø¨Ø© ÙÙˆÙ‚ Ø§Ù„Ù…Ù„ÙØ§Øª

**Returns:**
```python
{
    "success": True,
    "files_created": ["src/main.py", "src/utils.py"],
    "folders_created": ["src", "tests"],
    "total_items": 4,
    "conflicts": ["src/main.py"],  # Ù…Ù„ÙØ§Øª Ù…ÙˆØ¬ÙˆØ¯Ø© Ù…Ø³Ø¨Ù‚Ø§Ù‹
    "backups": ["src/main.py.backup_20251115_143022"],
    "conflicts_count": 1
}
```

**Ù…Ø«Ø§Ù„:**

```python
from dev_platform.agents.schemas import ProjectStructure

# Ø¥Ù†Ø´Ø§Ø¡ Ù‡ÙŠÙƒÙ„ Ù…Ø´Ø±ÙˆØ¹
structure = ProjectStructure(
    folders=["src", "tests", "docs"],
    files=[
        {
            "path": "src/main.py",
            "content": "def main():\n    print('Hello!')"
        },
        {
            "path": "tests/test_main.py",
            "content": "import unittest\n..."
        },
        {
            "path": "README.md",
            "content": "# My Project\n\nDescription..."
        }
    ]
)

# Ø¥Ù†Ø´Ø§Ø¡ Ø§Ù„Ù‡ÙŠÙƒÙ„
result = await code_executor.create_file_structure(
    structure=structure,
    base_path="./my_project",
    overwrite=True,
    backup=True
)

print(f"âœ“ Created {result['total_items']} items")
if result['conflicts']:
    print(f"âš  {len(result['conflicts'])} conflicts (backed up)")
```

**Ø§Ù„Ù…ÙŠØ²Ø§Øª:**
- âœ… **Conflict detection:** ÙƒØ´Ù Ø§Ù„Ù…Ù„ÙØ§Øª Ø§Ù„Ù…ÙˆØ¬ÙˆØ¯Ø©
- âœ… **Backup ØªÙ„Ù‚Ø§Ø¦ÙŠ:** Ù†Ø³Ø® Ø§Ø­ØªÙŠØ§Ø·ÙŠ Ù‚Ø¨Ù„ Ø§Ù„ÙƒØªØ§Ø¨Ø© ÙÙˆÙ‚
- âœ… **Rollback Ø¢Ù„ÙŠ:** Ø§Ù„ØªØ±Ø§Ø¬Ø¹ Ø§Ù„ØªÙ„Ù‚Ø§Ø¦ÙŠ Ø¹Ù†Ø¯ Ø­Ø¯ÙˆØ« Ø£Ø®Ø·Ø§Ø¡
- âœ… **Ø¯Ø¹Ù… Dict Ùˆ String:** Ù…Ø±ÙˆÙ†Ø© ÙÙŠ ØªØ¹Ø±ÙŠÙ Ø§Ù„Ù…Ù„ÙØ§Øª

---

### 3. install_dependencies()

```python
async def install_dependencies(
    self,
    dependencies: DependencyConfig,
    base_path: str = ".",
    auto_install: bool = False
) -> Dict
```

**Ø§Ù„ÙˆØµÙ:** ØªØ«Ø¨ÙŠØª Ø§Ù„Ø§Ø¹ØªÙ…Ø§Ø¯ÙŠØ§Øª ÙˆØ¥Ù†Ø´Ø§Ø¡ Ù…Ù„ÙØ§Øª Ø§Ù„Ø¥Ø¹Ø¯Ø§Ø¯Ø§Øª

**Parameters:**
- `dependencies`: DependencyConfig Ù…Ø¹ Ø§Ù„Ù‚ÙˆØ§Ø¦Ù… ÙˆØ§Ù„Ø£ÙˆØ§Ù…Ø±
- `base_path`: Ø§Ù„Ù…Ø³Ø§Ø± Ø§Ù„Ø£Ø³Ø§Ø³ÙŠ
- `auto_install`: ØªØ«Ø¨ÙŠØª ØªÙ„Ù‚Ø§Ø¦ÙŠ Ù„Ù„Ø­Ø²Ù… (pip/npm)

**Returns:**
```python
{
    "success": True,
    "config_file": "./requirements.txt",
    "packages_count": 3,
    "install_command": "pip install -r requirements.txt",
    "installed": True,
    "install_output": "Successfully installed...",
    "message": "Dependencies installed and configured in requirements.txt"
}
```

**Ù…Ø«Ø§Ù„:**

```python
from dev_platform.agents.schemas import DependencyConfig

# Ø¥Ø¹Ø¯Ø§Ø¯ Ø§Ù„Ø§Ø¹ØªÙ…Ø§Ø¯ÙŠØ§Øª
deps = DependencyConfig(
    language="python",
    packages=["flask", "requests", "pydantic"],
    dev_packages=["pytest", "black"],
    config_file="requirements.txt",
    install_command="pip install -r requirements.txt"
)

# ØªØ«Ø¨ÙŠØª Ø§Ù„Ø§Ø¹ØªÙ…Ø§Ø¯ÙŠØ§Øª
result = await code_executor.install_dependencies(
    dependencies=deps,
    base_path="./my_project",
    auto_install=True  # ØªØ«Ø¨ÙŠØª ÙØ¹Ù„ÙŠ
)

if result['success'] and result['installed']:
    print(f"âœ“ Installed {result['packages_count']} packages")
    print(result['install_output'])
```

**Ø§Ù„Ù…ÙŠØ²Ø§Øª:**
- âœ… **Real installation:** ØªØ«Ø¨ÙŠØª Ø­Ù‚ÙŠÙ‚ÙŠ Ù„Ù„Ø­Ø²Ù… (asyncio subprocess)
- âœ… **Error handling:** Ù…Ø¹Ø§Ù„Ø¬Ø© Ø£Ø®Ø·Ø§Ø¡ Ø§Ù„ØªØ«Ø¨ÙŠØª
- âœ… **Output capture:** Ø§Ù„ØªÙ‚Ø§Ø· Ù…Ø®Ø±Ø¬Ø§Øª Ø§Ù„ØªØ«Ø¨ÙŠØª
- âœ… **Flexible install:** Ø§Ø®ØªÙŠØ§Ø±ÙŠ (config ÙÙ‚Ø· Ø£Ùˆ config + install)

---

### 4. apply_code_fixes()

```python
async def apply_code_fixes(
    self,
    fix_request: CodeFixRequest
) -> CodeFixResult
```

**Ø§Ù„ÙˆØµÙ:** Ø¥ØµÙ„Ø§Ø­ Ø§Ù„Ø£ÙƒÙˆØ§Ø¯ ØªÙ„Ù‚Ø§Ø¦ÙŠØ§Ù‹ Ø¨Ø§Ø³ØªØ®Ø¯Ø§Ù… AI

**Parameters:**
- `fix_request`: CodeFixRequest Ù…Ø¹ Ø§Ù„ÙƒÙˆØ¯ ÙˆØ§Ù„Ø£Ø®Ø·Ø§Ø¡

**Returns:**
```python
CodeFixResult(
    success=True,
    fixed_artifact=CodeArtifact(...),
    errors_fixed=[...],
    errors_remaining=[],
    fix_description="Fixed 3 errors in 2 attempts",
    attempts_used=2
)
```

**Ù…Ø«Ø§Ù„:**

```python
from dev_platform.agents.schemas import (
    CodeFixRequest, ExecutionError, ErrorSeverity
)

# ØªØ­Ø¯ÙŠØ¯ Ø§Ù„Ø£Ø®Ø·Ø§Ø¡
errors = [
    ExecutionError(
        error_type="syntax",
        message="invalid syntax",
        line_number=5,
        severity=ErrorSeverity.ERROR
    ),
    ExecutionError(
        error_type="import",
        message="ModuleNotFoundError: No module named 'flask'",
        line_number=1,
        severity=ErrorSeverity.ERROR
    )
]

# Ø·Ù„Ø¨ Ø§Ù„Ø¥ØµÙ„Ø§Ø­
fix_request = CodeFixRequest(
    artifact=original_artifact,
    errors=errors,
    max_attempts=3
)

# Ø¥ØµÙ„Ø§Ø­ Ø§Ù„Ø£Ø®Ø·Ø§Ø¡
result = await code_executor.apply_code_fixes(fix_request)

if result.success:
    print(f"âœ“ Fixed {len(result.errors_fixed)} errors")
    print(result.fix_description)
    
    # Ø§Ø³ØªØ®Ø¯Ø§Ù… Ø§Ù„ÙƒÙˆØ¯ Ø§Ù„Ù…ØµØ­Ø­
    fixed_code = result.fixed_artifact.content
else:
    print(f"âœ— {len(result.errors_remaining)} errors remaining")
```

**Ø§Ù„Ù…ÙŠØ²Ø§Øª:**
- âœ… **Retry logic:** Ù…Ø­Ø§ÙˆÙ„Ø§Øª Ù…ØªØ¹Ø¯Ø¯Ø© Ù„Ù„Ø¥ØµÙ„Ø§Ø­
- âœ… **AI-powered:** Ø§Ø³ØªØ®Ø¯Ø§Ù… model Ù„ÙÙ‡Ù… Ø§Ù„Ø£Ø®Ø·Ø§Ø¡ ÙˆØ¥ØµÙ„Ø§Ø­Ù‡Ø§
- âœ… **Error tracking:** ØªØªØ¨Ø¹ Ø§Ù„Ø£Ø®Ø·Ø§Ø¡ Ø§Ù„Ù…ØµÙ„Ø­Ø© ÙˆØ§Ù„Ø¨Ø§Ù‚ÙŠØ©
- âœ… **Attempts tracking:** Ø¹Ø¯Ø¯ Ø§Ù„Ù…Ø­Ø§ÙˆÙ„Ø§Øª Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù…Ø©

---

## ðŸ”„ Ø§Ù„ØªÙƒØ§Ù…Ù„ Ù…Ø¹ Planner Agent

### Ø³ÙŠØ± Ø§Ù„Ø¹Ù…Ù„ Ø§Ù„ÙƒØ§Ù…Ù„

```python
# 1. Planner ÙŠØ­Ù„Ù„ Ø§Ù„Ø·Ù„Ø¨
planner = PlannerAgent()
project_plan = await planner.analyze_user_request(
    "Create a Flask API with user authentication"
)

# 2. CodeExecutor ÙŠÙ†ÙØ° Ø§Ù„Ù…Ù‡Ø§Ù…
code_executor = CodeExecutorAgent()

for task in project_plan['tasks']:
    # ØªÙˆÙ„ÙŠØ¯ Ø§Ù„ÙƒÙˆØ¯
    request = CodeGenerationRequest(
        task=task,
        project_context=project_plan
    )
    
    result = await code_executor.generate_code(request)
    
    if result.success:
        # ÙƒØªØ§Ø¨Ø© Ø§Ù„Ù…Ù„ÙØ§Øª
        for artifact in result.artifacts:
            file_path = Path(artifact.file_path)
            file_path.write_text(artifact.content)
        
        # ØªØ«Ø¨ÙŠØª Ø§Ù„Ø§Ø¹ØªÙ…Ø§Ø¯ÙŠØ§Øª
        if result.dependencies:
            await code_executor.install_dependencies(
                result.dependencies,
                auto_install=True
            )

# 3. QA Agent ÙŠØ®ØªØ¨Ø± Ø§Ù„ÙƒÙˆØ¯ (Phase 3.3)
```

---

## ðŸ§ª Ø§Ù„Ø§Ø®ØªØ¨Ø§Ø±Ø§Øª

### ØªØ´ØºÙŠÙ„ Ø§Ù„Ø§Ø®ØªØ¨Ø§Ø±Ø§Øª

```bash
# Ø¬Ù…ÙŠØ¹ Ø§Ù„Ø§Ø®ØªØ¨Ø§Ø±Ø§Øª
cd tests
python -m pytest unit/test_code_generator.py unit/test_dependency_manager.py -v

# Ø§Ø®ØªØ¨Ø§Ø± Ù…Ø­Ø¯Ø¯
python -m pytest unit/test_code_generator.py::TestCodeGenerator::test_generate_code_python -v

# Ù…Ø¹ Ø§Ù„ØªØºØ·ÙŠØ©
python -m pytest --cov=dev_platform.tools.code_generator --cov-report=html
```

### Ø§Ù„Ø¥Ø­ØµØ§Ø¦ÙŠØ§Øª

- **Unit Tests:** 37 passed
- **Coverage:**
  - code_generator.py: 89%
  - dependency_manager.py: 91%
- **LSP Errors:** 0
- **Code Lines:** 793 (CodeExecutorAgent)

---

## âš™ï¸ Best Practices

### 1. Ø§Ù„ØªØ­Ù‚Ù‚ Ù…Ù† Ø§Ù„Ù…Ø¯Ø®Ù„Ø§Øª

```python
# Ø¯Ø§Ø¦Ù…Ø§Ù‹ ØªØ­Ù‚Ù‚ Ù…Ù† Ø§Ù„Ù…Ø¯Ø®Ù„Ø§Øª
if not task.title and not task.description:
    raise ValueError("Task must have title or description")
```

### 2. Ù…Ø¹Ø§Ù„Ø¬Ø© Ø§Ù„Ø£Ø®Ø·Ø§Ø¡

```python
try:
    result = await code_executor.generate_code(request)
except Exception as e:
    logger.error(f"Code generation failed: {e}")
    # Fallback Ø£Ùˆ retry
```

### 3. Ø§Ø³ØªØ®Ø¯Ø§Ù… Backup

```python
# Ø¯Ø§Ø¦Ù…Ø§Ù‹ Ø§Ø³ØªØ®Ø¯Ù… backup Ø¹Ù†Ø¯ Ø§Ù„ÙƒØªØ§Ø¨Ø© ÙÙˆÙ‚ Ù…Ù„ÙØ§Øª
await code_executor.create_file_structure(
    structure=structure,
    overwrite=True,
    backup=True  # âœ“ Ù…Ù‡Ù…!
)
```

### 4. Ø§Ù„ØªØ«Ø¨ÙŠØª Ø§Ù„ØªØ¯Ø±ÙŠØ¬ÙŠ

```python
# Ø§Ø¨Ø¯Ø£ Ø¨Ø§Ù„Ù€ configØŒ Ø«Ù… Ø«Ø¨Ù‘Øª Ø¹Ù†Ø¯ Ø§Ù„Ø­Ø§Ø¬Ø©
await code_executor.install_dependencies(
    dependencies=deps,
    auto_install=False  # config ÙÙ‚Ø·
)

# Ø¨Ø¹Ø¯ Ø§Ù„ØªØ£ÙƒØ¯ØŒ Ø«Ø¨Ù‘Øª
await code_executor.install_dependencies(
    dependencies=deps,
    auto_install=True  # ØªØ«Ø¨ÙŠØª ÙØ¹Ù„ÙŠ
)
```

---

## ðŸš¨ Ø§Ù„Ø£Ø®Ø·Ø§Ø¡ Ø§Ù„Ø´Ø§Ø¦Ø¹Ø©

### 1. Ø¹Ø¯Ù… Ø§Ù„ØªØ­Ù‚Ù‚ Ù…Ù† success

```python
# âœ— Ø®Ø·Ø£
result = await code_executor.generate_code(request)
print(result.artifacts[0].content)  # Ù‚Ø¯ ÙŠÙØ´Ù„!

# âœ“ ØµØ­ÙŠØ­
result = await code_executor.generate_code(request)
if result.success:
    for artifact in result.artifacts:
        print(artifact.content)
else:
    print(f"Errors: {result.errors}")
```

### 2. ØªØ¬Ø§Ù‡Ù„ Conflicts

```python
# âœ— Ø®Ø·Ø£
result = await code_executor.create_file_structure(structure)
# ÙŠØªØ®Ø·Ù‰ Ø§Ù„Ù…Ù„ÙØ§Øª Ø§Ù„Ù…ÙˆØ¬ÙˆØ¯Ø© Ø¨Ø¯ÙˆÙ† ØªØ­Ø°ÙŠØ±

# âœ“ ØµØ­ÙŠØ­
result = await code_executor.create_file_structure(
    structure,
    overwrite=True,
    backup=True
)
if result['conflicts_count'] > 0:
    print(f"âš  Overwritten {result['conflicts_count']} files")
```

### 3. Ø¹Ø¯Ù… Ø§Ø³ØªØ®Ø¯Ø§Ù… Rollback

```python
# âœ“ Rollback ØªÙ„Ù‚Ø§Ø¦ÙŠ Ø¹Ù†Ø¯ Ø§Ù„Ø£Ø®Ø·Ø§Ø¡
# Ù„Ø§ Ø¯Ø§Ø¹ÙŠ Ù„Ù„Ù‚Ù„Ù‚ - Ø§Ù„Ù†Ø¸Ø§Ù… ÙŠØªØ±Ø§Ø¬Ø¹ ØªÙ„Ù‚Ø§Ø¦ÙŠØ§Ù‹
```

---

## ðŸ“ˆ Ø§Ù„Ø£Ø¯Ø§Ø¡ ÙˆØ§Ù„ØªØ­Ø³ÙŠÙ†Ø§Øª

### Metrics

| Metric | Value |
|--------|-------|
| Code Generation Time | ~2-5s per file |
| File Creation Time | <1s for 10 files |
| Package Installation | Depends on packages |
| Error Fix Time | ~3-8s (with retries) |

### Ø§Ù„ØªØ­Ø³ÙŠÙ†Ø§Øª Ø§Ù„Ù…Ø³ØªÙ‚Ø¨Ù„ÙŠØ©

1. **Caching:** ØªØ®Ø²ÙŠÙ† Ø§Ù„Ø£ÙƒÙˆØ§Ø¯ Ø§Ù„Ù…ÙˆÙ„Ø¯Ø© Ø§Ù„Ù…Ø´Ø§Ø¨Ù‡Ø©
2. **Parallel generation:** ØªÙˆÙ„ÙŠØ¯ Ù…Ù„ÙØ§Øª Ù…ØªØ¹Ø¯Ø¯Ø© Ø¨Ø§Ù„ØªÙˆØ§Ø²ÙŠ
3. **Template optimization:** templates Ù…Ø­Ø³Ù‘Ù†Ø© Ù„Ù„Ø³Ø±Ø¹Ø©
4. **Diff-based fixes:** Ø¥ØµÙ„Ø§Ø­Ø§Øª Ø£Ø³Ø±Ø¹ Ø¨Ù†Ø§Ø¡Ù‹ Ø¹Ù„Ù‰ diffs

---

## ðŸ”— Ø§Ù„Ù…ÙˆØ§Ø±Ø¯ Ø§Ù„Ø¥Ø¶Ø§ÙÙŠØ©

- [PHASE_3_ROADMAP.md](../PHASE_3_ROADMAP.md) - Ø®Ø§Ø±Ø·Ø© Ø§Ù„Ø·Ø±ÙŠÙ‚ Ø§Ù„ÙƒØ§Ù…Ù„Ø©
- [PLANNER_AGENT_GUIDE.md](./PLANNER_AGENT_GUIDE.md) - Ø¯Ù„ÙŠÙ„ Planner Agent
- [schemas.py](../dev_platform/agents/schemas.py) - Ø¬Ù…ÙŠØ¹ Schemas
- [Tests](../tests/unit/) - Ø§Ø®ØªØ¨Ø§Ø±Ø§Øª Ø´Ø§Ù…Ù„Ø©

---

## ðŸ“ Ø§Ù„Ù…Ù„Ø®Øµ

**Code Executor Agent** Ù‡Ùˆ Ù…Ø­Ø±Ùƒ ØªÙˆÙ„ÙŠØ¯ Ø§Ù„Ø£ÙƒÙˆØ§Ø¯ ÙÙŠ Ø§Ù„Ù…Ù†ØµØ©. ÙŠØªÙƒØ§Ù…Ù„ Ù…Ø¹ Planner Ù„ØªÙ†ÙÙŠØ° Ø§Ù„Ù…Ù‡Ø§Ù… Ø§Ù„Ø¨Ø±Ù…Ø¬ÙŠØ© Ø¨ÙƒÙØ§Ø¡Ø© ÙˆØ¬ÙˆØ¯Ø© Ø¹Ø§Ù„ÙŠØ©.

**Ø§Ù„Ø¥Ù†Ø¬Ø§Ø²Ø§Øª (Phase 3.2):**
- âœ… 4 Async methods Ø¬Ø¯ÙŠØ¯Ø©
- âœ… Validation Ø´Ø§Ù…Ù„
- âœ… Conflict handling + Rollback
- âœ… Package installation Ø­Ù‚ÙŠÙ‚ÙŠ
- âœ… 37 Ø§Ø®ØªØ¨Ø§Ø± Ù†Ø§Ø¬Ø­
- âœ… 0 LSP errors
- âœ… 89-91% code coverage

**Ø§Ù„Ø®Ø·ÙˆØ© Ø§Ù„ØªØ§Ù„ÙŠØ©:** Phase 3.3 - QA/Test Agent Development

---

**Ø§Ù„Ø¥ØµØ¯Ø§Ø±:** 1.0  
**Ø¢Ø®Ø± ØªØ­Ø¯ÙŠØ«:** 15 Ù†ÙˆÙÙ…Ø¨Ø± 2025
