/**
 * SCSS Mixins - AI Multi-Agent Platform
 * مجموعة Mixins قابلة لإعادة الاستخدام
 * 
 * Categories:
 * - Responsive (Media Queries)
 * - Flex & Grid Layouts
 * - Transitions & Animations
 * - Shadows & Borders
 * - Typography
 * - RTL Support
 * 
 * Version: 1.0.0
 * Last Updated: 2025-11-16
 */

@import 'variables';

/* ============================================
   RESPONSIVE MIXINS
   أدوات الاستجابة للأجهزة
   ============================================ */

/**
 * Responsive breakpoint mixin (Mobile-First)
 * @param {string} $breakpoint - Breakpoint name (sm, md, lg, xl, xxl)
 * @example
 *   .element {
 *     @include respond-to(md) {
 *       font-size: 18px;
 *     }
 *   }
 */
@mixin respond-to($breakpoint) {
  @if map-has-key($breakpoints, $breakpoint) {
    $value: map-get($breakpoints, $breakpoint);
    
    @if $value == 0 {
      @content;
    } @else {
      @media (min-width: $value) {
        @content;
      }
    }
  } @else {
    @warn "Unknown breakpoint: #{$breakpoint}. Available: #{map-keys($breakpoints)}";
  }
}

/**
 * Max-width responsive mixin
 * @param {string} $breakpoint - Breakpoint name
 */
@mixin respond-to-max($breakpoint) {
  @if map-has-key($breakpoints, $breakpoint) {
    $value: map-get($breakpoints, $breakpoint);
    
    @media (max-width: $value - 1px) {
      @content;
    }
  }
}

/**
 * Between breakpoints
 * @param {string} $min - Minimum breakpoint
 * @param {string} $max - Maximum breakpoint
 */
@mixin respond-between($min, $max) {
  $min-value: map-get($breakpoints, $min);
  $max-value: map-get($breakpoints, $max);
  
  @media (min-width: $min-value) and (max-width: $max-value - 1px) {
    @content;
  }
}

/* ============================================
   FLEX & GRID LAYOUT MIXINS
   أدوات التخطيط
   ============================================ */

/**
 * Flexbox centering
 */
@mixin flex-center {
  display: flex;
  justify-content: center;
  align-items: center;
}

/**
 * Flexbox column centering
 */
@mixin flex-column-center {
  display: flex;
  flex-direction: column;
  justify-content: center;
  align-items: center;
}

/**
 * Flexbox with gap
 * @param {string} $gap - Gap size (default: $spacing-4)
 * @param {string} $direction - Flex direction (default: row)
 */
@mixin flex-gap($gap: $spacing-4, $direction: row) {
  display: flex;
  flex-direction: $direction;
  gap: $gap;
}

/**
 * Grid layout with auto-fit columns
 * @param {string} $min-width - Minimum column width (default: 250px)
 * @param {string} $gap - Gap between items (default: $spacing-4)
 */
@mixin grid-auto-fit($min-width: 250px, $gap: $spacing-4) {
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax($min-width, 1fr));
  gap: $gap;
}

/**
 * Grid with fixed columns
 * @param {number} $columns - Number of columns
 * @param {string} $gap - Gap between items (default: $spacing-4)
 */
@mixin grid-columns($columns, $gap: $spacing-4) {
  display: grid;
  grid-template-columns: repeat($columns, 1fr);
  gap: $gap;
}

/* ============================================
   TRANSITIONS & ANIMATIONS
   الانتقالات والحركات
   ============================================ */

/**
 * Standard transition
 * @param {string} $property - CSS property to transition (default: all)
 * @param {string} $duration - Duration (default: $transition-base)
 * @param {string} $easing - Easing function (default: $easing-ease-in-out)
 */
@mixin transition($property: all, $duration: $transition-base, $easing: $easing-ease-in-out) {
  transition: $property $duration $easing;
}

/**
 * Multiple transitions
 * @param {list} $transitions - List of transitions
 */
@mixin transitions($transitions...) {
  transition: $transitions;
}

/**
 * Hover effect with transition
 * @param {string} $property - Property to change
 * @param {string} $value - Value on hover
 */
@mixin hover-effect($property, $value) {
  @include transition($property);
  
  &:hover {
    #{$property}: $value;
  }
}

/* ============================================
   SHADOWS & BORDERS
   الظلال والحدود
   ============================================ */

/**
 * Apply shadow elevation
 * @param {number} $level - Shadow level (1-4)
 */
@mixin shadow($level: 1) {
  @if $level == 1 {
    box-shadow: $shadow-1;
  } @else if $level == 2 {
    box-shadow: $shadow-2;
  } @else if $level == 3 {
    box-shadow: $shadow-3;
  } @else if $level == 4 {
    box-shadow: $shadow-4;
  } @else {
    @warn "Shadow level must be 1-4. Received: #{$level}";
  }
}

/**
 * Border radius mixin
 * @param {string} $size - Size (sm, base, lg, xl, full)
 */
@mixin rounded($size: base) {
  @if $size == 'sm' {
    border-radius: $border-radius-sm;
  } @else if $size == 'base' {
    border-radius: $border-radius-base;
  } @else if $size == 'lg' {
    border-radius: $border-radius-lg;
  } @else if $size == 'xl' {
    border-radius: $border-radius-xl;
  } @else if $size == 'full' {
    border-radius: $border-radius-full;
  } @else {
    border-radius: $size;
  }
}

/**
 * Border with color
 * @param {string} $width - Border width (default: $border-width-thin)
 * @param {string} $color - Border color (default: $color-border-default)
 */
@mixin border($width: $border-width-thin, $color: $color-border-default) {
  border: $width solid $color;
}

/* ============================================
   TYPOGRAPHY MIXINS
   أدوات الخطوط
   ============================================ */

/**
 * Font size with responsive scaling
 * @param {string} $size - Font size name (xs, sm, base, lg, xl, 2xl, 3xl, 4xl)
 */
@mixin font-size($size) {
  @if $size == 'xs' {
    font-size: $font-size-xs;
  } @else if $size == 'sm' {
    font-size: $font-size-sm;
  } @else if $size == 'base' {
    font-size: $font-size-base;
  } @else if $size == 'lg' {
    font-size: $font-size-lg;
  } @else if $size == 'xl' {
    font-size: $font-size-xl;
  } @else if $size == '2xl' {
    font-size: $font-size-2xl;
  } @else if $size == '3xl' {
    font-size: $font-size-3xl;
  } @else if $size == '4xl' {
    font-size: $font-size-4xl;
  }
}

/**
 * Text truncate (single line)
 */
@mixin text-truncate {
  overflow: hidden;
  text-overflow: ellipsis;
  white-space: nowrap;
}

/**
 * Text clamp (multi-line)
 * @param {number} $lines - Number of lines
 */
@mixin text-clamp($lines: 2) {
  display: -webkit-box;
  -webkit-line-clamp: $lines;
  -webkit-box-orient: vertical;
  overflow: hidden;
  text-overflow: ellipsis;
}

/**
 * Heading styles
 * @param {number} $level - Heading level (1-6)
 */
@mixin heading($level) {
  font-family: $font-family-base;
  font-weight: $font-weight-semibold;
  line-height: $line-height-tight;
  
  @if $level == 1 {
    @include font-size('3xl');
  } @else if $level == 2 {
    @include font-size('2xl');
  } @else if $level == 3 {
    @include font-size('xl');
  } @else if $level == 4 {
    @include font-size('lg');
  } @else if $level == 5 {
    @include font-size('base');
  } @else if $level == 6 {
    @include font-size('sm');
  }
}

/* ============================================
   RTL SUPPORT MIXINS
   دعم اللغة العربية (RTL)
   ============================================ */

/**
 * RTL-aware padding
 * @param {string} $start - Padding start (left in LTR, right in RTL)
 * @param {string} $end - Padding end (right in LTR, left in RTL)
 */
@mixin padding-inline($start, $end: $start) {
  padding-inline-start: $start;
  padding-inline-end: $end;
}

/**
 * RTL-aware margin
 * @param {string} $start - Margin start
 * @param {string} $end - Margin end
 */
@mixin margin-inline($start, $end: $start) {
  margin-inline-start: $start;
  margin-inline-end: $end;
}

/**
 * RTL-specific styles
 */
@mixin rtl {
  [dir='rtl'] & {
    @content;
  }
}

/**
 * LTR-specific styles
 */
@mixin ltr {
  [dir='ltr'] & {
    @content;
  }
}

/* ============================================
   UTILITY MIXINS
   أدوات عامة
   ============================================ */

/**
 * Visually hidden (for screen readers only)
 */
@mixin visually-hidden {
  position: absolute;
  width: 1px;
  height: 1px;
  padding: 0;
  margin: -1px;
  overflow: hidden;
  clip: rect(0, 0, 0, 0);
  white-space: nowrap;
  border: 0;
}

/**
 * Reset list styles
 */
@mixin reset-list {
  margin: 0;
  padding: 0;
  list-style: none;
}

/**
 * Reset button styles
 */
@mixin reset-button {
  background: none;
  border: none;
  padding: 0;
  margin: 0;
  font: inherit;
  color: inherit;
  cursor: pointer;
}

/**
 * Aspect ratio box
 * @param {number} $width - Width ratio
 * @param {number} $height - Height ratio
 */
@mixin aspect-ratio($width, $height) {
  aspect-ratio: #{$width} / #{$height};
}

/**
 * Clearfix for floats
 */
@mixin clearfix {
  &::after {
    content: '';
    display: table;
    clear: both;
  }
}
